 INFO [2011-04-05 21:07:07,787] - Starting up
 INFO [2011-04-05 21:07:08,886] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:07:08,887] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:07:08,887] - Bytecode provider name : lcg
 INFO [2011-04-05 21:07:08,888] - Using reflection optimizer
 INFO [2011-04-05 21:07:08,973] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:07:08,991] - checking mappings queue
 INFO [2011-04-05 21:07:08,992] - processing one-to-many association mappings
 INFO [2011-04-05 21:07:08,992] - processing one-to-one association property references
 INFO [2011-04-05 21:07:08,992] - processing foreign key constraints
 INFO [2011-04-05 21:07:08,992] - processing filters (second pass)
 INFO [2011-04-05 21:07:08,999] - checking mappings queue
 INFO [2011-04-05 21:07:08,999] - processing one-to-many association mappings
 INFO [2011-04-05 21:07:08,999] - processing one-to-one association property references
 INFO [2011-04-05 21:07:08,999] - processing foreign key constraints
 INFO [2011-04-05 21:07:08,999] - processing filters (second pass)
 INFO [2011-04-05 21:07:09,000] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:07:09,000] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:07:09,002] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:07:09,011] - Closing connection
DEBUG [2011-04-05 21:07:09,011] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:07:09,012] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:07:09,014] - Running hbm2ddl schema update
 INFO [2011-04-05 21:07:09,014] - fetching database metadata
 INFO [2011-04-05 21:07:09,014] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:07:09,014] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:07:09,015] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:07:09,016] - updating schema
 INFO [2011-04-05 21:07:09,020] - checking mappings queue
 INFO [2011-04-05 21:07:09,020] - processing one-to-many association mappings
 INFO [2011-04-05 21:07:09,020] - processing one-to-one association property references
 INFO [2011-04-05 21:07:09,020] - processing foreign key constraints
 INFO [2011-04-05 21:07:09,020] - processing filters (second pass)
 INFO [2011-04-05 21:07:09,020] - schema update complete
DEBUG [2011-04-05 21:07:09,020] - Closing connection
 INFO [2011-04-05 21:07:09,021] - checking mappings queue
 INFO [2011-04-05 21:07:09,021] - processing one-to-many association mappings
 INFO [2011-04-05 21:07:09,021] - processing one-to-one association property references
 INFO [2011-04-05 21:07:09,021] - processing foreign key constraints
 INFO [2011-04-05 21:07:09,021] - processing filters (second pass)
 INFO [2011-04-05 21:07:09,035] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:07:09,058] - Using dialect defined converter
 INFO [2011-04-05 21:07:09,058] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:07:09,058] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:07:09,058] - Configuring ConnectionProvider
 INFO [2011-04-05 21:07:09,059] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:07:09,059] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:07:09,059] - Connection release mode: auto
 INFO [2011-04-05 21:07:09,059] - Default batch fetch size: 1
 INFO [2011-04-05 21:07:09,059] - Statistics: disabled
 INFO [2011-04-05 21:07:09,059] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:07:09,059] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:07:09,061] - Query language substitutions: {}
 INFO [2011-04-05 21:07:09,061] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:07:09,061] - Wrap result sets: disabled
 INFO [2011-04-05 21:07:09,062] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:07:09,062] - Default entity-mode: Poco
 INFO [2011-04-05 21:07:09,062] - Named query checking : enabled
 INFO [2011-04-05 21:07:09,080] - building session factory
DEBUG [2011-04-05 21:07:09,081] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:07:09,081] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:07:09,082] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:07:09,091] - Closing connection
DEBUG [2011-04-05 21:07:09,093] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:07:09,093] - registered: a40c6c9d56364b669ae4d551a325fafa(unnamed)
 INFO [2011-04-05 21:07:09,094] - no name configured
DEBUG [2011-04-05 21:07:09,094] - Instantiated session factory
DEBUG [2011-04-05 21:07:09,098] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:07:09,098] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:07:09,110] - [session-id=d812917c-24db-4fe8-8005-4ca73c07cb75] opened session at timestamp: 634376344290, for session factory: [/a40c6c9d56364b669ae4d551a325fafa]
DEBUG [2011-04-05 21:07:09,951] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:07:10,234] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:07:10,236] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:07:10,237] - named parameters: {}
DEBUG [2011-04-05 21:07:10,238] - after autocommit
DEBUG [2011-04-05 21:07:10,238] - transaction completion
DEBUG [2011-04-05 21:07:10,239] - aggressively releasing database connection
 INFO [2011-04-05 21:34:30,741] - Starting up
 INFO [2011-04-05 21:34:31,835] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:34:31,836] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:34:31,837] - Bytecode provider name : lcg
 INFO [2011-04-05 21:34:31,837] - Using reflection optimizer
 INFO [2011-04-05 21:35:16,817] - Starting up
 INFO [2011-04-05 21:35:17,858] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:35:17,859] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:35:17,859] - Bytecode provider name : lcg
 INFO [2011-04-05 21:35:17,860] - Using reflection optimizer
 INFO [2011-04-05 21:35:17,945] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:35:17,963] - checking mappings queue
 INFO [2011-04-05 21:35:17,963] - processing one-to-many association mappings
 INFO [2011-04-05 21:35:17,963] - processing one-to-one association property references
 INFO [2011-04-05 21:35:17,963] - processing foreign key constraints
 INFO [2011-04-05 21:35:17,963] - processing filters (second pass)
 INFO [2011-04-05 21:35:17,969] - checking mappings queue
 INFO [2011-04-05 21:35:17,969] - processing one-to-many association mappings
 INFO [2011-04-05 21:35:17,969] - processing one-to-one association property references
 INFO [2011-04-05 21:35:17,969] - processing foreign key constraints
 INFO [2011-04-05 21:35:17,969] - processing filters (second pass)
 INFO [2011-04-05 21:35:17,970] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:35:17,971] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:35:17,972] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:35:17,980] - Closing connection
DEBUG [2011-04-05 21:35:17,980] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:35:17,982] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:35:17,983] - Running hbm2ddl schema update
 INFO [2011-04-05 21:35:17,983] - fetching database metadata
 INFO [2011-04-05 21:35:17,984] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:35:17,984] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:35:17,984] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:35:17,985] - updating schema
 INFO [2011-04-05 21:35:17,989] - checking mappings queue
 INFO [2011-04-05 21:35:17,989] - processing one-to-many association mappings
 INFO [2011-04-05 21:35:17,989] - processing one-to-one association property references
 INFO [2011-04-05 21:35:17,989] - processing foreign key constraints
 INFO [2011-04-05 21:35:17,989] - processing filters (second pass)
 INFO [2011-04-05 21:35:17,989] - schema update complete
DEBUG [2011-04-05 21:35:17,989] - Closing connection
 INFO [2011-04-05 21:35:17,990] - checking mappings queue
 INFO [2011-04-05 21:35:17,990] - processing one-to-many association mappings
 INFO [2011-04-05 21:35:17,990] - processing one-to-one association property references
 INFO [2011-04-05 21:35:17,990] - processing foreign key constraints
 INFO [2011-04-05 21:35:17,990] - processing filters (second pass)
 INFO [2011-04-05 21:35:18,004] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:35:18,027] - Using dialect defined converter
 INFO [2011-04-05 21:35:18,027] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:35:18,028] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:35:18,028] - Configuring ConnectionProvider
 INFO [2011-04-05 21:35:18,028] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:35:18,028] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:35:18,028] - Connection release mode: auto
 INFO [2011-04-05 21:35:18,028] - Default batch fetch size: 1
 INFO [2011-04-05 21:35:18,028] - Statistics: disabled
 INFO [2011-04-05 21:35:18,028] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:35:18,029] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:35:18,030] - Query language substitutions: {}
 INFO [2011-04-05 21:35:18,031] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:35:18,031] - Wrap result sets: disabled
 INFO [2011-04-05 21:35:18,032] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:35:18,032] - Default entity-mode: Poco
 INFO [2011-04-05 21:35:18,032] - Named query checking : enabled
 INFO [2011-04-05 21:35:18,051] - building session factory
DEBUG [2011-04-05 21:35:18,051] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:35:18,052] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:35:18,053] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:35:18,062] - Closing connection
DEBUG [2011-04-05 21:35:18,065] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:35:18,065] - registered: 1377d827222e4fa3a51ff69579142b79(unnamed)
 INFO [2011-04-05 21:35:18,065] - no name configured
DEBUG [2011-04-05 21:35:18,065] - Instantiated session factory
DEBUG [2011-04-05 21:35:18,070] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:35:18,070] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:35:18,082] - [session-id=726926f0-6898-43fc-b6f3-9badfb103e83] opened session at timestamp: 634376361180, for session factory: [/1377d827222e4fa3a51ff69579142b79]
DEBUG [2011-04-05 21:35:18,741] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:35:18,967] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:35:18,969] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:35:18,970] - named parameters: {}
DEBUG [2011-04-05 21:35:18,971] - after autocommit
DEBUG [2011-04-05 21:35:18,971] - transaction completion
DEBUG [2011-04-05 21:35:18,972] - aggressively releasing database connection
 INFO [2011-04-05 21:36:22,327] - Starting up
 INFO [2011-04-05 21:36:23,366] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:36:23,367] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:36:23,367] - Bytecode provider name : lcg
 INFO [2011-04-05 21:36:23,368] - Using reflection optimizer
 INFO [2011-04-05 21:36:23,457] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:36:23,474] - checking mappings queue
 INFO [2011-04-05 21:36:23,475] - processing one-to-many association mappings
 INFO [2011-04-05 21:36:23,475] - processing one-to-one association property references
 INFO [2011-04-05 21:36:23,475] - processing foreign key constraints
 INFO [2011-04-05 21:36:23,475] - processing filters (second pass)
 INFO [2011-04-05 21:36:23,481] - checking mappings queue
 INFO [2011-04-05 21:36:23,481] - processing one-to-many association mappings
 INFO [2011-04-05 21:36:23,481] - processing one-to-one association property references
 INFO [2011-04-05 21:36:23,481] - processing foreign key constraints
 INFO [2011-04-05 21:36:23,481] - processing filters (second pass)
 INFO [2011-04-05 21:36:23,482] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:36:23,482] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:36:23,484] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:36:23,492] - Closing connection
DEBUG [2011-04-05 21:36:23,492] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:36:23,493] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:36:23,495] - Running hbm2ddl schema update
 INFO [2011-04-05 21:36:23,495] - fetching database metadata
 INFO [2011-04-05 21:36:23,495] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:36:23,495] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:36:23,495] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:36:23,497] - updating schema
 INFO [2011-04-05 21:36:23,501] - checking mappings queue
 INFO [2011-04-05 21:36:23,501] - processing one-to-many association mappings
 INFO [2011-04-05 21:36:23,501] - processing one-to-one association property references
 INFO [2011-04-05 21:36:23,501] - processing foreign key constraints
 INFO [2011-04-05 21:36:23,501] - processing filters (second pass)
 INFO [2011-04-05 21:36:23,501] - schema update complete
DEBUG [2011-04-05 21:36:23,501] - Closing connection
 INFO [2011-04-05 21:36:23,502] - checking mappings queue
 INFO [2011-04-05 21:36:23,502] - processing one-to-many association mappings
 INFO [2011-04-05 21:36:23,502] - processing one-to-one association property references
 INFO [2011-04-05 21:36:23,502] - processing foreign key constraints
 INFO [2011-04-05 21:36:23,502] - processing filters (second pass)
 INFO [2011-04-05 21:36:23,515] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:36:23,538] - Using dialect defined converter
 INFO [2011-04-05 21:36:23,538] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:36:23,538] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:36:23,539] - Configuring ConnectionProvider
 INFO [2011-04-05 21:36:23,539] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:36:23,539] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:36:23,539] - Connection release mode: auto
 INFO [2011-04-05 21:36:23,539] - Default batch fetch size: 1
 INFO [2011-04-05 21:36:23,539] - Statistics: disabled
 INFO [2011-04-05 21:36:23,539] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:36:23,540] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:36:23,541] - Query language substitutions: {}
 INFO [2011-04-05 21:36:23,542] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:36:23,542] - Wrap result sets: disabled
 INFO [2011-04-05 21:36:23,542] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:36:23,543] - Default entity-mode: Poco
 INFO [2011-04-05 21:36:23,543] - Named query checking : enabled
 INFO [2011-04-05 21:36:23,561] - building session factory
DEBUG [2011-04-05 21:36:23,562] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:36:23,562] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:36:23,563] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:36:23,572] - Closing connection
DEBUG [2011-04-05 21:36:23,574] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:36:23,575] - registered: c96d471232d4424586626f73352b5999(unnamed)
 INFO [2011-04-05 21:36:23,575] - no name configured
DEBUG [2011-04-05 21:36:23,575] - Instantiated session factory
DEBUG [2011-04-05 21:36:23,580] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:36:23,580] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:36:23,592] - [session-id=47558960-2755-4b5d-b837-a81d9d22ed39] opened session at timestamp: 634376361835, for session factory: [/c96d471232d4424586626f73352b5999]
DEBUG [2011-04-05 21:36:24,313] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:36:24,528] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:36:24,531] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:36:24,532] - named parameters: {}
DEBUG [2011-04-05 21:36:24,532] - after autocommit
DEBUG [2011-04-05 21:36:24,533] - transaction completion
DEBUG [2011-04-05 21:36:24,534] - aggressively releasing database connection
DEBUG [2011-04-05 21:36:33,519] - [session-id=3421d60c-0269-4dbb-beef-c91b4e075dbd] opened session at timestamp: 634376361935, for session factory: [/c96d471232d4424586626f73352b5999]
DEBUG [2011-04-05 21:36:33,520] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:36:33,520] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:36:33,521] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:36:33,521] - named parameters: {}
DEBUG [2011-04-05 21:36:33,521] - after autocommit
DEBUG [2011-04-05 21:36:33,521] - transaction completion
DEBUG [2011-04-05 21:36:33,521] - aggressively releasing database connection
DEBUG [2011-04-05 21:38:13,365] - [session-id=6af39c50-cb87-4cf7-82ee-37d193d69502] opened session at timestamp: 634376362933, for session factory: [/c96d471232d4424586626f73352b5999]
DEBUG [2011-04-05 21:38:13,368] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:38:13,368] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:38:13,368] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:38:13,368] - named parameters: {}
DEBUG [2011-04-05 21:38:13,368] - after autocommit
DEBUG [2011-04-05 21:38:13,368] - transaction completion
DEBUG [2011-04-05 21:38:13,368] - aggressively releasing database connection
DEBUG [2011-04-05 21:38:13,426] - [session-id=3421d60c-0269-4dbb-beef-c91b4e075dbd] executing real Dispose(False)
DEBUG [2011-04-05 21:38:13,426] - [session-id=6af39c50-cb87-4cf7-82ee-37d193d69502] executing real Dispose(False)
 INFO [2011-04-05 21:38:26,286] - Starting up
 INFO [2011-04-05 21:41:01,926] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:41:01,926] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:41:01,927] - Bytecode provider name : lcg
 INFO [2011-04-05 21:41:01,928] - Using reflection optimizer
 INFO [2011-04-05 21:41:23,564] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:41:23,585] - checking mappings queue
 INFO [2011-04-05 21:41:23,585] - processing one-to-many association mappings
 INFO [2011-04-05 21:41:23,586] - processing one-to-one association property references
 INFO [2011-04-05 21:41:23,586] - processing foreign key constraints
 INFO [2011-04-05 21:41:23,586] - processing filters (second pass)
 INFO [2011-04-05 21:41:23,590] - checking mappings queue
 INFO [2011-04-05 21:41:23,590] - processing one-to-many association mappings
 INFO [2011-04-05 21:41:23,590] - processing one-to-one association property references
 INFO [2011-04-05 21:41:23,590] - processing foreign key constraints
 INFO [2011-04-05 21:41:23,590] - processing filters (second pass)
 INFO [2011-04-05 21:41:23,590] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:41:23,591] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:41:23,592] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:41:23,600] - Closing connection
DEBUG [2011-04-05 21:41:23,600] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:41:23,601] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:41:23,602] - Running hbm2ddl schema update
 INFO [2011-04-05 21:41:23,602] - fetching database metadata
 INFO [2011-04-05 21:41:23,603] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:41:23,603] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:41:23,603] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:41:23,605] - updating schema
 INFO [2011-04-05 21:41:23,606] - checking mappings queue
 INFO [2011-04-05 21:41:23,606] - processing one-to-many association mappings
 INFO [2011-04-05 21:41:23,606] - processing one-to-one association property references
 INFO [2011-04-05 21:41:23,606] - processing foreign key constraints
 INFO [2011-04-05 21:41:23,606] - processing filters (second pass)
 INFO [2011-04-05 21:41:23,606] - schema update complete
DEBUG [2011-04-05 21:41:23,606] - Closing connection
 INFO [2011-04-05 21:41:23,607] - checking mappings queue
 INFO [2011-04-05 21:41:23,607] - processing one-to-many association mappings
 INFO [2011-04-05 21:41:23,607] - processing one-to-one association property references
 INFO [2011-04-05 21:41:23,607] - processing foreign key constraints
 INFO [2011-04-05 21:41:23,607] - processing filters (second pass)
 INFO [2011-04-05 21:41:23,613] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:41:23,632] - Using dialect defined converter
 INFO [2011-04-05 21:41:23,632] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:41:23,632] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:41:23,632] - Configuring ConnectionProvider
 INFO [2011-04-05 21:41:23,632] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:41:23,633] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:41:23,633] - Connection release mode: auto
 INFO [2011-04-05 21:41:23,633] - Default batch fetch size: 1
 INFO [2011-04-05 21:41:23,633] - Statistics: disabled
 INFO [2011-04-05 21:41:23,633] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:41:23,634] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:41:23,635] - Query language substitutions: {}
 INFO [2011-04-05 21:41:23,635] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:41:23,636] - Wrap result sets: disabled
 INFO [2011-04-05 21:41:23,636] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:41:23,637] - Default entity-mode: Poco
 INFO [2011-04-05 21:41:23,637] - Named query checking : enabled
 INFO [2011-04-05 21:41:23,652] - building session factory
DEBUG [2011-04-05 21:41:23,653] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:41:23,653] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:41:23,654] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:41:23,663] - Closing connection
DEBUG [2011-04-05 21:41:23,665] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:41:23,666] - registered: 657e7e60cf92464ea1ed85afeba5ecec(unnamed)
 INFO [2011-04-05 21:41:23,666] - no name configured
DEBUG [2011-04-05 21:41:23,666] - Instantiated session factory
DEBUG [2011-04-05 21:41:23,669] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:41:23,669] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:41:23,682] - [session-id=1ed47e1b-0e77-451b-b59e-bfde47cd07e0] opened session at timestamp: 634376364836, for session factory: [/657e7e60cf92464ea1ed85afeba5ecec]
DEBUG [2011-04-05 21:41:24,351] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:41:24,567] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:41:24,569] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:41:24,570] - named parameters: {}
DEBUG [2011-04-05 21:41:24,571] - after autocommit
DEBUG [2011-04-05 21:41:24,572] - transaction completion
DEBUG [2011-04-05 21:41:24,572] - aggressively releasing database connection
 INFO [2011-04-05 21:41:33,824] - Starting up
 INFO [2011-04-05 21:41:42,304] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:41:42,304] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:41:42,305] - Bytecode provider name : lcg
 INFO [2011-04-05 21:41:42,306] - Using reflection optimizer
 INFO [2011-04-05 21:43:27,834] - Starting up
 INFO [2011-04-05 21:43:28,871] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:43:28,872] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:43:28,872] - Bytecode provider name : lcg
 INFO [2011-04-05 21:43:28,873] - Using reflection optimizer
 INFO [2011-04-05 21:51:03,868] - Starting up
 INFO [2011-04-05 21:51:10,797] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:51:10,798] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:51:10,798] - Bytecode provider name : lcg
 INFO [2011-04-05 21:51:10,799] - Using reflection optimizer
DEBUG [2011-04-05 21:51:11,064] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 21:51:11,199] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:11,244] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 21:51:11,271] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:51:11,299] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 21:51:11,301] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 21:51:11,309] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:11,316] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 21:51:11,316] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:11,317] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 21:51:11,317] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:51:11,317] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 21:51:11,318] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 21:51:11,319] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:11,319] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 21:51:11,319] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:51:11,319] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 21:51:15,354] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:15,359] - checking mappings queue
 INFO [2011-04-05 21:51:15,359] - processing one-to-many association mappings
DEBUG [2011-04-05 21:51:15,360] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 21:51:15,361] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 21:51:15,365] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 21:51:15,365] - processing one-to-one association property references
 INFO [2011-04-05 21:51:15,365] - processing foreign key constraints
DEBUG [2011-04-05 21:51:15,367] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:15,386] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:51:15,386] - processing filters (second pass)
 INFO [2011-04-05 21:51:15,403] - checking mappings queue
 INFO [2011-04-05 21:51:15,403] - processing one-to-many association mappings
 INFO [2011-04-05 21:51:15,403] - processing one-to-one association property references
 INFO [2011-04-05 21:51:15,403] - processing foreign key constraints
DEBUG [2011-04-05 21:51:15,403] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:15,403] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:51:15,403] - processing filters (second pass)
 INFO [2011-04-05 21:51:15,421] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:51:15,421] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:51:15,422] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:51:15,431] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[FK6A71DC85364F3BA]') AND parent_object_id = OBJECT_ID('[ChocolateBar]'))
alter table [ChocolateBar]  drop constraint FK6A71DC85364F3BA

DEBUG [2011-04-05 21:51:15,435] - SQL Batch: if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[FK6A71DC85364F3BA]') AND parent_object_id = OBJECT_ID('[ChocolateBar]'))
alter table [ChocolateBar]  drop constraint FK6A71DC85364F3BA
DEBUG [2011-04-05 21:51:15,530] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[FK1328745F39440519]') AND parent_object_id = OBJECT_ID('[Feature]'))
alter table [Feature]  drop constraint FK1328745F39440519

DEBUG [2011-04-05 21:51:15,530] - SQL Batch: if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[FK1328745F39440519]') AND parent_object_id = OBJECT_ID('[Feature]'))
alter table [Feature]  drop constraint FK1328745F39440519
DEBUG [2011-04-05 21:51:15,560] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'[ChocolateBar]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [ChocolateBar]
DEBUG [2011-04-05 21:51:15,560] - SQL Batch: if exists (select * from dbo.sysobjects where id = object_id(N'[ChocolateBar]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [ChocolateBar]
DEBUG [2011-04-05 21:51:15,664] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'[Chocolatier]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [Chocolatier]
DEBUG [2011-04-05 21:51:15,664] - SQL Batch: if exists (select * from dbo.sysobjects where id = object_id(N'[Chocolatier]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [Chocolatier]
DEBUG [2011-04-05 21:51:15,670] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'[Feature]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [Feature]
DEBUG [2011-04-05 21:51:15,670] - SQL Batch: if exists (select * from dbo.sysobjects where id = object_id(N'[Feature]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [Feature]
DEBUG [2011-04-05 21:51:15,678] - 
    create table [ChocolateBar] (
        ID INT IDENTITY NOT NULL,
       Name NVARCHAR(255) null,
       ChocolatierID INT null,
       primary key (ID)
    )
DEBUG [2011-04-05 21:51:15,678] - SQL Batch: create table [ChocolateBar] (ID INT IDENTITY NOT NULL, Name NVARCHAR(255) null, ChocolatierID INT null, primary key (ID))
DEBUG [2011-04-05 21:51:15,810] - 
    create table [Chocolatier] (
        ID INT IDENTITY NOT NULL,
       Name NVARCHAR(255) null,
       primary key (ID)
    )
DEBUG [2011-04-05 21:51:15,810] - SQL Batch: create table [Chocolatier] (ID INT IDENTITY NOT NULL, Name NVARCHAR(255) null, primary key (ID))
DEBUG [2011-04-05 21:51:15,812] - 
    create table [Feature] (
        ID INT IDENTITY NOT NULL,
       Name NVARCHAR(255) null,
       ChocolateBar_id INT null,
       primary key (ID)
    )
DEBUG [2011-04-05 21:51:15,812] - SQL Batch: create table [Feature] (ID INT IDENTITY NOT NULL, Name NVARCHAR(255) null, ChocolateBar_id INT null, primary key (ID))
DEBUG [2011-04-05 21:51:15,815] - 
    alter table [ChocolateBar] 
        add constraint FK6A71DC85364F3BA 
        foreign key (ChocolatierID) 
        references [Chocolatier]
DEBUG [2011-04-05 21:51:15,815] - SQL Batch: alter table [ChocolateBar] add constraint FK6A71DC85364F3BA foreign key (ChocolatierID) references [Chocolatier]
DEBUG [2011-04-05 21:51:15,934] - 
    alter table [Feature] 
        add constraint FK1328745F39440519 
        foreign key (ChocolateBar_id) 
        references [ChocolateBar]
DEBUG [2011-04-05 21:51:15,934] - SQL Batch: alter table [Feature] add constraint FK1328745F39440519 foreign key (ChocolateBar_id) references [ChocolateBar]
DEBUG [2011-04-05 21:51:15,936] - Closing connection
DEBUG [2011-04-05 21:51:15,936] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:51:23,868] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:23,869] - Running hbm2ddl schema update
 INFO [2011-04-05 21:51:23,869] - fetching database metadata
 INFO [2011-04-05 21:51:23,869] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:51:23,869] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:51:23,869] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:51:23,872] - updating schema
 INFO [2011-04-05 21:51:23,873] - checking mappings queue
 INFO [2011-04-05 21:51:23,874] - processing one-to-many association mappings
 INFO [2011-04-05 21:51:23,874] - processing one-to-one association property references
 INFO [2011-04-05 21:51:23,874] - processing foreign key constraints
DEBUG [2011-04-05 21:51:23,874] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:23,874] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:51:23,874] - processing filters (second pass)
 INFO [2011-04-05 21:51:24,749] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 21:51:24,750] - columns: id, name, chocolatierid
 INFO [2011-04-05 21:51:24,750] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 21:51:24,750] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 21:51:24,785] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 21:51:24,785] - columns: id, name
 INFO [2011-04-05 21:51:24,785] - foreign keys: 
 INFO [2011-04-05 21:51:24,785] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 21:51:24,850] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 21:51:24,850] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 21:51:24,850] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 21:51:24,850] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 21:51:24,850] - schema update complete
DEBUG [2011-04-05 21:51:24,850] - Closing connection
 INFO [2011-04-05 21:51:24,851] - checking mappings queue
 INFO [2011-04-05 21:51:24,851] - processing one-to-many association mappings
 INFO [2011-04-05 21:51:24,851] - processing one-to-one association property references
 INFO [2011-04-05 21:51:24,851] - processing foreign key constraints
DEBUG [2011-04-05 21:51:24,851] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:24,851] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:51:24,851] - processing filters (second pass)
 INFO [2011-04-05 21:51:24,889] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:24,913] - Using dialect defined converter
 INFO [2011-04-05 21:51:24,913] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:51:24,913] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:51:24,913] - Configuring ConnectionProvider
 INFO [2011-04-05 21:51:24,914] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:51:24,914] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:51:24,914] - Connection release mode: auto
 INFO [2011-04-05 21:51:24,915] - Default batch fetch size: 1
 INFO [2011-04-05 21:51:24,915] - Statistics: disabled
 INFO [2011-04-05 21:51:24,915] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:51:24,915] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:51:24,916] - Query language substitutions: {}
 INFO [2011-04-05 21:51:24,917] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:51:24,917] - Wrap result sets: disabled
 INFO [2011-04-05 21:51:24,918] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:51:24,918] - Default entity-mode: Poco
 INFO [2011-04-05 21:51:24,918] - Named query checking : enabled
 INFO [2011-04-05 21:51:24,934] - building session factory
DEBUG [2011-04-05 21:51:24,934] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:51:24,935] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:51:24,936] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:51:24,938] - Closing connection
DEBUG [2011-04-05 21:51:24,999] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:51:25,003] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:51:25,072] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:51:25,099] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:25,099] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:25,099] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:25,100] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:51:25,100] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:51:25,100] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:51:25,120] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 21:51:25,120] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 21:51:25,121] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 21:51:25,121] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 21:51:25,148] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:51:25,148] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,148] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 21:51:25,148] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 21:51:25,148] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 21:51:25,148] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,148] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,179] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,179] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,179] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:25,179] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,179] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 21:51:25,179] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 21:51:25,179] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 21:51:25,179] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,179] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:51:25,179] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:51:25,180] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,180] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 21:51:25,180] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 21:51:25,180] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 21:51:25,180] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,180] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,188] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 21:51:25,189] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:51:25,189] - registered: 0133995daa6f43caaad9e5bbe8d60c62(unnamed)
 INFO [2011-04-05 21:51:25,189] - no name configured
DEBUG [2011-04-05 21:51:25,189] - Instantiated session factory
DEBUG [2011-04-05 21:51:25,192] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:51:25,192] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:51:25,204] - [session-id=71b3c62d-2ff4-481e-ad4c-39199ae5742c] opened session at timestamp: 634376370851, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:51:25,945] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:51:26,186] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 21:51:26,201] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 21:51:26,214] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 21:51:26,217] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 21:51:26,218] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 21:51:26,234] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 21:51:26,237] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 21:51:26,237] - throwQueryException() : no errors
DEBUG [2011-04-05 21:51:26,259] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:51:26,259] - throwQueryException() : no errors
DEBUG [2011-04-05 21:51:26,285] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:51:26,287] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:51:26,288] - named parameters: {}
DEBUG [2011-04-05 21:51:26,325] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:51:26,325] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:51:26,354] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:51:26,356] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:51:26,357] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:51:26,395] - ExecuteReader took 38 ms
DEBUG [2011-04-05 21:51:26,396] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:51:26,398] - processing result set
DEBUG [2011-04-05 21:51:26,398] - done processing result set (0 rows)
DEBUG [2011-04-05 21:51:26,400] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:51:26,400] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:51:26,400] - DataReader was closed after 42 ms
DEBUG [2011-04-05 21:51:26,401] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:51:26,402] - aggressively releasing database connection
DEBUG [2011-04-05 21:51:26,402] - Closing connection
DEBUG [2011-04-05 21:51:26,404] - total objects hydrated: 0
DEBUG [2011-04-05 21:51:26,404] - initializing non-lazy collections
DEBUG [2011-04-05 21:51:26,407] - after autocommit
DEBUG [2011-04-05 21:51:26,408] - transaction completion
DEBUG [2011-04-05 21:51:26,408] - aggressively releasing database connection
DEBUG [2011-04-05 21:52:24,727] - [session-id=62e6a74c-8696-4095-8598-a9d75b1611f3] opened session at timestamp: 634376371447, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:52:25,068] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:52:25,068] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:52:25,068] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:52:25,068] - named parameters: {}
DEBUG [2011-04-05 21:52:25,068] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:52:25,068] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:52:25,068] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:52:25,068] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:52:25,068] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:52:25,069] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:52:25,069] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:52:25,069] - processing result set
DEBUG [2011-04-05 21:52:25,069] - done processing result set (0 rows)
DEBUG [2011-04-05 21:52:25,069] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:52:25,069] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:52:25,069] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:52:25,069] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:52:25,069] - aggressively releasing database connection
DEBUG [2011-04-05 21:52:25,069] - Closing connection
DEBUG [2011-04-05 21:52:25,069] - total objects hydrated: 0
DEBUG [2011-04-05 21:52:25,069] - initializing non-lazy collections
DEBUG [2011-04-05 21:52:25,069] - after autocommit
DEBUG [2011-04-05 21:52:25,069] - transaction completion
DEBUG [2011-04-05 21:52:25,069] - aggressively releasing database connection
DEBUG [2011-04-05 21:52:25,102] - [session-id=62e6a74c-8696-4095-8598-a9d75b1611f3] executing real Dispose(False)
DEBUG [2011-04-05 21:52:45,597] - [session-id=89a9289b-9bba-4d2b-91f9-16d43ef204d2] opened session at timestamp: 634376371655, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:52:45,931] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:52:45,931] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:52:45,931] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:52:45,931] - named parameters: {}
DEBUG [2011-04-05 21:52:45,931] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:52:45,931] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:52:45,931] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:52:45,931] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:52:45,931] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:52:45,932] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:52:45,932] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:52:45,932] - processing result set
DEBUG [2011-04-05 21:52:45,932] - done processing result set (0 rows)
DEBUG [2011-04-05 21:52:45,932] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:52:45,932] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:52:45,932] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:52:45,932] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:52:45,932] - aggressively releasing database connection
DEBUG [2011-04-05 21:52:45,932] - Closing connection
DEBUG [2011-04-05 21:52:45,932] - total objects hydrated: 0
DEBUG [2011-04-05 21:52:45,932] - initializing non-lazy collections
DEBUG [2011-04-05 21:52:45,932] - after autocommit
DEBUG [2011-04-05 21:52:45,932] - transaction completion
DEBUG [2011-04-05 21:52:45,932] - aggressively releasing database connection
DEBUG [2011-04-05 21:53:31,958] - [session-id=39956bd6-60f3-4b38-bea2-76aa1a7d255c] opened session at timestamp: 634376372119, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:53:31,959] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:53:31,959] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:53:31,959] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:53:31,959] - named parameters: {}
DEBUG [2011-04-05 21:53:31,959] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:53:31,959] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:53:31,959] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:53:31,959] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:53:31,959] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:53:31,960] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:53:31,960] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:53:31,960] - processing result set
DEBUG [2011-04-05 21:53:31,960] - done processing result set (0 rows)
DEBUG [2011-04-05 21:53:31,960] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:53:31,960] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:53:31,960] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:53:31,960] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:53:31,960] - aggressively releasing database connection
DEBUG [2011-04-05 21:53:31,960] - Closing connection
DEBUG [2011-04-05 21:53:31,960] - total objects hydrated: 0
DEBUG [2011-04-05 21:53:31,960] - initializing non-lazy collections
DEBUG [2011-04-05 21:53:31,960] - after autocommit
DEBUG [2011-04-05 21:53:31,960] - transaction completion
DEBUG [2011-04-05 21:53:31,960] - aggressively releasing database connection
DEBUG [2011-04-05 21:53:33,076] - [session-id=89a9289b-9bba-4d2b-91f9-16d43ef204d2] executing real Dispose(False)
DEBUG [2011-04-05 21:53:33,076] - [session-id=39956bd6-60f3-4b38-bea2-76aa1a7d255c] executing real Dispose(False)
DEBUG [2011-04-05 21:54:06,246] - [session-id=fca3b097-c5f0-4562-acd9-1345a9f8b223] opened session at timestamp: 634376372462, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:54:06,246] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:54:06,247] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:54:06,247] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:54:06,247] - named parameters: {}
DEBUG [2011-04-05 21:54:06,247] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:54:06,247] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:54:06,247] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:54:06,247] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:54:06,247] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:54:06,247] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:54:06,247] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:54:06,247] - processing result set
DEBUG [2011-04-05 21:54:06,247] - done processing result set (0 rows)
DEBUG [2011-04-05 21:54:06,247] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:54:06,247] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:54:06,247] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:54:06,247] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:54:06,247] - aggressively releasing database connection
DEBUG [2011-04-05 21:54:06,247] - Closing connection
DEBUG [2011-04-05 21:54:06,247] - total objects hydrated: 0
DEBUG [2011-04-05 21:54:06,247] - initializing non-lazy collections
DEBUG [2011-04-05 21:54:06,247] - after autocommit
DEBUG [2011-04-05 21:54:06,248] - transaction completion
DEBUG [2011-04-05 21:54:06,248] - aggressively releasing database connection
DEBUG [2011-04-05 21:54:13,020] - [session-id=5bbcfb8c-32a3-4188-a6c1-b311da4bb0b6] opened session at timestamp: 634376372530, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:54:13,021] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:54:13,022] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:54:13,022] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:54:13,022] - named parameters: {}
DEBUG [2011-04-05 21:54:13,022] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:54:13,022] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:54:13,022] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:54:13,022] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:54:13,022] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:54:13,022] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:54:13,022] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:54:13,022] - processing result set
DEBUG [2011-04-05 21:54:13,022] - done processing result set (0 rows)
DEBUG [2011-04-05 21:54:13,023] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:54:13,023] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:54:13,023] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:54:13,023] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:54:13,023] - aggressively releasing database connection
DEBUG [2011-04-05 21:54:13,023] - Closing connection
DEBUG [2011-04-05 21:54:13,023] - total objects hydrated: 0
DEBUG [2011-04-05 21:54:13,023] - initializing non-lazy collections
DEBUG [2011-04-05 21:54:13,023] - after autocommit
DEBUG [2011-04-05 21:54:13,023] - transaction completion
DEBUG [2011-04-05 21:54:13,023] - aggressively releasing database connection
DEBUG [2011-04-05 21:55:11,671] - [session-id=c3a6dc3a-29d1-4480-9ed8-13e0a88f238c] opened session at timestamp: 634376373116, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:55:11,673] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:55:11,673] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:55:11,673] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:55:11,673] - named parameters: {}
DEBUG [2011-04-05 21:55:11,673] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:55:11,673] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:55:11,673] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:55:11,673] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:55:11,673] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:55:11,673] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:55:11,673] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:55:11,673] - processing result set
DEBUG [2011-04-05 21:55:11,674] - done processing result set (0 rows)
DEBUG [2011-04-05 21:55:11,674] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:55:11,674] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:55:11,674] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:55:11,674] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:55:11,674] - aggressively releasing database connection
DEBUG [2011-04-05 21:55:11,674] - Closing connection
DEBUG [2011-04-05 21:55:11,674] - total objects hydrated: 0
DEBUG [2011-04-05 21:55:11,674] - initializing non-lazy collections
DEBUG [2011-04-05 21:55:11,674] - after autocommit
DEBUG [2011-04-05 21:55:11,674] - transaction completion
DEBUG [2011-04-05 21:55:11,674] - aggressively releasing database connection
 INFO [2011-04-05 21:59:23,936] - Starting up
 INFO [2011-04-05 21:59:24,965] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:59:24,965] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:59:24,966] - Bytecode provider name : lcg
 INFO [2011-04-05 21:59:24,966] - Using reflection optimizer
DEBUG [2011-04-05 21:59:25,239] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 21:59:25,383] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,428] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 21:59:25,457] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:59:25,489] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 21:59:25,491] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 21:59:25,499] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,504] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 21:59:25,505] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,505] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 21:59:25,506] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:59:25,506] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 21:59:25,507] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 21:59:25,507] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,507] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 21:59:25,507] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:59:25,507] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 21:59:25,511] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,513] - Running hbm2ddl schema update
 INFO [2011-04-05 21:59:25,513] - fetching database metadata
 INFO [2011-04-05 21:59:25,513] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:59:25,514] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:59:25,515] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:59:25,524] - updating schema
 INFO [2011-04-05 21:59:25,531] - checking mappings queue
 INFO [2011-04-05 21:59:25,531] - processing one-to-many association mappings
DEBUG [2011-04-05 21:59:25,531] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 21:59:25,532] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 21:59:25,536] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 21:59:25,536] - processing one-to-one association property references
 INFO [2011-04-05 21:59:25,536] - processing foreign key constraints
DEBUG [2011-04-05 21:59:25,538] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,540] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:59:25,540] - processing filters (second pass)
 INFO [2011-04-05 21:59:25,560] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 21:59:25,561] - columns: id, name, chocolatierid
 INFO [2011-04-05 21:59:25,561] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 21:59:25,561] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 21:59:25,572] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 21:59:25,572] - columns: id, name
 INFO [2011-04-05 21:59:25,572] - foreign keys: 
 INFO [2011-04-05 21:59:25,572] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 21:59:25,576] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 21:59:25,576] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 21:59:25,576] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 21:59:25,576] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 21:59:25,590] - schema update complete
DEBUG [2011-04-05 21:59:25,591] - Closing connection
 INFO [2011-04-05 21:59:25,592] - checking mappings queue
 INFO [2011-04-05 21:59:25,592] - processing one-to-many association mappings
 INFO [2011-04-05 21:59:25,592] - processing one-to-one association property references
 INFO [2011-04-05 21:59:25,592] - processing foreign key constraints
DEBUG [2011-04-05 21:59:25,592] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,592] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:59:25,592] - processing filters (second pass)
 INFO [2011-04-05 21:59:25,617] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,640] - Using dialect defined converter
 INFO [2011-04-05 21:59:25,640] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:59:25,640] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:59:25,641] - Configuring ConnectionProvider
 INFO [2011-04-05 21:59:25,641] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:59:25,641] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:59:25,641] - Connection release mode: auto
 INFO [2011-04-05 21:59:25,641] - Default batch fetch size: 1
 INFO [2011-04-05 21:59:25,641] - Statistics: disabled
 INFO [2011-04-05 21:59:25,641] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:59:25,642] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:59:25,643] - Query language substitutions: {}
 INFO [2011-04-05 21:59:25,644] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:59:25,644] - Wrap result sets: disabled
 INFO [2011-04-05 21:59:25,644] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:59:25,645] - Default entity-mode: Poco
 INFO [2011-04-05 21:59:25,645] - Named query checking : enabled
 INFO [2011-04-05 21:59:25,663] - building session factory
DEBUG [2011-04-05 21:59:25,663] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:59:25,664] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:59:25,665] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:59:25,667] - Closing connection
DEBUG [2011-04-05 21:59:25,723] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:59:25,727] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:59:25,738] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:59:25,763] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,763] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,763] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,764] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:59:25,764] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:59:25,764] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:59:25,790] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 21:59:25,790] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 21:59:25,790] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 21:59:25,790] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 21:59:25,831] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:59:25,831] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,831] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 21:59:25,831] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 21:59:25,831] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 21:59:25,831] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,831] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:59:25,863] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,864] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,864] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,864] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,864] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,865] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,865] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,866] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 21:59:25,866] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 21:59:25,866] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:59:25,866] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 21:59:25,866] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 21:59:25,866] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,867] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,867] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,867] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,867] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,875] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 21:59:25,876] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:59:25,877] - registered: 92b003e653734764963e783b6403c6d4(unnamed)
 INFO [2011-04-05 21:59:25,877] - no name configured
DEBUG [2011-04-05 21:59:25,877] - Instantiated session factory
DEBUG [2011-04-05 21:59:25,881] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:59:25,882] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:59:25,893] - [session-id=ce64a675-7549-44a7-a904-3ff703072079] opened session at timestamp: 634376375658, for session factory: [/92b003e653734764963e783b6403c6d4]
DEBUG [2011-04-05 21:59:26,739] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:59:27,011] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 21:59:27,026] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 21:59:27,040] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 21:59:27,042] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 21:59:27,044] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 21:59:27,064] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 21:59:27,069] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 21:59:27,069] - throwQueryException() : no errors
DEBUG [2011-04-05 21:59:27,096] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:59:27,096] - throwQueryException() : no errors
DEBUG [2011-04-05 21:59:27,125] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:59:27,127] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:59:27,128] - named parameters: {}
DEBUG [2011-04-05 21:59:27,178] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:59:27,178] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:59:27,182] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:59:27,185] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:59:27,186] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:59:27,187] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:59:27,187] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:59:27,189] - processing result set
DEBUG [2011-04-05 21:59:27,189] - done processing result set (0 rows)
DEBUG [2011-04-05 21:59:27,190] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:59:27,191] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:59:27,191] - DataReader was closed after 3 ms
DEBUG [2011-04-05 21:59:27,191] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:59:27,192] - aggressively releasing database connection
DEBUG [2011-04-05 21:59:27,192] - Closing connection
DEBUG [2011-04-05 21:59:27,193] - total objects hydrated: 0
DEBUG [2011-04-05 21:59:27,194] - initializing non-lazy collections
DEBUG [2011-04-05 21:59:27,196] - after autocommit
DEBUG [2011-04-05 21:59:27,196] - transaction completion
DEBUG [2011-04-05 21:59:27,196] - aggressively releasing database connection
 INFO [2011-04-05 22:02:37,416] - Starting up
 INFO [2011-04-05 22:02:38,197] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:02:38,198] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:02:38,198] - Bytecode provider name : lcg
 INFO [2011-04-05 22:02:38,200] - Using reflection optimizer
DEBUG [2011-04-05 22:02:38,505] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:02:38,633] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,689] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:02:38,720] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:02:38,757] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:02:38,759] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:02:38,767] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:38,774] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:02:38,775] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,775] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:02:38,775] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:02:38,775] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:02:38,776] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:02:38,777] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,777] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:02:38,777] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:02:38,777] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:02:38,781] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,783] - Running hbm2ddl schema update
 INFO [2011-04-05 22:02:38,783] - fetching database metadata
 INFO [2011-04-05 22:02:38,784] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:02:38,784] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:02:38,786] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:02:38,795] - updating schema
 INFO [2011-04-05 22:02:38,802] - checking mappings queue
 INFO [2011-04-05 22:02:38,802] - processing one-to-many association mappings
DEBUG [2011-04-05 22:02:38,802] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:02:38,803] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:02:38,808] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:02:38,808] - processing one-to-one association property references
 INFO [2011-04-05 22:02:38,808] - processing foreign key constraints
DEBUG [2011-04-05 22:02:38,810] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:38,811] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:02:38,811] - processing filters (second pass)
 INFO [2011-04-05 22:02:38,834] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:02:38,835] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:02:38,835] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:02:38,835] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:02:38,846] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:02:38,846] - columns: id, name
 INFO [2011-04-05 22:02:38,846] - foreign keys: 
 INFO [2011-04-05 22:02:38,846] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:02:38,856] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:02:38,856] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:02:38,856] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:02:38,856] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:02:38,872] - schema update complete
DEBUG [2011-04-05 22:02:38,872] - Closing connection
 INFO [2011-04-05 22:02:38,880] - checking mappings queue
 INFO [2011-04-05 22:02:38,880] - processing one-to-many association mappings
 INFO [2011-04-05 22:02:38,880] - processing one-to-one association property references
 INFO [2011-04-05 22:02:38,880] - processing foreign key constraints
DEBUG [2011-04-05 22:02:38,880] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:38,880] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:02:38,880] - processing filters (second pass)
 INFO [2011-04-05 22:02:38,906] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,931] - Using dialect defined converter
 INFO [2011-04-05 22:02:38,931] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:02:38,931] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:02:38,931] - Configuring ConnectionProvider
 INFO [2011-04-05 22:02:38,932] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:02:38,932] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:02:38,932] - Connection release mode: auto
 INFO [2011-04-05 22:02:38,932] - Default batch fetch size: 1
 INFO [2011-04-05 22:02:38,932] - Statistics: disabled
 INFO [2011-04-05 22:02:38,933] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:02:38,933] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:02:38,934] - Query language substitutions: {}
 INFO [2011-04-05 22:02:38,935] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:02:38,935] - Wrap result sets: disabled
 INFO [2011-04-05 22:02:38,936] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:02:38,936] - Default entity-mode: Poco
 INFO [2011-04-05 22:02:38,936] - Named query checking : enabled
 INFO [2011-04-05 22:02:38,957] - building session factory
DEBUG [2011-04-05 22:02:38,957] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:02:38,958] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:02:38,959] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:02:38,961] - Closing connection
DEBUG [2011-04-05 22:02:39,026] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:02:39,030] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:02:39,042] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:02:39,067] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:39,067] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:39,067] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:39,068] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:02:39,068] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:02:39,068] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:02:39,096] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:02:39,096] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:02:39,096] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:02:39,096] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:02:39,136] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:02:39,136] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,136] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:02:39,136] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:02:39,136] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:02:39,136] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,136] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:39,173] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,173] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:02:39,173] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:02:39,173] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:02:39,173] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,173] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:02:39,173] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:02:39,174] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,174] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:02:39,174] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:02:39,174] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:02:39,174] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,174] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,183] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:02:39,184] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:02:39,185] - registered: 60520f06ff9b4ccda2238daad50a84fa(unnamed)
 INFO [2011-04-05 22:02:39,185] - no name configured
DEBUG [2011-04-05 22:02:39,185] - Instantiated session factory
DEBUG [2011-04-05 22:02:39,189] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:02:39,190] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:02:39,206] - [session-id=60893fe9-bca6-440e-9e1e-4253799cc099] opened session at timestamp: 634376377591, for session factory: [/60520f06ff9b4ccda2238daad50a84fa]
DEBUG [2011-04-05 22:02:39,739] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:02:40,092] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:02:40,108] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:02:40,121] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:02:40,124] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:02:40,126] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:02:40,146] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:02:40,151] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:02:40,152] - throwQueryException() : no errors
DEBUG [2011-04-05 22:02:40,178] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:40,178] - throwQueryException() : no errors
DEBUG [2011-04-05 22:02:40,207] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:02:40,209] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:02:40,210] - named parameters: {}
DEBUG [2011-04-05 22:02:40,232] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:02:40,233] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:02:40,237] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:40,240] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:40,240] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:02:40,241] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:02:40,242] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:02:40,243] - processing result set
DEBUG [2011-04-05 22:02:40,243] - done processing result set (0 rows)
DEBUG [2011-04-05 22:02:40,244] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:02:40,245] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:02:40,245] - DataReader was closed after 3 ms
DEBUG [2011-04-05 22:02:40,245] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:02:40,246] - aggressively releasing database connection
DEBUG [2011-04-05 22:02:40,246] - Closing connection
DEBUG [2011-04-05 22:02:40,247] - total objects hydrated: 0
DEBUG [2011-04-05 22:02:40,248] - initializing non-lazy collections
DEBUG [2011-04-05 22:02:40,250] - after autocommit
DEBUG [2011-04-05 22:02:40,250] - transaction completion
DEBUG [2011-04-05 22:02:40,250] - aggressively releasing database connection
DEBUG [2011-04-05 22:02:52,622] - [session-id=07df3300-77fd-40c5-985c-2bad2c5d980c] opened session at timestamp: 634376377726, for session factory: [/60520f06ff9b4ccda2238daad50a84fa]
DEBUG [2011-04-05 22:02:52,987] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:02:52,987] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:02:52,987] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:02:52,987] - named parameters: {}
DEBUG [2011-04-05 22:02:52,987] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:02:52,987] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:02:52,987] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:52,987] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:52,987] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:02:52,988] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:02:52,988] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:02:52,988] - processing result set
DEBUG [2011-04-05 22:02:52,988] - done processing result set (0 rows)
DEBUG [2011-04-05 22:02:52,988] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:02:52,988] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:02:52,988] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:02:52,988] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:02:52,988] - aggressively releasing database connection
DEBUG [2011-04-05 22:02:52,988] - Closing connection
DEBUG [2011-04-05 22:02:52,988] - total objects hydrated: 0
DEBUG [2011-04-05 22:02:52,988] - initializing non-lazy collections
DEBUG [2011-04-05 22:02:52,988] - after autocommit
DEBUG [2011-04-05 22:02:52,988] - transaction completion
DEBUG [2011-04-05 22:02:52,988] - aggressively releasing database connection
 INFO [2011-04-05 22:03:58,508] - Starting up
 INFO [2011-04-05 22:04:05,293] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:04:05,293] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:04:05,294] - Bytecode provider name : lcg
 INFO [2011-04-05 22:04:05,294] - Using reflection optimizer
DEBUG [2011-04-05 22:04:05,568] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:04:05,685] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,742] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:04:05,770] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:05,803] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:04:05,805] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:04:05,813] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:05,820] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:04:05,821] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,821] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:04:05,821] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:05,821] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:04:05,823] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:04:05,823] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,823] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:04:05,823] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:05,823] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:04:05,827] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,829] - Running hbm2ddl schema update
 INFO [2011-04-05 22:04:05,829] - fetching database metadata
 INFO [2011-04-05 22:04:05,830] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:04:05,830] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:04:05,831] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:04:05,840] - updating schema
 INFO [2011-04-05 22:04:05,847] - checking mappings queue
 INFO [2011-04-05 22:04:05,847] - processing one-to-many association mappings
DEBUG [2011-04-05 22:04:05,847] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:04:05,848] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:04:05,853] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:04:05,853] - processing one-to-one association property references
 INFO [2011-04-05 22:04:05,853] - processing foreign key constraints
DEBUG [2011-04-05 22:04:05,854] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:05,856] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:04:05,856] - processing filters (second pass)
 INFO [2011-04-05 22:04:05,877] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:04:05,878] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:04:05,878] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:04:05,878] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:04:05,889] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:04:05,889] - columns: id, name
 INFO [2011-04-05 22:04:05,889] - foreign keys: 
 INFO [2011-04-05 22:04:05,889] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:04:05,893] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:04:05,893] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:04:05,893] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:04:05,893] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:04:05,907] - schema update complete
DEBUG [2011-04-05 22:04:05,908] - Closing connection
 INFO [2011-04-05 22:04:05,909] - checking mappings queue
 INFO [2011-04-05 22:04:05,909] - processing one-to-many association mappings
 INFO [2011-04-05 22:04:05,909] - processing one-to-one association property references
 INFO [2011-04-05 22:04:05,909] - processing foreign key constraints
DEBUG [2011-04-05 22:04:05,909] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:05,909] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:04:05,909] - processing filters (second pass)
 INFO [2011-04-05 22:04:05,934] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,958] - Using dialect defined converter
 INFO [2011-04-05 22:04:05,958] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:04:05,958] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:04:05,958] - Configuring ConnectionProvider
 INFO [2011-04-05 22:04:05,958] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:04:05,959] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:04:05,959] - Connection release mode: auto
 INFO [2011-04-05 22:04:05,959] - Default batch fetch size: 1
 INFO [2011-04-05 22:04:05,959] - Statistics: disabled
 INFO [2011-04-05 22:04:05,959] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:04:05,959] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:04:05,960] - Query language substitutions: {}
 INFO [2011-04-05 22:04:05,961] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:04:05,961] - Wrap result sets: disabled
 INFO [2011-04-05 22:04:05,961] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:04:05,962] - Default entity-mode: Poco
 INFO [2011-04-05 22:04:05,962] - Named query checking : enabled
 INFO [2011-04-05 22:04:05,980] - building session factory
DEBUG [2011-04-05 22:04:05,981] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:04:05,981] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:04:05,982] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:05,997] - Closing connection
DEBUG [2011-04-05 22:04:06,054] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,058] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,069] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,094] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:06,094] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:06,094] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:06,095] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:06,095] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:06,095] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:06,121] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:04:06,121] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:06,121] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:04:06,121] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:04:06,160] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,160] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,160] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:04:06,160] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:04:06,160] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:06,160] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,160] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:06,194] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,194] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:04:06,194] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:04:06,194] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:06,194] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,194] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:06,194] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:06,195] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,195] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:04:06,195] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:04:06,195] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:06,195] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,195] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,204] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:04:06,205] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:04:06,205] - registered: 22adc586bb64439c85a978e0a3d7bfb9(unnamed)
 INFO [2011-04-05 22:04:06,205] - no name configured
DEBUG [2011-04-05 22:04:06,205] - Instantiated session factory
DEBUG [2011-04-05 22:04:06,209] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:04:06,209] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:04:06,221] - [session-id=d9070a03-c86e-44e8-899b-b0613a71b7ef] opened session at timestamp: 634376378462, for session factory: [/22adc586bb64439c85a978e0a3d7bfb9]
DEBUG [2011-04-05 22:04:06,224] - Begin (Unspecified)
DEBUG [2011-04-05 22:04:06,224] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:06,248] - unsaved-value: 0
DEBUG [2011-04-05 22:04:06,248] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,248] - saving transient instance
DEBUG [2011-04-05 22:04:06,250] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:04:06,254] - executing insertions
DEBUG [2011-04-05 22:04:06,260] - executing identity-insert immediately
DEBUG [2011-04-05 22:04:06,262] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-05 22:04:06,326] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:06,326] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:06,327] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:04:06,328] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-05 22:04:06,330] - binding null to parameter: 1
DEBUG [2011-04-05 22:04:06,335] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = NULL [Type: Int32 (0)]
DEBUG [2011-04-05 22:04:06,336] - Enlist Command
DEBUG [2011-04-05 22:04:06,437] - ExecuteReader took 100 ms
DEBUG [2011-04-05 22:04:06,438] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:06,451] - returning '1' as column: 
DEBUG [2011-04-05 22:04:06,451] - Natively generated identity: 1
DEBUG [2011-04-05 22:04:06,453] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:06,454] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:06,454] - DataReader was closed after 116 ms
DEBUG [2011-04-05 22:04:06,455] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:06,541] - IDbTransaction disposed.
DEBUG [2011-04-05 22:04:06,542] - transaction completion
DEBUG [2011-04-05 22:04:06,543] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:06,543] - Closing connection
DEBUG [2011-04-05 22:04:06,605] - [session-id=63e0f34f-4dbb-4ace-b23f-6036ab451c1e] opened session at timestamp: 634376378466, for session factory: [/22adc586bb64439c85a978e0a3d7bfb9]
DEBUG [2011-04-05 22:04:06,631] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:04:06,856] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:04:06,871] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:04:06,885] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:04:06,887] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:04:06,889] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:04:06,909] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:04:06,914] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:04:06,915] - throwQueryException() : no errors
DEBUG [2011-04-05 22:04:06,942] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:06,942] - throwQueryException() : no errors
DEBUG [2011-04-05 22:04:06,970] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:04:06,972] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:04:06,973] - named parameters: {}
DEBUG [2011-04-05 22:04:06,991] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:06,991] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:04:06,995] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:06,995] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:06,995] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:06,996] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:04:06,996] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:06,997] - processing result set
DEBUG [2011-04-05 22:04:06,997] - done processing result set (0 rows)
DEBUG [2011-04-05 22:04:06,997] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:06,997] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:06,997] - DataReader was closed after 1 ms
DEBUG [2011-04-05 22:04:06,997] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:06,997] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:06,997] - Closing connection
DEBUG [2011-04-05 22:04:06,998] - total objects hydrated: 0
DEBUG [2011-04-05 22:04:06,999] - initializing non-lazy collections
DEBUG [2011-04-05 22:04:07,001] - after autocommit
DEBUG [2011-04-05 22:04:07,001] - transaction completion
DEBUG [2011-04-05 22:04:07,001] - aggressively releasing database connection
 INFO [2011-04-05 22:04:40,045] - Starting up
 INFO [2011-04-05 22:04:49,718] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:04:49,719] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:04:49,719] - Bytecode provider name : lcg
 INFO [2011-04-05 22:04:49,720] - Using reflection optimizer
DEBUG [2011-04-05 22:04:49,998] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:04:50,114] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,155] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:04:50,183] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:50,214] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:04:50,217] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:04:50,224] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,230] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:04:50,231] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,231] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:04:50,231] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:50,231] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:04:50,233] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:04:50,233] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,233] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:04:50,233] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:50,233] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:04:50,236] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,238] - Running hbm2ddl schema update
 INFO [2011-04-05 22:04:50,238] - fetching database metadata
 INFO [2011-04-05 22:04:50,240] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:04:50,240] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:04:50,241] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:04:50,250] - updating schema
 INFO [2011-04-05 22:04:50,257] - checking mappings queue
 INFO [2011-04-05 22:04:50,257] - processing one-to-many association mappings
DEBUG [2011-04-05 22:04:50,258] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:04:50,259] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:04:50,263] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:04:50,263] - processing one-to-one association property references
 INFO [2011-04-05 22:04:50,263] - processing foreign key constraints
DEBUG [2011-04-05 22:04:50,265] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,266] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:04:50,266] - processing filters (second pass)
 INFO [2011-04-05 22:04:50,287] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:04:50,288] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:04:50,288] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:04:50,288] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:04:50,299] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:04:50,299] - columns: id, name
 INFO [2011-04-05 22:04:50,299] - foreign keys: 
 INFO [2011-04-05 22:04:50,299] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:04:50,303] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:04:50,303] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:04:50,303] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:04:50,303] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:04:50,317] - schema update complete
DEBUG [2011-04-05 22:04:50,318] - Closing connection
 INFO [2011-04-05 22:04:50,319] - checking mappings queue
 INFO [2011-04-05 22:04:50,319] - processing one-to-many association mappings
 INFO [2011-04-05 22:04:50,319] - processing one-to-one association property references
 INFO [2011-04-05 22:04:50,319] - processing foreign key constraints
DEBUG [2011-04-05 22:04:50,319] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,319] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:04:50,319] - processing filters (second pass)
 INFO [2011-04-05 22:04:50,344] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,366] - Using dialect defined converter
 INFO [2011-04-05 22:04:50,367] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:04:50,367] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:04:50,367] - Configuring ConnectionProvider
 INFO [2011-04-05 22:04:50,367] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:04:50,367] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:04:50,368] - Connection release mode: auto
 INFO [2011-04-05 22:04:50,368] - Default batch fetch size: 1
 INFO [2011-04-05 22:04:50,368] - Statistics: disabled
 INFO [2011-04-05 22:04:50,368] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:04:50,368] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:04:50,369] - Query language substitutions: {}
 INFO [2011-04-05 22:04:50,370] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:04:50,370] - Wrap result sets: disabled
 INFO [2011-04-05 22:04:50,370] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:04:50,371] - Default entity-mode: Poco
 INFO [2011-04-05 22:04:50,371] - Named query checking : enabled
 INFO [2011-04-05 22:04:50,388] - building session factory
DEBUG [2011-04-05 22:04:50,389] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:04:50,390] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:04:50,391] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:50,392] - Closing connection
DEBUG [2011-04-05 22:04:50,449] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,453] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,464] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,488] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,488] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,489] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,489] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:50,489] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:50,490] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:50,515] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:04:50,515] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:50,515] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:04:50,516] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:04:50,554] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,554] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,554] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:04:50,554] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:04:50,555] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:50,555] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,555] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:50,586] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,587] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,587] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,587] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,587] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,588] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,588] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,589] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:04:50,589] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:04:50,589] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:50,589] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:04:50,589] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:04:50,589] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,590] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,590] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,590] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,590] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,598] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:04:50,599] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:04:50,600] - registered: eb729cfc5884449188a9777fcda7265a(unnamed)
 INFO [2011-04-05 22:04:50,600] - no name configured
DEBUG [2011-04-05 22:04:50,600] - Instantiated session factory
DEBUG [2011-04-05 22:04:50,604] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:04:50,604] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:04:50,616] - [session-id=54704e23-7307-46ea-827c-766b8d92d9ee] opened session at timestamp: 634376378906, for session factory: [/eb729cfc5884449188a9777fcda7265a]
DEBUG [2011-04-05 22:04:50,619] - Begin (Unspecified)
DEBUG [2011-04-05 22:04:50,619] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:50,627] - unsaved-value: 0
DEBUG [2011-04-05 22:04:50,627] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,628] - saving transient instance
DEBUG [2011-04-05 22:04:50,629] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:04:50,633] - executing insertions
DEBUG [2011-04-05 22:04:50,639] - executing identity-insert immediately
DEBUG [2011-04-05 22:04:50,641] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-05 22:04:50,647] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:50,647] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:50,648] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:04:50,649] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-05 22:04:50,650] - binding null to parameter: 1
DEBUG [2011-04-05 22:04:50,653] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = NULL [Type: Int32 (0)]
DEBUG [2011-04-05 22:04:50,654] - Enlist Command
DEBUG [2011-04-05 22:04:50,655] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:04:50,655] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:50,657] - returning '2' as column: 
DEBUG [2011-04-05 22:04:50,657] - Natively generated identity: 2
DEBUG [2011-04-05 22:04:50,658] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:50,658] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:50,658] - DataReader was closed after 3 ms
DEBUG [2011-04-05 22:04:50,659] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:50,681] - Start Commit
DEBUG [2011-04-05 22:04:50,683] - flushing session
DEBUG [2011-04-05 22:04:50,684] - processing flush-time cascades
DEBUG [2011-04-05 22:04:50,686] - dirty checking collections
DEBUG [2011-04-05 22:04:50,686] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 22:04:50,695] - Processing unreferenced collections
DEBUG [2011-04-05 22:04:50,695] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 22:04:50,695] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 22:04:50,695] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-05 22:04:50,696] - listing entities:
DEBUG [2011-04-05 22:04:50,698] - nhibernate_demo.Models.ChocolateBar{'ID'='2', 'Features'='null', 'Name'='Mr. Big', 'Chocolatier'='null'}
DEBUG [2011-04-05 22:04:50,698] - executing flush
DEBUG [2011-04-05 22:04:50,698] - registering flush begin
DEBUG [2011-04-05 22:04:50,699] - registering flush end
DEBUG [2011-04-05 22:04:50,700] - post flush
DEBUG [2011-04-05 22:04:50,701] - before transaction completion
DEBUG [2011-04-05 22:04:50,702] - IDbTransaction Committed
DEBUG [2011-04-05 22:04:50,703] - transaction completion
DEBUG [2011-04-05 22:04:50,703] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:50,704] - Closing connection
DEBUG [2011-04-05 22:04:50,705] - IDbTransaction disposed.
DEBUG [2011-04-05 22:04:50,710] - [session-id=d48be04e-2872-46ab-be63-a27c68800e56] opened session at timestamp: 634376378907, for session factory: [/eb729cfc5884449188a9777fcda7265a]
DEBUG [2011-04-05 22:04:50,730] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:04:50,814] - [session-id=54704e23-7307-46ea-827c-766b8d92d9ee] executing real Dispose(False)
DEBUG [2011-04-05 22:04:51,002] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:04:51,017] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:04:51,031] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:04:51,033] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:04:51,035] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:04:51,055] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:04:51,060] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:04:51,060] - throwQueryException() : no errors
DEBUG [2011-04-05 22:04:51,087] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:51,087] - throwQueryException() : no errors
DEBUG [2011-04-05 22:04:51,116] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:04:51,118] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:04:51,119] - named parameters: {}
DEBUG [2011-04-05 22:04:51,137] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:51,137] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:04:51,141] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:51,141] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:51,142] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:51,142] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:04:51,142] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:51,143] - processing result set
DEBUG [2011-04-05 22:04:51,143] - result set row: 0
DEBUG [2011-04-05 22:04:51,144] - returning '2' as column: ID0_
DEBUG [2011-04-05 22:04:51,146] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,150] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,152] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,152] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-05 22:04:51,152] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:04:51,154] - done processing result set (1 rows)
DEBUG [2011-04-05 22:04:51,154] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:51,154] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:51,154] - DataReader was closed after 12 ms
DEBUG [2011-04-05 22:04:51,154] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:51,154] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:51,154] - Closing connection
DEBUG [2011-04-05 22:04:51,155] - total objects hydrated: 1
DEBUG [2011-04-05 22:04:51,157] - resolving associations for [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,160] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,166] - done materializing entity [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,166] - initializing non-lazy collections
DEBUG [2011-04-05 22:04:51,168] - after autocommit
DEBUG [2011-04-05 22:04:51,169] - transaction completion
DEBUG [2011-04-05 22:04:51,169] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:51,174] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,174] - checking second-level cache
DEBUG [2011-04-05 22:04:51,175] - collection not cached
DEBUG [2011-04-05 22:04:51,177] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,177] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:51,177] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:04:51,178] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-05 22:04:51,178] - binding '2' to parameter: 0
 INFO [2011-04-05 22:04:51,178] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:04:51,178] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:04:51,178] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:51,180] - ExecuteReader took 1 ms
DEBUG [2011-04-05 22:04:51,180] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:51,180] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,181] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:04:51,183] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#2]]
DEBUG [2011-04-05 22:04:51,183] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:04:51,185] - processing result set
DEBUG [2011-04-05 22:04:51,185] - done processing result set (0 rows)
DEBUG [2011-04-05 22:04:51,185] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:51,185] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:51,185] - DataReader was closed after 7 ms
DEBUG [2011-04-05 22:04:51,185] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:51,185] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:51,185] - Closing connection
DEBUG [2011-04-05 22:04:51,185] - total objects hydrated: 0
DEBUG [2011-04-05 22:04:51,188] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] in any result-set context
DEBUG [2011-04-05 22:04:51,188] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] not located in load context
DEBUG [2011-04-05 22:04:51,188] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@450633]
DEBUG [2011-04-05 22:04:51,189] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:04:51,190] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@450633]
DEBUG [2011-04-05 22:04:51,192] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,192] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:04:51,193] - initializing non-lazy collections
DEBUG [2011-04-05 22:04:51,193] - done loading collection
DEBUG [2011-04-05 22:04:51,193] - collection initialized
DEBUG [2011-04-05 22:05:44,359] - [session-id=93d31c17-42b0-4511-a4bb-844014dfd30e] opened session at timestamp: 634376379443, for session factory: [/eb729cfc5884449188a9777fcda7265a]
DEBUG [2011-04-05 22:05:44,816] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:05:44,816] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:05:44,816] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:05:44,816] - named parameters: {}
DEBUG [2011-04-05 22:05:44,816] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:05:44,816] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:05:44,816] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:05:44,816] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:05:44,816] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:05:44,817] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:05:44,817] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:05:44,817] - processing result set
DEBUG [2011-04-05 22:05:44,817] - result set row: 0
DEBUG [2011-04-05 22:05:44,817] - returning '2' as column: ID0_
DEBUG [2011-04-05 22:05:44,817] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,817] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,817] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,817] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-05 22:05:44,817] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:05:44,817] - done processing result set (1 rows)
DEBUG [2011-04-05 22:05:44,817] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:05:44,817] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:05:44,817] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:05:44,817] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:05:44,817] - aggressively releasing database connection
DEBUG [2011-04-05 22:05:44,817] - Closing connection
DEBUG [2011-04-05 22:05:44,817] - total objects hydrated: 1
DEBUG [2011-04-05 22:05:44,817] - resolving associations for [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,817] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,818] - done materializing entity [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,818] - initializing non-lazy collections
DEBUG [2011-04-05 22:05:44,818] - after autocommit
DEBUG [2011-04-05 22:05:44,818] - transaction completion
DEBUG [2011-04-05 22:05:44,818] - aggressively releasing database connection
DEBUG [2011-04-05 22:05:44,818] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,818] - checking second-level cache
DEBUG [2011-04-05 22:05:44,818] - collection not cached
DEBUG [2011-04-05 22:05:44,818] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,818] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:05:44,818] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:05:44,818] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-05 22:05:44,818] - binding '2' to parameter: 0
 INFO [2011-04-05 22:05:44,818] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:05:44,818] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:05:44,818] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:05:44,819] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:05:44,819] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:05:44,819] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,819] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:05:44,819] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#2]]
DEBUG [2011-04-05 22:05:44,819] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:05:44,819] - processing result set
DEBUG [2011-04-05 22:05:44,819] - done processing result set (0 rows)
DEBUG [2011-04-05 22:05:44,819] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:05:44,819] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:05:44,819] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:05:44,819] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:05:44,819] - aggressively releasing database connection
DEBUG [2011-04-05 22:05:44,819] - Closing connection
DEBUG [2011-04-05 22:05:44,819] - total objects hydrated: 0
DEBUG [2011-04-05 22:05:44,819] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] in any result-set context
DEBUG [2011-04-05 22:05:44,819] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] not located in load context
DEBUG [2011-04-05 22:05:44,819] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@36e3545]
DEBUG [2011-04-05 22:05:44,819] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:05:44,819] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@36e3545]
DEBUG [2011-04-05 22:05:44,819] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,819] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:05:44,819] - initializing non-lazy collections
DEBUG [2011-04-05 22:05:44,819] - done loading collection
DEBUG [2011-04-05 22:05:44,819] - collection initialized
DEBUG [2011-04-05 22:05:45,851] - [session-id=93d31c17-42b0-4511-a4bb-844014dfd30e] executing real Dispose(False)
 INFO [2011-04-05 22:07:26,461] - Starting up
 INFO [2011-04-05 22:07:27,483] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:07:27,484] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:07:27,484] - Bytecode provider name : lcg
 INFO [2011-04-05 22:07:27,485] - Using reflection optimizer
DEBUG [2011-04-05 22:07:27,760] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:07:27,884] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:27,924] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:07:27,953] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:07:27,986] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:07:27,989] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:07:27,996] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,003] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:07:28,003] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:28,004] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:07:28,004] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:07:28,004] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:07:28,005] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:07:28,005] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:28,006] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:07:28,006] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:07:28,006] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:07:28,009] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:28,011] - Running hbm2ddl schema update
 INFO [2011-04-05 22:07:28,011] - fetching database metadata
 INFO [2011-04-05 22:07:28,012] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:07:28,012] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:07:28,014] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:07:28,023] - updating schema
 INFO [2011-04-05 22:07:28,029] - checking mappings queue
 INFO [2011-04-05 22:07:28,030] - processing one-to-many association mappings
DEBUG [2011-04-05 22:07:28,030] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:07:28,031] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:07:28,035] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:07:28,035] - processing one-to-one association property references
 INFO [2011-04-05 22:07:28,035] - processing foreign key constraints
DEBUG [2011-04-05 22:07:28,037] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,039] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:07:28,039] - processing filters (second pass)
 INFO [2011-04-05 22:07:28,071] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:07:28,071] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:07:28,071] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:07:28,072] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:07:28,083] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:07:28,083] - columns: id, name
 INFO [2011-04-05 22:07:28,083] - foreign keys: 
 INFO [2011-04-05 22:07:28,083] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:07:28,086] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:07:28,086] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:07:28,086] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:07:28,086] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:07:28,101] - schema update complete
DEBUG [2011-04-05 22:07:28,101] - Closing connection
 INFO [2011-04-05 22:07:28,102] - checking mappings queue
 INFO [2011-04-05 22:07:28,102] - processing one-to-many association mappings
 INFO [2011-04-05 22:07:28,102] - processing one-to-one association property references
 INFO [2011-04-05 22:07:28,102] - processing foreign key constraints
DEBUG [2011-04-05 22:07:28,102] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,102] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:07:28,102] - processing filters (second pass)
 INFO [2011-04-05 22:07:28,127] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:28,151] - Using dialect defined converter
 INFO [2011-04-05 22:07:28,151] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:07:28,151] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:07:28,151] - Configuring ConnectionProvider
 INFO [2011-04-05 22:07:28,151] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:07:28,152] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:07:28,152] - Connection release mode: auto
 INFO [2011-04-05 22:07:28,152] - Default batch fetch size: 1
 INFO [2011-04-05 22:07:28,152] - Statistics: disabled
 INFO [2011-04-05 22:07:28,152] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:07:28,152] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:07:28,153] - Query language substitutions: {}
 INFO [2011-04-05 22:07:28,154] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:07:28,154] - Wrap result sets: disabled
 INFO [2011-04-05 22:07:28,155] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:07:28,155] - Default entity-mode: Poco
 INFO [2011-04-05 22:07:28,155] - Named query checking : enabled
 INFO [2011-04-05 22:07:28,173] - building session factory
DEBUG [2011-04-05 22:07:28,174] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:07:28,174] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:07:28,175] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:28,177] - Closing connection
DEBUG [2011-04-05 22:07:28,234] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:28,238] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:28,249] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:28,274] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,274] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,274] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,274] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:07:28,274] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:07:28,275] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:07:28,300] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:28,301] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:07:28,301] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:07:28,301] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:07:28,339] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:28,339] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,339] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:07:28,339] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:07:28,339] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:07:28,339] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,339] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:07:28,371] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,371] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,372] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,372] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,372] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,373] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,373] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,373] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,373] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,373] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:07:28,373] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:07:28,374] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:07:28,374] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:07:28,374] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:07:28,374] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,383] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:07:28,384] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:07:28,384] - registered: 8798742105c94f2f86701378bc28a06d(unnamed)
 INFO [2011-04-05 22:07:28,384] - no name configured
DEBUG [2011-04-05 22:07:28,384] - Instantiated session factory
DEBUG [2011-04-05 22:07:28,388] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:07:28,388] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:07:28,400] - [session-id=ec94e796-6ab4-4ec1-8bd2-80ca7cc12b3b] opened session at timestamp: 634376380483, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:29,060] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:29,271] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:07:29,290] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:07:29,303] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:07:29,306] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:07:29,308] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:07:29,328] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:07:29,332] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:07:29,333] - throwQueryException() : no errors
DEBUG [2011-04-05 22:07:29,360] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:29,360] - throwQueryException() : no errors
DEBUG [2011-04-05 22:07:29,389] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:29,391] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:07:29,392] - named parameters: {}
DEBUG [2011-04-05 22:07:29,414] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:29,414] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:07:29,419] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:29,421] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:29,422] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:29,423] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:29,423] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:29,425] - processing result set
DEBUG [2011-04-05 22:07:29,425] - result set row: 0
DEBUG [2011-04-05 22:07:29,427] - returning '2' as column: ID0_
DEBUG [2011-04-05 22:07:29,429] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,434] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,438] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,439] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-05 22:07:29,439] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:07:29,441] - done processing result set (1 rows)
DEBUG [2011-04-05 22:07:29,443] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:29,443] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:29,443] - DataReader was closed after 20 ms
DEBUG [2011-04-05 22:07:29,443] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:29,444] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:29,444] - Closing connection
DEBUG [2011-04-05 22:07:29,445] - total objects hydrated: 1
DEBUG [2011-04-05 22:07:29,448] - resolving associations for [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,451] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,457] - done materializing entity [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,458] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:29,460] - after autocommit
DEBUG [2011-04-05 22:07:29,461] - transaction completion
DEBUG [2011-04-05 22:07:29,461] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:29,468] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,468] - checking second-level cache
DEBUG [2011-04-05 22:07:29,469] - collection not cached
DEBUG [2011-04-05 22:07:29,471] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,473] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:29,473] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:07:29,473] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-05 22:07:29,473] - binding '2' to parameter: 0
 INFO [2011-04-05 22:07:29,473] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:07:29,474] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:29,474] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:29,475] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:29,475] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:29,475] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,476] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:07:29,478] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#2]]
DEBUG [2011-04-05 22:07:29,478] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:07:29,480] - processing result set
DEBUG [2011-04-05 22:07:29,480] - done processing result set (0 rows)
DEBUG [2011-04-05 22:07:29,480] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:29,480] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:29,480] - DataReader was closed after 5 ms
DEBUG [2011-04-05 22:07:29,480] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:29,480] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:29,480] - Closing connection
DEBUG [2011-04-05 22:07:29,480] - total objects hydrated: 0
DEBUG [2011-04-05 22:07:29,483] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] in any result-set context
DEBUG [2011-04-05 22:07:29,483] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] not located in load context
DEBUG [2011-04-05 22:07:29,483] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@1b1eca1]
DEBUG [2011-04-05 22:07:29,484] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:29,485] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@1b1eca1]
DEBUG [2011-04-05 22:07:29,487] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,487] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:29,488] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:29,488] - done loading collection
DEBUG [2011-04-05 22:07:29,488] - collection initialized
DEBUG [2011-04-05 22:07:30,905] - [session-id=be2d898a-227a-436b-91cc-e53aa074a0a7] opened session at timestamp: 634376380509, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:30,907] - Begin (Unspecified)
DEBUG [2011-04-05 22:07:30,907] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:30,915] - loading entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:30,916] - creating new proxy for entity
DEBUG [2011-04-05 22:07:31,319] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,320] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,321] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,322] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,324] - loading entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,324] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:31,324] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:31,324] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-05 22:07:31,324] - binding '2' to parameter: 0
 INFO [2011-04-05 22:07:31,324] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-05 22:07:31,324] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:31,324] - Enlist Command
DEBUG [2011-04-05 22:07:31,326] - ExecuteReader took 2 ms
DEBUG [2011-04-05 22:07:31,327] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:31,327] - processing result set
DEBUG [2011-04-05 22:07:31,327] - result set row: 0
DEBUG [2011-04-05 22:07:31,327] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,327] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,327] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,327] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-05 22:07:31,327] - returning null as column: Chocolat3_0_0_
DEBUG [2011-04-05 22:07:31,327] - done processing result set (1 rows)
DEBUG [2011-04-05 22:07:31,327] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:31,327] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:31,327] - DataReader was closed after 2 ms
DEBUG [2011-04-05 22:07:31,327] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:31,327] - total objects hydrated: 1
DEBUG [2011-04-05 22:07:31,327] - resolving associations for [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,327] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:31,328] - done materializing entity [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,328] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:31,328] - done entity load
DEBUG [2011-04-05 22:07:31,328] - deleting a persistent instance
DEBUG [2011-04-05 22:07:31,329] - deleting [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,330] - setting cache mode to: Get
DEBUG [2011-04-05 22:07:31,331] - setting cache mode to: Normal
DEBUG [2011-04-05 22:07:31,333] - setting cache mode to: Get
DEBUG [2011-04-05 22:07:31,333] - setting cache mode to: Normal
DEBUG [2011-04-05 22:07:31,334] - Start Commit
DEBUG [2011-04-05 22:07:31,337] - flushing session
DEBUG [2011-04-05 22:07:31,337] - processing flush-time cascades
DEBUG [2011-04-05 22:07:31,338] - dirty checking collections
DEBUG [2011-04-05 22:07:31,340] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 22:07:31,347] - Processing unreferenced collections
DEBUG [2011-04-05 22:07:31,348] - Collection dereferenced: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:31,349] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 22:07:31,350] - Flushed: 0 insertions, 0 updates, 1 deletions to 1 objects
DEBUG [2011-04-05 22:07:31,350] - Flushed: 0 (re)creations, 0 updates, 1 removals to 1 collections
DEBUG [2011-04-05 22:07:31,351] - listing entities:
DEBUG [2011-04-05 22:07:31,354] - nhibernate_demo.Models.ChocolateBar{'ID'='2', 'Features'='<uninitialized>', 'Name'='Mr. Big', 'Chocolatier'='null'}
DEBUG [2011-04-05 22:07:31,354] - executing flush
DEBUG [2011-04-05 22:07:31,354] - registering flush begin
DEBUG [2011-04-05 22:07:31,358] - Deleting collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:31,358] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:31,358] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:07:31,359] - binding '2' to parameter: 0
DEBUG [2011-04-05 22:07:31,359] - UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = @p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:31,359] - Enlist Command
DEBUG [2011-04-05 22:07:31,382] - ExecuteNonQuery took 22 ms
DEBUG [2011-04-05 22:07:31,382] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:31,382] - done deleting collection
DEBUG [2011-04-05 22:07:31,388] - Deleting entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,388] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:31,389] - Building an IDbCommand object for the SqlString: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:07:31,389] - binding '2' to parameter: 0
DEBUG [2011-04-05 22:07:31,389] - DELETE FROM [ChocolateBar] WHERE ID = @p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:31,389] - Enlist Command
DEBUG [2011-04-05 22:07:31,390] - ExecuteNonQuery took 1 ms
DEBUG [2011-04-05 22:07:31,395] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-05 22:07:31,395] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:31,395] - registering flush end
DEBUG [2011-04-05 22:07:31,396] - post flush
DEBUG [2011-04-05 22:07:31,398] - before transaction completion
DEBUG [2011-04-05 22:07:31,398] - IDbTransaction Committed
DEBUG [2011-04-05 22:07:31,399] - transaction completion
DEBUG [2011-04-05 22:07:31,399] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:31,399] - Closing connection
DEBUG [2011-04-05 22:07:31,399] - IDbTransaction disposed.
DEBUG [2011-04-05 22:07:32,412] - [session-id=f1246978-6fb1-4be9-8793-4c2fb39510e5] opened session at timestamp: 634376380524, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:32,413] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:32,413] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:32,413] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:07:32,413] - named parameters: {}
DEBUG [2011-04-05 22:07:32,413] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:32,413] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:07:32,413] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:32,414] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:32,414] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:32,414] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:32,414] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:32,414] - processing result set
DEBUG [2011-04-05 22:07:32,414] - done processing result set (0 rows)
DEBUG [2011-04-05 22:07:32,414] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:32,414] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:32,414] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:07:32,414] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:32,414] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:32,414] - Closing connection
DEBUG [2011-04-05 22:07:32,414] - total objects hydrated: 0
DEBUG [2011-04-05 22:07:32,414] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:32,414] - after autocommit
DEBUG [2011-04-05 22:07:32,414] - transaction completion
DEBUG [2011-04-05 22:07:32,414] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:39,135] - [session-id=be2d898a-227a-436b-91cc-e53aa074a0a7] executing real Dispose(False)
DEBUG [2011-04-05 22:07:39,135] - [session-id=f1246978-6fb1-4be9-8793-4c2fb39510e5] executing real Dispose(False)
DEBUG [2011-04-05 22:07:42,817] - [session-id=ed51920c-c31f-4674-80aa-9fe49ac7b64b] opened session at timestamp: 634376380628, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:42,817] - Begin (Unspecified)
DEBUG [2011-04-05 22:07:42,818] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:42,824] - unsaved-value: 0
DEBUG [2011-04-05 22:07:42,824] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:42,825] - saving transient instance
DEBUG [2011-04-05 22:07:42,826] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:07:42,828] - executing insertions
DEBUG [2011-04-05 22:07:42,830] - executing identity-insert immediately
DEBUG [2011-04-05 22:07:42,832] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-05 22:07:42,833] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:42,833] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:07:42,833] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:07:42,834] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-05 22:07:42,835] - binding null to parameter: 1
DEBUG [2011-04-05 22:07:42,835] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = NULL [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:42,835] - Enlist Command
DEBUG [2011-04-05 22:07:42,836] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:42,836] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:42,836] - returning '3' as column: 
DEBUG [2011-04-05 22:07:42,836] - Natively generated identity: 3
DEBUG [2011-04-05 22:07:42,836] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:42,836] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:42,836] - DataReader was closed after 1 ms
DEBUG [2011-04-05 22:07:42,836] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:42,838] - Start Commit
DEBUG [2011-04-05 22:07:42,838] - flushing session
DEBUG [2011-04-05 22:07:42,838] - processing flush-time cascades
DEBUG [2011-04-05 22:07:42,839] - dirty checking collections
DEBUG [2011-04-05 22:07:42,839] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 22:07:42,840] - Processing unreferenced collections
DEBUG [2011-04-05 22:07:42,840] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 22:07:42,840] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 22:07:42,840] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-05 22:07:42,840] - listing entities:
DEBUG [2011-04-05 22:07:42,840] - nhibernate_demo.Models.ChocolateBar{'ID'='3', 'Features'='null', 'Name'='Mr. Big', 'Chocolatier'='null'}
DEBUG [2011-04-05 22:07:42,840] - executing flush
DEBUG [2011-04-05 22:07:42,840] - registering flush begin
DEBUG [2011-04-05 22:07:42,840] - registering flush end
DEBUG [2011-04-05 22:07:42,840] - post flush
DEBUG [2011-04-05 22:07:42,841] - before transaction completion
DEBUG [2011-04-05 22:07:42,851] - IDbTransaction Committed
DEBUG [2011-04-05 22:07:42,851] - transaction completion
DEBUG [2011-04-05 22:07:42,851] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:42,851] - Closing connection
DEBUG [2011-04-05 22:07:42,851] - IDbTransaction disposed.
DEBUG [2011-04-05 22:07:43,856] - [session-id=1b871adb-f912-4e82-9ec1-1296dc0534d3] opened session at timestamp: 634376380638, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:43,857] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:43,858] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:43,858] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:07:43,858] - named parameters: {}
DEBUG [2011-04-05 22:07:43,858] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:43,858] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:07:43,858] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:43,858] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:43,858] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:43,858] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:43,858] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:43,858] - processing result set
DEBUG [2011-04-05 22:07:43,858] - result set row: 0
DEBUG [2011-04-05 22:07:43,858] - returning '3' as column: ID0_
DEBUG [2011-04-05 22:07:43,858] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,858] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,858] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,858] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-05 22:07:43,859] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:07:43,859] - done processing result set (1 rows)
DEBUG [2011-04-05 22:07:43,859] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:43,859] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:43,859] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:07:43,859] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:43,859] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:43,859] - Closing connection
DEBUG [2011-04-05 22:07:43,859] - total objects hydrated: 1
DEBUG [2011-04-05 22:07:43,859] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,859] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,859] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,859] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:43,859] - after autocommit
DEBUG [2011-04-05 22:07:43,859] - transaction completion
DEBUG [2011-04-05 22:07:43,859] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:43,859] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,859] - checking second-level cache
DEBUG [2011-04-05 22:07:43,859] - collection not cached
DEBUG [2011-04-05 22:07:43,859] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,859] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:43,859] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:07:43,859] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 22:07:43,859] - binding '3' to parameter: 0
 INFO [2011-04-05 22:07:43,859] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:07:43,859] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:43,859] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:43,860] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:43,860] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:43,860] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,860] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:07:43,860] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 22:07:43,860] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:07:43,860] - processing result set
DEBUG [2011-04-05 22:07:43,860] - done processing result set (0 rows)
DEBUG [2011-04-05 22:07:43,860] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:43,860] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:43,860] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:07:43,860] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:43,860] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:43,860] - Closing connection
DEBUG [2011-04-05 22:07:43,860] - total objects hydrated: 0
DEBUG [2011-04-05 22:07:43,860] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 22:07:43,860] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 22:07:43,860] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@1164129]
DEBUG [2011-04-05 22:07:43,860] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:43,860] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@1164129]
DEBUG [2011-04-05 22:07:43,860] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,860] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:43,860] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:43,860] - done loading collection
DEBUG [2011-04-05 22:07:43,860] - collection initialized
 INFO [2011-04-05 22:20:55,693] - Starting up
 INFO [2011-04-05 22:20:56,727] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:20:56,728] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:20:56,728] - Bytecode provider name : lcg
 INFO [2011-04-05 22:20:56,729] - Using reflection optimizer
DEBUG [2011-04-05 22:20:57,001] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:20:57,128] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:20:57,168] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:20:57,196] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:20:57,228] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:20:57,231] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:20:57,238] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:20:57,245] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:20:57,246] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:20:57,247] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:20:57,247] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:20:57,247] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:20:57,248] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:20:57,248] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:20:57,249] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:20:57,249] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:20:57,249] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:20:57,252] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:20:57,254] - Running hbm2ddl schema update
 INFO [2011-04-05 22:20:57,254] - fetching database metadata
 INFO [2011-04-05 22:20:57,255] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:20:57,255] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:20:57,257] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:20:57,265] - updating schema
 INFO [2011-04-05 22:20:57,271] - checking mappings queue
 INFO [2011-04-05 22:20:57,272] - processing one-to-many association mappings
DEBUG [2011-04-05 22:20:57,272] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:20:57,273] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:20:57,277] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:20:57,277] - processing one-to-one association property references
 INFO [2011-04-05 22:20:57,277] - processing foreign key constraints
DEBUG [2011-04-05 22:20:57,279] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:20:57,280] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:20:57,281] - processing filters (second pass)
 INFO [2011-04-05 22:20:57,301] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:20:57,301] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:20:57,301] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:20:57,302] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:20:57,312] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:20:57,312] - columns: id, name
 INFO [2011-04-05 22:20:57,312] - foreign keys: 
 INFO [2011-04-05 22:20:57,312] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:20:57,316] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:20:57,316] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:20:57,316] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:20:57,316] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:20:57,330] - schema update complete
DEBUG [2011-04-05 22:20:57,331] - Closing connection
 INFO [2011-04-05 22:20:57,331] - checking mappings queue
 INFO [2011-04-05 22:20:57,331] - processing one-to-many association mappings
 INFO [2011-04-05 22:20:57,332] - processing one-to-one association property references
 INFO [2011-04-05 22:20:57,332] - processing foreign key constraints
DEBUG [2011-04-05 22:20:57,332] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:20:57,332] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:20:57,332] - processing filters (second pass)
 INFO [2011-04-05 22:20:57,357] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:20:57,380] - Using dialect defined converter
 INFO [2011-04-05 22:20:57,380] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:20:57,380] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:20:57,380] - Configuring ConnectionProvider
 INFO [2011-04-05 22:20:57,381] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:20:57,381] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:20:57,381] - Connection release mode: auto
 INFO [2011-04-05 22:20:57,381] - Default batch fetch size: 1
 INFO [2011-04-05 22:20:57,381] - Statistics: disabled
 INFO [2011-04-05 22:20:57,381] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:20:57,382] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:20:57,383] - Query language substitutions: {}
 INFO [2011-04-05 22:20:57,383] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:20:57,384] - Wrap result sets: disabled
 INFO [2011-04-05 22:20:57,384] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:20:57,384] - Default entity-mode: Poco
 INFO [2011-04-05 22:20:57,385] - Named query checking : enabled
 INFO [2011-04-05 22:20:57,403] - building session factory
DEBUG [2011-04-05 22:20:57,403] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:20:57,404] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:20:57,405] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:20:57,407] - Closing connection
DEBUG [2011-04-05 22:20:57,465] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:20:57,471] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:20:57,482] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:20:57,507] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:20:57,507] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:20:57,508] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:20:57,508] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:20:57,508] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:20:57,509] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:20:57,535] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:20:57,535] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:20:57,535] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:20:57,535] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:20:57,575] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:20:57,575] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:20:57,575] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:20:57,575] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:20:57,575] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:20:57,575] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:20:57,575] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:20:57,608] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:20:57,608] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:20:57,608] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:20:57,608] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:20:57,608] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:20:57,609] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:20:57,609] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:20:57,610] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:20:57,610] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:20:57,610] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:20:57,610] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:20:57,610] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:20:57,610] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:20:57,610] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:20:57,610] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:20:57,610] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:20:57,610] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:20:57,610] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:20:57,610] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:20:57,610] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:20:57,610] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:20:57,610] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:20:57,610] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:20:57,610] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:20:57,610] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:20:57,610] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:20:57,610] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:20:57,610] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:20:57,611] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:20:57,611] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:20:57,611] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:20:57,611] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:20:57,611] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:20:57,611] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:20:57,611] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:20:57,620] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:20:57,621] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:20:57,621] - registered: ba87f53602984c9bb8020789ddaa1841(unnamed)
 INFO [2011-04-05 22:20:57,621] - no name configured
DEBUG [2011-04-05 22:20:57,621] - Instantiated session factory
DEBUG [2011-04-05 22:20:57,625] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:20:57,625] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:20:57,637] - [session-id=a9a72994-e338-4193-9b81-b4d1913b8409] opened session at timestamp: 634376388576, for session factory: [/ba87f53602984c9bb8020789ddaa1841]
DEBUG [2011-04-05 22:20:58,370] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:20:58,606] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:20:58,622] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:20:58,635] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:20:58,638] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:20:58,640] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:20:58,661] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:20:58,666] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:20:58,666] - throwQueryException() : no errors
DEBUG [2011-04-05 22:20:58,694] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:20:58,694] - throwQueryException() : no errors
DEBUG [2011-04-05 22:20:58,723] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:20:58,726] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:20:58,727] - named parameters: {}
DEBUG [2011-04-05 22:20:58,750] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:20:58,750] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:20:58,754] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:20:58,757] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:20:58,758] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:20:58,759] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:20:58,759] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:20:58,760] - processing result set
DEBUG [2011-04-05 22:20:58,760] - result set row: 0
DEBUG [2011-04-05 22:20:58,763] - returning '3' as column: ID0_
DEBUG [2011-04-05 22:20:58,765] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:20:58,770] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:20:58,775] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:20:58,775] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-05 22:20:58,775] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:20:58,777] - done processing result set (1 rows)
DEBUG [2011-04-05 22:20:58,779] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:20:58,779] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:20:58,779] - DataReader was closed after 20 ms
DEBUG [2011-04-05 22:20:58,779] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:20:58,780] - aggressively releasing database connection
DEBUG [2011-04-05 22:20:58,780] - Closing connection
DEBUG [2011-04-05 22:20:58,781] - total objects hydrated: 1
DEBUG [2011-04-05 22:20:58,784] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:20:58,787] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:20:58,793] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:20:58,794] - initializing non-lazy collections
DEBUG [2011-04-05 22:20:58,796] - after autocommit
DEBUG [2011-04-05 22:20:58,797] - transaction completion
DEBUG [2011-04-05 22:20:58,797] - aggressively releasing database connection
DEBUG [2011-04-05 22:20:58,804] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:20:58,804] - checking second-level cache
DEBUG [2011-04-05 22:20:58,805] - collection not cached
DEBUG [2011-04-05 22:20:58,807] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:20:58,809] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:20:58,809] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:20:58,809] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 22:20:58,809] - binding '3' to parameter: 0
 INFO [2011-04-05 22:20:58,809] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:20:58,810] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:20:58,810] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:20:58,811] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:20:58,811] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:20:58,811] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:20:58,812] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:20:58,814] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 22:20:58,814] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:20:58,816] - processing result set
DEBUG [2011-04-05 22:20:58,816] - done processing result set (0 rows)
DEBUG [2011-04-05 22:20:58,816] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:20:58,816] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:20:58,816] - DataReader was closed after 5 ms
DEBUG [2011-04-05 22:20:58,816] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:20:58,816] - aggressively releasing database connection
DEBUG [2011-04-05 22:20:58,816] - Closing connection
DEBUG [2011-04-05 22:20:58,816] - total objects hydrated: 0
DEBUG [2011-04-05 22:20:58,819] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 22:20:58,819] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 22:20:58,819] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@3accc88]
DEBUG [2011-04-05 22:20:58,820] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:20:58,821] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@3accc88]
DEBUG [2011-04-05 22:20:58,823] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:20:58,823] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:20:58,824] - initializing non-lazy collections
DEBUG [2011-04-05 22:20:58,824] - done loading collection
DEBUG [2011-04-05 22:20:58,824] - collection initialized
DEBUG [2011-04-05 22:21:02,280] - [session-id=bed446a9-e182-431f-9a5f-4003aef71655] opened session at timestamp: 634376388622, for session factory: [/ba87f53602984c9bb8020789ddaa1841]
DEBUG [2011-04-05 22:21:02,288] - loading entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:02,288] - creating new proxy for entity
DEBUG [2011-04-05 22:21:02,441] - after autocommit
DEBUG [2011-04-05 22:21:02,441] - transaction completion
DEBUG [2011-04-05 22:21:02,441] - aggressively releasing database connection
 INFO [2011-04-05 22:21:30,339] - Starting up
 INFO [2011-04-05 22:21:31,054] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:21:31,055] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:21:31,056] - Bytecode provider name : lcg
 INFO [2011-04-05 22:21:31,057] - Using reflection optimizer
DEBUG [2011-04-05 22:21:31,364] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:21:31,495] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:21:31,551] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:21:31,583] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:21:31,620] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:21:31,623] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:21:31,630] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:21:31,637] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:21:31,638] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:21:31,639] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:21:31,639] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:21:31,639] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:21:31,640] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:21:31,641] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:21:31,641] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:21:31,641] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:21:31,641] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:21:31,645] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:21:31,647] - Running hbm2ddl schema update
 INFO [2011-04-05 22:21:31,647] - fetching database metadata
 INFO [2011-04-05 22:21:31,648] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:21:31,649] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:21:31,651] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:21:31,660] - updating schema
 INFO [2011-04-05 22:21:31,667] - checking mappings queue
 INFO [2011-04-05 22:21:31,667] - processing one-to-many association mappings
DEBUG [2011-04-05 22:21:31,667] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:21:31,668] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:21:31,673] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:21:31,673] - processing one-to-one association property references
 INFO [2011-04-05 22:21:31,673] - processing foreign key constraints
DEBUG [2011-04-05 22:21:31,675] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:21:31,676] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:21:31,676] - processing filters (second pass)
 INFO [2011-04-05 22:21:31,699] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:21:31,699] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:21:31,699] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:21:31,700] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:21:31,711] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:21:31,711] - columns: id, name
 INFO [2011-04-05 22:21:31,711] - foreign keys: 
 INFO [2011-04-05 22:21:31,711] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:21:31,715] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:21:31,715] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:21:31,715] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:21:31,715] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:21:31,737] - schema update complete
DEBUG [2011-04-05 22:21:31,737] - Closing connection
 INFO [2011-04-05 22:21:31,745] - checking mappings queue
 INFO [2011-04-05 22:21:31,745] - processing one-to-many association mappings
 INFO [2011-04-05 22:21:31,745] - processing one-to-one association property references
 INFO [2011-04-05 22:21:31,745] - processing foreign key constraints
DEBUG [2011-04-05 22:21:31,745] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:21:31,745] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:21:31,745] - processing filters (second pass)
 INFO [2011-04-05 22:21:31,772] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:21:31,796] - Using dialect defined converter
 INFO [2011-04-05 22:21:31,797] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:21:31,797] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:21:31,797] - Configuring ConnectionProvider
 INFO [2011-04-05 22:21:31,797] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:21:31,798] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:21:31,798] - Connection release mode: auto
 INFO [2011-04-05 22:21:31,798] - Default batch fetch size: 1
 INFO [2011-04-05 22:21:31,798] - Statistics: disabled
 INFO [2011-04-05 22:21:31,798] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:21:31,798] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:21:31,800] - Query language substitutions: {}
 INFO [2011-04-05 22:21:31,800] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:21:31,800] - Wrap result sets: disabled
 INFO [2011-04-05 22:21:31,801] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:21:31,801] - Default entity-mode: Poco
 INFO [2011-04-05 22:21:31,801] - Named query checking : enabled
 INFO [2011-04-05 22:21:31,821] - building session factory
DEBUG [2011-04-05 22:21:31,822] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:21:31,822] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:21:31,823] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:21:31,825] - Closing connection
DEBUG [2011-04-05 22:21:31,892] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:21:31,897] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:21:31,910] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:21:31,938] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:21:31,938] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:21:31,938] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:21:31,938] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:21:31,938] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:21:31,939] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:21:31,969] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:21:31,970] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:21:31,970] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:21:31,970] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:21:32,011] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:21:32,011] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:21:32,011] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:21:32,011] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:21:32,011] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:21:32,011] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:21:32,011] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:21:32,045] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:21:32,046] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:21:32,046] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:21:32,046] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:21:32,046] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:21:32,047] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:21:32,047] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:21:32,048] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:21:32,048] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:21:32,048] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:21:32,048] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:21:32,048] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:21:32,048] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:21:32,048] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:21:32,048] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:21:32,048] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:21:32,048] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:21:32,048] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:21:32,048] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:21:32,048] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:21:32,049] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:21:32,049] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:21:32,058] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:21:32,059] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:21:32,059] - registered: 4ffe0b85ca374e6eb1f3ac466e06abba(unnamed)
 INFO [2011-04-05 22:21:32,059] - no name configured
DEBUG [2011-04-05 22:21:32,059] - Instantiated session factory
DEBUG [2011-04-05 22:21:32,064] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:21:32,064] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:21:32,081] - [session-id=398e0c06-d927-4e12-896a-c399b91e466c] opened session at timestamp: 634376388920, for session factory: [/4ffe0b85ca374e6eb1f3ac466e06abba]
DEBUG [2011-04-05 22:21:32,089] - loading entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:32,090] - creating new proxy for entity
DEBUG [2011-04-05 22:21:32,267] - after autocommit
DEBUG [2011-04-05 22:21:32,268] - transaction completion
DEBUG [2011-04-05 22:21:32,268] - aggressively releasing database connection
DEBUG [2011-04-05 22:21:33,347] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,349] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,351] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,351] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,354] - loading entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,375] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:21:33,375] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:21:33,378] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 22:21:33,379] - binding '3' to parameter: 0
 INFO [2011-04-05 22:21:33,380] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-05 22:21:33,384] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:21:33,384] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:21:33,386] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:21:33,386] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:21:33,387] - processing result set
DEBUG [2011-04-05 22:21:33,387] - result set row: 0
DEBUG [2011-04-05 22:21:33,390] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,394] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,398] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,399] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-05 22:21:33,399] - returning null as column: Chocolat3_0_0_
DEBUG [2011-04-05 22:21:33,401] - done processing result set (1 rows)
DEBUG [2011-04-05 22:21:33,402] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:21:33,402] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:21:33,402] - DataReader was closed after 16 ms
DEBUG [2011-04-05 22:21:33,403] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:21:33,403] - aggressively releasing database connection
DEBUG [2011-04-05 22:21:33,403] - Closing connection
DEBUG [2011-04-05 22:21:33,404] - total objects hydrated: 1
DEBUG [2011-04-05 22:21:33,407] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,410] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:21:33,419] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:33,420] - initializing non-lazy collections
DEBUG [2011-04-05 22:21:33,420] - done entity load
DEBUG [2011-04-05 22:21:41,780] - [session-id=474c1b53-339a-4f4c-8be0-cae91ebc798f] opened session at timestamp: 634376389017, for session factory: [/4ffe0b85ca374e6eb1f3ac466e06abba]
DEBUG [2011-04-05 22:21:41,782] - Begin (Unspecified)
DEBUG [2011-04-05 22:21:41,782] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:21:41,791] - unsaved-value: 0
DEBUG [2011-04-05 22:21:41,791] - detached instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:21:41,791] - updating detached instance
DEBUG [2011-04-05 22:21:41,792] - updating [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:41,795] - collection dereferenced while transient [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:21:41,796] - updating [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:41,798] - Start Commit
DEBUG [2011-04-05 22:21:41,801] - flushing session
DEBUG [2011-04-05 22:21:41,802] - processing flush-time cascades
DEBUG [2011-04-05 22:21:41,803] - dirty checking collections
DEBUG [2011-04-05 22:21:41,804] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 22:21:41,811] - Updating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:41,815] - Processing unreferenced collections
DEBUG [2011-04-05 22:21:41,815] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 22:21:41,816] - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 22:21:41,816] - Flushed: 0 (re)creations, 0 updates, 1 removals to 0 collections
DEBUG [2011-04-05 22:21:41,816] - listing entities:
DEBUG [2011-04-05 22:21:41,818] - nhibernate_demo.Models.ChocolateBar{'ID'='3', 'Features'='null', 'Name'='Mr. Big1', 'Chocolatier'='null'}
DEBUG [2011-04-05 22:21:41,818] - executing flush
DEBUG [2011-04-05 22:21:41,819] - registering flush begin
DEBUG [2011-04-05 22:21:41,828] - Updating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:41,829] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:21:41,829] - Building an IDbCommand object for the SqlString: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:21:41,830] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:41,830] - binding 'Mr. Big1' to parameter: 0
DEBUG [2011-04-05 22:21:41,831] - binding null to parameter: 1
DEBUG [2011-04-05 22:21:41,831] - binding '3' to parameter: 2
DEBUG [2011-04-05 22:21:41,832] - UPDATE [ChocolateBar] SET Name = @p0, ChocolatierID = @p1 WHERE ID = @p2;@p0 = 'Mr. Big1' [Type: String (4000)], @p1 = NULL [Type: Int32 (0)], @p2 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:21:41,832] - Enlist Command
DEBUG [2011-04-05 22:21:41,834] - ExecuteNonQuery took 2 ms
DEBUG [2011-04-05 22:21:41,837] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-05 22:21:41,837] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:21:41,840] - Deleting collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:21:41,840] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:21:41,840] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:21:41,840] - binding '3' to parameter: 0
DEBUG [2011-04-05 22:21:41,840] - UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = @p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:21:41,840] - Enlist Command
DEBUG [2011-04-05 22:21:41,840] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-05 22:21:41,840] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:21:41,840] - done deleting collection
DEBUG [2011-04-05 22:21:41,841] - registering flush end
DEBUG [2011-04-05 22:21:41,843] - post flush
DEBUG [2011-04-05 22:21:41,844] - before transaction completion
DEBUG [2011-04-05 22:21:41,845] - IDbTransaction Committed
DEBUG [2011-04-05 22:21:41,845] - transaction completion
DEBUG [2011-04-05 22:21:41,845] - aggressively releasing database connection
DEBUG [2011-04-05 22:21:41,845] - Closing connection
DEBUG [2011-04-05 22:21:41,846] - IDbTransaction disposed.
DEBUG [2011-04-05 22:21:42,030] - [session-id=d40beb9b-ed42-43ea-a31d-8011b7022592] opened session at timestamp: 634376389020, for session factory: [/4ffe0b85ca374e6eb1f3ac466e06abba]
DEBUG [2011-04-05 22:21:42,053] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:21:42,405] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:21:42,420] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:21:42,434] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:21:42,437] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:21:42,438] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:21:42,459] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:21:42,463] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:21:42,464] - throwQueryException() : no errors
DEBUG [2011-04-05 22:21:42,491] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:21:42,491] - throwQueryException() : no errors
DEBUG [2011-04-05 22:21:42,518] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:21:42,521] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:21:42,522] - named parameters: {}
DEBUG [2011-04-05 22:21:42,526] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:21:42,526] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:21:42,526] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:21:42,526] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:21:42,526] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:21:42,526] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:21:42,526] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:21:42,527] - processing result set
DEBUG [2011-04-05 22:21:42,527] - result set row: 0
DEBUG [2011-04-05 22:21:42,527] - returning '3' as column: ID0_
DEBUG [2011-04-05 22:21:42,527] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:42,527] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:42,527] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:42,528] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 22:21:42,528] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:21:42,528] - done processing result set (1 rows)
DEBUG [2011-04-05 22:21:42,528] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:21:42,528] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:21:42,528] - DataReader was closed after 2 ms
DEBUG [2011-04-05 22:21:42,528] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:21:42,529] - aggressively releasing database connection
DEBUG [2011-04-05 22:21:42,529] - Closing connection
DEBUG [2011-04-05 22:21:42,529] - total objects hydrated: 1
DEBUG [2011-04-05 22:21:42,529] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:42,529] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:21:42,529] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:21:42,529] - initializing non-lazy collections
DEBUG [2011-04-05 22:21:42,530] - after autocommit
DEBUG [2011-04-05 22:21:42,530] - transaction completion
DEBUG [2011-04-05 22:21:42,530] - aggressively releasing database connection
DEBUG [2011-04-05 22:21:42,535] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:21:42,535] - checking second-level cache
DEBUG [2011-04-05 22:21:42,536] - collection not cached
DEBUG [2011-04-05 22:21:42,538] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:21:42,538] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:21:42,538] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:21:42,538] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 22:21:42,538] - binding '3' to parameter: 0
 INFO [2011-04-05 22:21:42,538] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:21:42,538] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:21:42,538] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:21:42,538] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:21:42,538] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:21:42,538] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:21:42,540] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:21:42,541] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 22:21:42,542] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:21:42,544] - processing result set
DEBUG [2011-04-05 22:21:42,544] - done processing result set (0 rows)
DEBUG [2011-04-05 22:21:42,544] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:21:42,544] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:21:42,544] - DataReader was closed after 5 ms
DEBUG [2011-04-05 22:21:42,544] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:21:42,544] - aggressively releasing database connection
DEBUG [2011-04-05 22:21:42,544] - Closing connection
DEBUG [2011-04-05 22:21:42,544] - total objects hydrated: 0
DEBUG [2011-04-05 22:21:42,546] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 22:21:42,546] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 22:21:42,547] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@1380b61]
DEBUG [2011-04-05 22:21:42,548] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:21:42,549] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@1380b61]
DEBUG [2011-04-05 22:21:42,551] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:21:42,551] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:21:42,551] - initializing non-lazy collections
DEBUG [2011-04-05 22:21:42,552] - done loading collection
DEBUG [2011-04-05 22:21:42,552] - collection initialized
DEBUG [2011-04-05 22:22:46,662] - [session-id=d5214fd9-7c33-4b57-b4e8-5f16d0a1a1a4] opened session at timestamp: 634376389666, for session factory: [/4ffe0b85ca374e6eb1f3ac466e06abba]
DEBUG [2011-04-05 22:22:46,680] - [session-id=474c1b53-339a-4f4c-8be0-cae91ebc798f] executing real Dispose(False)
DEBUG [2011-04-05 22:22:47,033] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:22:47,033] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:22:47,033] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:22:47,033] - named parameters: {}
DEBUG [2011-04-05 22:22:47,033] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:22:47,033] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:22:47,033] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:22:47,033] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:22:47,033] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:22:47,034] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:22:47,034] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:22:47,034] - processing result set
DEBUG [2011-04-05 22:22:47,034] - result set row: 0
DEBUG [2011-04-05 22:22:47,034] - returning '3' as column: ID0_
DEBUG [2011-04-05 22:22:47,034] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:22:47,034] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:22:47,034] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:22:47,034] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 22:22:47,034] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:22:47,034] - done processing result set (1 rows)
DEBUG [2011-04-05 22:22:47,034] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:22:47,034] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:22:47,034] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:22:47,034] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:22:47,034] - aggressively releasing database connection
DEBUG [2011-04-05 22:22:47,034] - Closing connection
DEBUG [2011-04-05 22:22:47,034] - total objects hydrated: 1
DEBUG [2011-04-05 22:22:47,034] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:22:47,034] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:22:47,034] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:22:47,034] - initializing non-lazy collections
DEBUG [2011-04-05 22:22:47,034] - after autocommit
DEBUG [2011-04-05 22:22:47,034] - transaction completion
DEBUG [2011-04-05 22:22:47,034] - aggressively releasing database connection
DEBUG [2011-04-05 22:22:47,035] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:22:47,035] - checking second-level cache
DEBUG [2011-04-05 22:22:47,035] - collection not cached
DEBUG [2011-04-05 22:22:47,035] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:22:47,035] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:22:47,035] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:22:47,035] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 22:22:47,035] - binding '3' to parameter: 0
 INFO [2011-04-05 22:22:47,035] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:22:47,035] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:22:47,035] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:22:47,035] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:22:47,035] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:22:47,035] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:22:47,035] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:22:47,035] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 22:22:47,035] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:22:47,035] - processing result set
DEBUG [2011-04-05 22:22:47,035] - done processing result set (0 rows)
DEBUG [2011-04-05 22:22:47,035] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:22:47,035] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:22:47,035] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:22:47,035] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:22:47,035] - aggressively releasing database connection
DEBUG [2011-04-05 22:22:47,036] - Closing connection
DEBUG [2011-04-05 22:22:47,036] - total objects hydrated: 0
DEBUG [2011-04-05 22:22:47,036] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 22:22:47,036] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 22:22:47,036] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@10d05e5]
DEBUG [2011-04-05 22:22:47,036] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:22:47,036] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@10d05e5]
DEBUG [2011-04-05 22:22:47,036] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:22:47,036] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:22:47,036] - initializing non-lazy collections
DEBUG [2011-04-05 22:22:47,036] - done loading collection
DEBUG [2011-04-05 22:22:47,036] - collection initialized
 INFO [2011-04-05 22:26:46,896] - Starting up
 INFO [2011-04-05 22:27:26,865] - Starting up
 INFO [2011-04-05 22:27:27,893] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:27:27,894] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:27:27,895] - Bytecode provider name : lcg
 INFO [2011-04-05 22:27:27,895] - Using reflection optimizer
DEBUG [2011-04-05 22:27:28,170] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:27:28,296] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:27:28,336] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:27:28,364] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:27:28,396] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:27:28,399] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:27:28,406] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:27:28,413] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:27:28,414] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:27:28,414] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:27:28,414] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:27:28,414] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:27:28,416] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:27:28,416] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:27:28,416] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:27:28,416] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:27:28,416] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:27:28,419] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:27:28,421] - Running hbm2ddl schema update
 INFO [2011-04-05 22:27:28,421] - fetching database metadata
 INFO [2011-04-05 22:27:28,422] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:27:28,423] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:27:28,424] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:27:28,433] - updating schema
 INFO [2011-04-05 22:27:28,439] - checking mappings queue
 INFO [2011-04-05 22:27:28,440] - processing one-to-many association mappings
DEBUG [2011-04-05 22:27:28,440] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:27:28,441] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:27:28,445] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:27:28,445] - processing one-to-one association property references
 INFO [2011-04-05 22:27:28,445] - processing foreign key constraints
DEBUG [2011-04-05 22:27:28,447] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:27:28,449] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:27:28,449] - processing filters (second pass)
 INFO [2011-04-05 22:27:28,470] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:27:28,471] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:27:28,471] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:27:28,471] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:27:28,482] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:27:28,482] - columns: id, name
 INFO [2011-04-05 22:27:28,482] - foreign keys: 
 INFO [2011-04-05 22:27:28,482] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:27:28,485] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:27:28,485] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:27:28,485] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:27:28,485] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:27:28,499] - schema update complete
DEBUG [2011-04-05 22:27:28,500] - Closing connection
 INFO [2011-04-05 22:27:28,501] - checking mappings queue
 INFO [2011-04-05 22:27:28,501] - processing one-to-many association mappings
 INFO [2011-04-05 22:27:28,501] - processing one-to-one association property references
 INFO [2011-04-05 22:27:28,501] - processing foreign key constraints
DEBUG [2011-04-05 22:27:28,501] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:27:28,501] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:27:28,501] - processing filters (second pass)
 INFO [2011-04-05 22:27:28,525] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:27:28,549] - Using dialect defined converter
 INFO [2011-04-05 22:27:28,549] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:27:28,549] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:27:28,549] - Configuring ConnectionProvider
 INFO [2011-04-05 22:27:28,550] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:27:28,550] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:27:28,550] - Connection release mode: auto
 INFO [2011-04-05 22:27:28,550] - Default batch fetch size: 1
 INFO [2011-04-05 22:27:28,550] - Statistics: disabled
 INFO [2011-04-05 22:27:28,550] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:27:28,550] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:27:28,552] - Query language substitutions: {}
 INFO [2011-04-05 22:27:28,552] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:27:28,552] - Wrap result sets: disabled
 INFO [2011-04-05 22:27:28,553] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:27:28,553] - Default entity-mode: Poco
 INFO [2011-04-05 22:27:28,553] - Named query checking : enabled
 INFO [2011-04-05 22:27:28,571] - building session factory
DEBUG [2011-04-05 22:27:28,571] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:27:28,572] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:27:28,573] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:27:28,575] - Closing connection
DEBUG [2011-04-05 22:27:28,631] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:27:28,635] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:27:28,646] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:27:28,671] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:27:28,671] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:27:28,671] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:27:28,671] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:27:28,671] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:27:28,672] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:27:28,697] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:27:28,698] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:27:28,698] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:27:28,698] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:27:28,737] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:27:28,737] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:27:28,737] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:27:28,737] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:27:28,737] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:27:28,737] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:27:28,737] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:27:28,770] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:27:28,771] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:27:28,771] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:27:28,771] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:27:28,771] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:27:28,772] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:27:28,772] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:27:28,772] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:27:28,773] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:27:28,773] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:27:28,773] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:27:28,773] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:27:28,773] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:27:28,773] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:27:28,773] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:27:28,773] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:27:28,773] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:27:28,773] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:27:28,773] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:27:28,773] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:27:28,773] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:27:28,782] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:27:28,783] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:27:28,784] - registered: b3a3664d170249778fd3e7c695e9b189(unnamed)
 INFO [2011-04-05 22:27:28,784] - no name configured
DEBUG [2011-04-05 22:27:28,784] - Instantiated session factory
DEBUG [2011-04-05 22:27:28,788] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:27:28,788] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:27:28,799] - [session-id=c5cb3fda-42d5-4cd5-8898-81ceb511fa7b] opened session at timestamp: 634376392487, for session factory: [/b3a3664d170249778fd3e7c695e9b189]
DEBUG [2011-04-05 22:27:29,566] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:27:29,793] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:27:29,808] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_0) -> chocolatie0_
DEBUG [2011-04-05 22:27:29,821] - Resolved :  <generated>_0 -> chocolatie0_.ID
DEBUG [2011-04-05 22:27:29,824] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:27:29,825] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-05 22:27:29,846] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-05 22:27:29,850] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:27:29,851] - throwQueryException() : no errors
DEBUG [2011-04-05 22:27:29,877] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:27:29,877] - throwQueryException() : no errors
DEBUG [2011-04-05 22:27:29,906] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:27:29,908] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:27:29,909] - named parameters: {}
DEBUG [2011-04-05 22:27:29,932] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:27:29,932] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:27:29,936] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:27:29,939] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:27:29,939] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:27:29,941] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:27:29,941] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:27:29,943] - processing result set
DEBUG [2011-04-05 22:27:29,943] - done processing result set (0 rows)
DEBUG [2011-04-05 22:27:29,944] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:27:29,944] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:27:29,944] - DataReader was closed after 3 ms
DEBUG [2011-04-05 22:27:29,945] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:27:29,946] - aggressively releasing database connection
DEBUG [2011-04-05 22:27:29,946] - Closing connection
DEBUG [2011-04-05 22:27:29,946] - total objects hydrated: 0
DEBUG [2011-04-05 22:27:29,947] - initializing non-lazy collections
DEBUG [2011-04-05 22:27:29,950] - after autocommit
DEBUG [2011-04-05 22:27:29,950] - transaction completion
DEBUG [2011-04-05 22:27:29,950] - aggressively releasing database connection
DEBUG [2011-04-05 22:27:50,813] - [session-id=8cc57103-5813-497c-acfb-62be8f2df40f] opened session at timestamp: 634376392708, for session factory: [/b3a3664d170249778fd3e7c695e9b189]
DEBUG [2011-04-05 22:27:51,165] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:27:51,165] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:27:51,165] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:27:51,165] - named parameters: {}
DEBUG [2011-04-05 22:27:51,165] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:27:51,165] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:27:51,165] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:27:51,165] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:27:51,165] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:27:51,166] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:27:51,166] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:27:51,166] - processing result set
DEBUG [2011-04-05 22:27:51,166] - done processing result set (0 rows)
DEBUG [2011-04-05 22:27:51,166] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:27:51,166] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:27:51,166] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:27:51,166] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:27:51,166] - aggressively releasing database connection
DEBUG [2011-04-05 22:27:51,166] - Closing connection
DEBUG [2011-04-05 22:27:51,166] - total objects hydrated: 0
DEBUG [2011-04-05 22:27:51,166] - initializing non-lazy collections
DEBUG [2011-04-05 22:27:51,166] - after autocommit
DEBUG [2011-04-05 22:27:51,166] - transaction completion
DEBUG [2011-04-05 22:27:51,166] - aggressively releasing database connection
DEBUG [2011-04-05 22:27:51,171] - [session-id=8cc57103-5813-497c-acfb-62be8f2df40f] executing real Dispose(False)
 INFO [2011-04-05 22:29:31,434] - Starting up
 INFO [2011-04-05 22:30:00,503] - Starting up
 INFO [2011-04-05 22:30:21,356] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:30:21,356] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:30:21,357] - Bytecode provider name : lcg
 INFO [2011-04-05 22:30:21,358] - Using reflection optimizer
DEBUG [2011-04-05 22:30:21,676] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:30:21,797] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:30:21,852] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:30:21,883] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:30:21,920] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:30:21,923] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:30:21,939] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:30:21,946] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:30:21,947] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:30:21,947] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:30:21,948] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:30:21,948] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:30:21,949] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:30:21,949] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:30:21,949] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:30:21,949] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:30:21,949] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:30:21,953] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:30:21,955] - Running hbm2ddl schema update
 INFO [2011-04-05 22:30:21,955] - fetching database metadata
 INFO [2011-04-05 22:30:21,956] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:30:21,957] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:30:21,958] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:30:21,968] - updating schema
 INFO [2011-04-05 22:30:21,975] - checking mappings queue
 INFO [2011-04-05 22:30:21,975] - processing one-to-many association mappings
DEBUG [2011-04-05 22:30:21,976] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:30:21,976] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:30:21,981] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:30:21,981] - processing one-to-one association property references
 INFO [2011-04-05 22:30:21,981] - processing foreign key constraints
DEBUG [2011-04-05 22:30:21,983] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:30:21,984] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:30:21,984] - processing filters (second pass)
 INFO [2011-04-05 22:30:22,006] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:30:22,007] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:30:22,007] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:30:22,007] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:30:22,018] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:30:22,018] - columns: id, name
 INFO [2011-04-05 22:30:22,018] - foreign keys: 
 INFO [2011-04-05 22:30:22,018] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:30:22,022] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:30:22,022] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:30:22,022] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:30:22,022] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:30:22,038] - schema update complete
DEBUG [2011-04-05 22:30:22,039] - Closing connection
 INFO [2011-04-05 22:30:22,041] - checking mappings queue
 INFO [2011-04-05 22:30:22,041] - processing one-to-many association mappings
 INFO [2011-04-05 22:30:22,041] - processing one-to-one association property references
 INFO [2011-04-05 22:30:22,041] - processing foreign key constraints
DEBUG [2011-04-05 22:30:22,041] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:30:22,041] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:30:22,041] - processing filters (second pass)
 INFO [2011-04-05 22:30:22,066] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:30:22,091] - Using dialect defined converter
 INFO [2011-04-05 22:30:22,091] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:30:22,091] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:30:22,091] - Configuring ConnectionProvider
 INFO [2011-04-05 22:30:22,092] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:30:22,092] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:30:22,092] - Connection release mode: auto
 INFO [2011-04-05 22:30:22,093] - Default batch fetch size: 1
 INFO [2011-04-05 22:30:22,093] - Statistics: disabled
 INFO [2011-04-05 22:30:22,093] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:30:22,093] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:30:22,094] - Query language substitutions: {}
 INFO [2011-04-05 22:30:22,095] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:30:22,095] - Wrap result sets: disabled
 INFO [2011-04-05 22:30:22,096] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:30:22,096] - Default entity-mode: Poco
 INFO [2011-04-05 22:30:22,096] - Named query checking : enabled
 INFO [2011-04-05 22:30:22,117] - building session factory
DEBUG [2011-04-05 22:30:22,118] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:30:22,119] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:30:22,120] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:30:22,122] - Closing connection
DEBUG [2011-04-05 22:30:22,193] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:30:22,197] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:30:22,209] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:30:22,234] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:30:22,235] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:30:22,235] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:30:22,235] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:30:22,235] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:30:22,236] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:30:22,264] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:30:22,264] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:30:22,264] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:30:22,264] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:30:22,305] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:30:22,305] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:30:22,305] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:30:22,305] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:30:22,305] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:30:22,305] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:30:22,305] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:30:22,341] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:30:22,341] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:30:22,341] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:30:22,341] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:30:22,341] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:30:22,343] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:30:22,343] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:30:22,343] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:30:22,343] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:30:22,343] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:30:22,343] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:30:22,343] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:30:22,343] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:30:22,343] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:30:22,343] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:30:22,343] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:30:22,344] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:30:22,344] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:30:22,344] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:30:22,344] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:30:22,344] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:30:22,344] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:30:22,344] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:30:22,344] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:30:22,354] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:30:22,355] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:30:22,355] - registered: 35a22f7433aa48ec9422f02123fee0c6(unnamed)
 INFO [2011-04-05 22:30:22,355] - no name configured
DEBUG [2011-04-05 22:30:22,355] - Instantiated session factory
DEBUG [2011-04-05 22:30:22,360] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:30:22,360] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:30:22,377] - [session-id=46658582-d0ad-4aaa-b87b-b11137c48267] opened session at timestamp: 634376394223, for session factory: [/35a22f7433aa48ec9422f02123fee0c6]
DEBUG [2011-04-05 22:30:22,403] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:30:22,789] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:30:22,805] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_0) -> chocolatie0_
DEBUG [2011-04-05 22:30:22,818] - Resolved :  <generated>_0 -> chocolatie0_.ID
DEBUG [2011-04-05 22:30:22,821] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:30:22,822] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-05 22:30:22,843] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-05 22:30:22,847] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:30:22,848] - throwQueryException() : no errors
DEBUG [2011-04-05 22:30:22,875] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:30:22,875] - throwQueryException() : no errors
DEBUG [2011-04-05 22:30:22,903] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:30:22,906] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:30:22,907] - named parameters: {}
DEBUG [2011-04-05 22:30:22,929] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:30:22,929] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:30:22,933] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:30:22,936] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:30:22,936] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:30:22,937] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:30:22,938] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:30:22,939] - processing result set
DEBUG [2011-04-05 22:30:22,939] - done processing result set (0 rows)
DEBUG [2011-04-05 22:30:22,940] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:30:22,941] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:30:22,941] - DataReader was closed after 3 ms
DEBUG [2011-04-05 22:30:22,941] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:30:22,942] - aggressively releasing database connection
DEBUG [2011-04-05 22:30:22,942] - Closing connection
DEBUG [2011-04-05 22:30:22,943] - total objects hydrated: 0
DEBUG [2011-04-05 22:30:22,944] - initializing non-lazy collections
DEBUG [2011-04-05 22:30:22,946] - after autocommit
DEBUG [2011-04-05 22:30:22,946] - transaction completion
DEBUG [2011-04-05 22:30:22,947] - aggressively releasing database connection
 INFO [2011-04-05 22:31:06,367] - Starting up
 INFO [2011-04-05 22:31:07,403] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:31:07,403] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:31:07,404] - Bytecode provider name : lcg
 INFO [2011-04-05 22:31:07,404] - Using reflection optimizer
DEBUG [2011-04-05 22:31:07,678] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:31:07,795] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:31:07,835] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:31:07,864] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:31:07,896] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:31:07,899] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:31:07,906] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:31:07,912] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:31:07,912] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:31:07,913] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:31:07,913] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:31:07,913] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:31:07,914] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:31:07,914] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:31:07,914] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:31:07,915] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:31:07,915] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:31:07,918] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:31:07,920] - Running hbm2ddl schema update
 INFO [2011-04-05 22:31:07,920] - fetching database metadata
 INFO [2011-04-05 22:31:07,920] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:31:07,921] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:31:07,923] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:31:07,931] - updating schema
 INFO [2011-04-05 22:31:07,938] - checking mappings queue
 INFO [2011-04-05 22:31:07,938] - processing one-to-many association mappings
DEBUG [2011-04-05 22:31:07,938] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:31:07,939] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:31:07,944] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:31:07,944] - processing one-to-one association property references
 INFO [2011-04-05 22:31:07,944] - processing foreign key constraints
DEBUG [2011-04-05 22:31:07,946] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:31:07,947] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:31:07,947] - processing filters (second pass)
 INFO [2011-04-05 22:31:07,968] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:31:07,969] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:31:07,969] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:31:07,969] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:31:07,980] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:31:07,980] - columns: id, name
 INFO [2011-04-05 22:31:07,980] - foreign keys: 
 INFO [2011-04-05 22:31:07,980] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:31:07,983] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:31:07,983] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:31:07,983] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:31:07,983] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:31:07,998] - schema update complete
DEBUG [2011-04-05 22:31:07,998] - Closing connection
 INFO [2011-04-05 22:31:07,999] - checking mappings queue
 INFO [2011-04-05 22:31:07,999] - processing one-to-many association mappings
 INFO [2011-04-05 22:31:07,999] - processing one-to-one association property references
 INFO [2011-04-05 22:31:07,999] - processing foreign key constraints
DEBUG [2011-04-05 22:31:07,999] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:31:07,999] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:31:07,999] - processing filters (second pass)
 INFO [2011-04-05 22:31:08,024] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:31:08,048] - Using dialect defined converter
 INFO [2011-04-05 22:31:08,048] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:31:08,048] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:31:08,048] - Configuring ConnectionProvider
 INFO [2011-04-05 22:31:08,048] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:31:08,049] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:31:08,049] - Connection release mode: auto
 INFO [2011-04-05 22:31:08,049] - Default batch fetch size: 1
 INFO [2011-04-05 22:31:08,049] - Statistics: disabled
 INFO [2011-04-05 22:31:08,049] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:31:08,049] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:31:08,050] - Query language substitutions: {}
 INFO [2011-04-05 22:31:08,051] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:31:08,051] - Wrap result sets: disabled
 INFO [2011-04-05 22:31:08,052] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:31:08,052] - Default entity-mode: Poco
 INFO [2011-04-05 22:31:08,052] - Named query checking : enabled
 INFO [2011-04-05 22:31:08,070] - building session factory
DEBUG [2011-04-05 22:31:08,070] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:31:08,071] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:31:08,072] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:31:08,074] - Closing connection
DEBUG [2011-04-05 22:31:08,131] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:31:08,136] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:31:08,147] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:31:08,172] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:31:08,172] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:31:08,173] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:31:08,173] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:31:08,173] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:31:08,174] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:31:08,200] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:31:08,201] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:31:08,201] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:31:08,201] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:31:08,241] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:31:08,241] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:31:08,241] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:31:08,241] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:31:08,242] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:31:08,242] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:31:08,242] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:31:08,277] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:31:08,277] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:31:08,277] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:31:08,277] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:31:08,277] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:31:08,278] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:31:08,279] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:31:08,279] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:31:08,279] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:31:08,279] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:31:08,279] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:31:08,279] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:31:08,279] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:31:08,279] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:31:08,279] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:31:08,279] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:31:08,279] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:31:08,279] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:31:08,279] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:31:08,280] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:31:08,280] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:31:08,280] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:31:08,280] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:31:08,280] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:31:08,280] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:31:08,280] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:31:08,280] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:31:08,280] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:31:08,280] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:31:08,280] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:31:08,280] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:31:08,280] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:31:08,280] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:31:08,280] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:31:08,280] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:31:08,290] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:31:08,291] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:31:08,291] - registered: 1e94c0fff9af48f4824db287bbf12efc(unnamed)
 INFO [2011-04-05 22:31:08,292] - no name configured
DEBUG [2011-04-05 22:31:08,292] - Instantiated session factory
DEBUG [2011-04-05 22:31:08,296] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:31:08,296] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:31:08,308] - [session-id=32700065-1c11-4c1b-8c73-63cd97011207] opened session at timestamp: 634376394682, for session factory: [/1e94c0fff9af48f4824db287bbf12efc]
DEBUG [2011-04-05 22:31:08,311] - Begin (Unspecified)
DEBUG [2011-04-05 22:31:08,311] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:31:08,319] - unsaved-value: 0
DEBUG [2011-04-05 22:31:08,320] - transient instance of: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:31:08,320] - saving transient instance
DEBUG [2011-04-05 22:31:08,321] - saving [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-05 22:31:08,326] - executing insertions
DEBUG [2011-04-05 22:31:08,330] - executing identity-insert immediately
DEBUG [2011-04-05 22:31:08,332] - Inserting entity: nhibernate_demo.Models.Chocolatier (native id)
DEBUG [2011-04-05 22:31:08,338] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:31:08,338] - Building an IDbCommand object for the SqlString: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:31:08,339] - Dehydrating entity: [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-05 22:31:08,339] - binding 'Cadbury' to parameter: 0
DEBUG [2011-04-05 22:31:08,343] - INSERT INTO [Chocolatier] (Name) VALUES (@p0); select SCOPE_IDENTITY();@p0 = 'Cadbury' [Type: String (4000)]
DEBUG [2011-04-05 22:31:08,344] - Enlist Command
DEBUG [2011-04-05 22:31:08,346] - ExecuteReader took 1 ms
DEBUG [2011-04-05 22:31:08,346] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:31:08,347] - returning '1' as column: 
DEBUG [2011-04-05 22:31:08,347] - Natively generated identity: 1
DEBUG [2011-04-05 22:31:08,348] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:31:08,349] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:31:08,349] - DataReader was closed after 4 ms
DEBUG [2011-04-05 22:31:08,350] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:31:08,357] - Start Commit
DEBUG [2011-04-05 22:31:08,360] - flushing session
DEBUG [2011-04-05 22:31:08,360] - processing flush-time cascades
DEBUG [2011-04-05 22:31:08,362] - dirty checking collections
DEBUG [2011-04-05 22:31:08,363] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 22:31:08,370] - Processing unreferenced collections
DEBUG [2011-04-05 22:31:08,370] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 22:31:08,370] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 22:31:08,371] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-05 22:31:08,371] - listing entities:
DEBUG [2011-04-05 22:31:08,372] - nhibernate_demo.Models.Chocolatier{'ID'='1', 'Name'='Cadbury'}
DEBUG [2011-04-05 22:31:08,372] - executing flush
DEBUG [2011-04-05 22:31:08,373] - registering flush begin
DEBUG [2011-04-05 22:31:08,373] - registering flush end
DEBUG [2011-04-05 22:31:08,375] - post flush
DEBUG [2011-04-05 22:31:08,376] - before transaction completion
DEBUG [2011-04-05 22:31:08,377] - IDbTransaction Committed
DEBUG [2011-04-05 22:31:08,378] - transaction completion
DEBUG [2011-04-05 22:31:08,378] - aggressively releasing database connection
DEBUG [2011-04-05 22:31:08,378] - Closing connection
DEBUG [2011-04-05 22:31:08,380] - IDbTransaction disposed.
DEBUG [2011-04-05 22:31:08,385] - [session-id=9c683fb8-1b19-41d7-bcaf-131bf73b1b55] opened session at timestamp: 634376394683, for session factory: [/1e94c0fff9af48f4824db287bbf12efc]
DEBUG [2011-04-05 22:31:09,087] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:31:09,334] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:31:09,350] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_0) -> chocolatie0_
DEBUG [2011-04-05 22:31:09,364] - Resolved :  <generated>_0 -> chocolatie0_.ID
DEBUG [2011-04-05 22:31:09,367] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:31:09,369] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-05 22:31:09,390] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-05 22:31:09,395] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:31:09,396] - throwQueryException() : no errors
DEBUG [2011-04-05 22:31:09,423] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:31:09,423] - throwQueryException() : no errors
DEBUG [2011-04-05 22:31:09,451] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:31:09,454] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:31:09,455] - named parameters: {}
DEBUG [2011-04-05 22:31:09,473] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:31:09,473] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:31:09,477] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:31:09,477] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:31:09,477] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:31:09,478] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:31:09,478] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:31:09,479] - processing result set
DEBUG [2011-04-05 22:31:09,479] - result set row: 0
DEBUG [2011-04-05 22:31:09,480] - returning '1' as column: ID1_
DEBUG [2011-04-05 22:31:09,482] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:31:09,486] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:31:09,487] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:31:09,488] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 22:31:09,489] - done processing result set (1 rows)
DEBUG [2011-04-05 22:31:09,489] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:31:09,489] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:31:09,489] - DataReader was closed after 12 ms
DEBUG [2011-04-05 22:31:09,489] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:31:09,490] - aggressively releasing database connection
DEBUG [2011-04-05 22:31:09,490] - Closing connection
DEBUG [2011-04-05 22:31:09,491] - total objects hydrated: 1
DEBUG [2011-04-05 22:31:09,493] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:31:09,495] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:31:09,496] - initializing non-lazy collections
DEBUG [2011-04-05 22:31:09,498] - after autocommit
DEBUG [2011-04-05 22:31:09,498] - transaction completion
DEBUG [2011-04-05 22:31:09,498] - aggressively releasing database connection
DEBUG [2011-04-05 22:32:31,915] - [session-id=cf7c5e5b-91c3-460e-a676-7314d4b078e8] opened session at timestamp: 634376395519, for session factory: [/1e94c0fff9af48f4824db287bbf12efc]
DEBUG [2011-04-05 22:32:32,464] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:32:32,465] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:32:32,465] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_1) -> chocolateb0_
DEBUG [2011-04-05 22:32:32,465] - Resolved :  <generated>_1 -> chocolateb0_.ID
DEBUG [2011-04-05 22:32:32,465] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:32:32,465] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:32:32,465] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:32:32,465] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:32:32,466] - throwQueryException() : no errors
DEBUG [2011-04-05 22:32:32,466] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:32:32,466] - throwQueryException() : no errors
DEBUG [2011-04-05 22:32:32,466] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:32:32,466] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:32:32,466] - named parameters: {}
DEBUG [2011-04-05 22:32:32,466] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:32:32,466] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:32:32,466] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:32:32,466] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:32:32,466] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:32:32,467] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:32:32,467] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:32:32,467] - processing result set
DEBUG [2011-04-05 22:32:32,467] - result set row: 0
DEBUG [2011-04-05 22:32:32,467] - returning '3' as column: ID0_
DEBUG [2011-04-05 22:32:32,467] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:32,467] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:32,467] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:32,467] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 22:32:32,467] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:32:32,468] - done processing result set (1 rows)
DEBUG [2011-04-05 22:32:32,468] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:32:32,468] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:32:32,468] - DataReader was closed after 1 ms
DEBUG [2011-04-05 22:32:32,468] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:32:32,468] - aggressively releasing database connection
DEBUG [2011-04-05 22:32:32,468] - Closing connection
DEBUG [2011-04-05 22:32:32,468] - total objects hydrated: 1
DEBUG [2011-04-05 22:32:32,468] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:32,471] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:32,475] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:32,475] - initializing non-lazy collections
DEBUG [2011-04-05 22:32:32,475] - after autocommit
DEBUG [2011-04-05 22:32:32,475] - transaction completion
DEBUG [2011-04-05 22:32:32,475] - aggressively releasing database connection
DEBUG [2011-04-05 22:32:32,479] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:32,479] - checking second-level cache
DEBUG [2011-04-05 22:32:32,480] - collection not cached
DEBUG [2011-04-05 22:32:32,482] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:32,482] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:32:32,482] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:32:32,483] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 22:32:32,483] - binding '3' to parameter: 0
 INFO [2011-04-05 22:32:32,483] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:32:32,483] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:32:32,483] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:32:32,483] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:32:32,483] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:32:32,483] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:32,485] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:32:32,486] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 22:32:32,487] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:32:32,489] - processing result set
DEBUG [2011-04-05 22:32:32,489] - done processing result set (0 rows)
DEBUG [2011-04-05 22:32:32,489] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:32:32,489] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:32:32,489] - DataReader was closed after 5 ms
DEBUG [2011-04-05 22:32:32,489] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:32:32,489] - aggressively releasing database connection
DEBUG [2011-04-05 22:32:32,489] - Closing connection
DEBUG [2011-04-05 22:32:32,489] - total objects hydrated: 0
DEBUG [2011-04-05 22:32:32,491] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 22:32:32,491] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 22:32:32,491] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@184a5f4]
DEBUG [2011-04-05 22:32:32,492] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:32:32,493] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@184a5f4]
DEBUG [2011-04-05 22:32:32,495] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:32,495] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:32:32,496] - initializing non-lazy collections
DEBUG [2011-04-05 22:32:32,496] - done loading collection
DEBUG [2011-04-05 22:32:32,496] - collection initialized
DEBUG [2011-04-05 22:32:45,758] - [session-id=c8478cb7-c5ad-40a1-9ff8-3c04e8a95334] opened session at timestamp: 634376395657, for session factory: [/1e94c0fff9af48f4824db287bbf12efc]
DEBUG [2011-04-05 22:32:46,153] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:32:46,153] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:32:46,153] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:32:46,153] - named parameters: {}
DEBUG [2011-04-05 22:32:46,153] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:32:46,153] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:32:46,153] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:32:46,153] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:32:46,153] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:32:46,154] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:32:46,154] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:32:46,154] - processing result set
DEBUG [2011-04-05 22:32:46,154] - result set row: 0
DEBUG [2011-04-05 22:32:46,154] - returning '3' as column: ID0_
DEBUG [2011-04-05 22:32:46,154] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:46,154] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:46,154] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:46,154] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 22:32:46,154] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:32:46,154] - done processing result set (1 rows)
DEBUG [2011-04-05 22:32:46,154] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:32:46,154] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:32:46,154] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:32:46,154] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:32:46,154] - aggressively releasing database connection
DEBUG [2011-04-05 22:32:46,154] - Closing connection
DEBUG [2011-04-05 22:32:46,154] - total objects hydrated: 1
DEBUG [2011-04-05 22:32:46,154] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:46,154] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:46,154] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:32:46,154] - initializing non-lazy collections
DEBUG [2011-04-05 22:32:46,154] - after autocommit
DEBUG [2011-04-05 22:32:46,154] - transaction completion
DEBUG [2011-04-05 22:32:46,154] - aggressively releasing database connection
DEBUG [2011-04-05 22:32:46,155] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:46,155] - checking second-level cache
DEBUG [2011-04-05 22:32:46,155] - collection not cached
DEBUG [2011-04-05 22:32:46,155] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:46,155] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:32:46,155] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:32:46,155] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 22:32:46,155] - binding '3' to parameter: 0
 INFO [2011-04-05 22:32:46,155] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:32:46,155] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:32:46,155] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:32:46,155] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:32:46,155] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:32:46,155] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:46,155] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:32:46,155] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 22:32:46,155] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:32:46,155] - processing result set
DEBUG [2011-04-05 22:32:46,155] - done processing result set (0 rows)
DEBUG [2011-04-05 22:32:46,155] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:32:46,155] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:32:46,155] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:32:46,155] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:32:46,155] - aggressively releasing database connection
DEBUG [2011-04-05 22:32:46,155] - Closing connection
DEBUG [2011-04-05 22:32:46,155] - total objects hydrated: 0
DEBUG [2011-04-05 22:32:46,155] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 22:32:46,155] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 22:32:46,155] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@171de64]
DEBUG [2011-04-05 22:32:46,156] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:32:46,156] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@171de64]
DEBUG [2011-04-05 22:32:46,156] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:32:46,156] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:32:46,156] - initializing non-lazy collections
DEBUG [2011-04-05 22:32:46,156] - done loading collection
DEBUG [2011-04-05 22:32:46,156] - collection initialized
 INFO [2011-04-05 22:51:15,312] - Starting up
 INFO [2011-04-05 22:51:16,343] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:51:16,344] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:51:16,344] - Bytecode provider name : lcg
 INFO [2011-04-05 22:51:16,345] - Using reflection optimizer
DEBUG [2011-04-05 22:51:16,619] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:51:16,737] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:51:16,777] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:51:16,805] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:51:16,836] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:51:16,839] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:51:16,846] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:51:16,852] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:51:16,853] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:51:16,853] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:51:16,853] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:51:16,853] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:51:16,854] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:51:16,855] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:51:16,855] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:51:16,855] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:51:16,855] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:51:16,858] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:51:16,860] - Running hbm2ddl schema update
 INFO [2011-04-05 22:51:16,860] - fetching database metadata
 INFO [2011-04-05 22:51:16,861] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:51:16,862] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:51:16,863] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:51:16,872] - updating schema
 INFO [2011-04-05 22:51:16,878] - checking mappings queue
 INFO [2011-04-05 22:51:16,879] - processing one-to-many association mappings
DEBUG [2011-04-05 22:51:16,879] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:51:16,880] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:51:16,884] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:51:16,884] - processing one-to-one association property references
 INFO [2011-04-05 22:51:16,884] - processing foreign key constraints
DEBUG [2011-04-05 22:51:16,886] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:51:16,888] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:51:16,888] - processing filters (second pass)
 INFO [2011-04-05 22:51:16,910] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:51:16,910] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:51:16,910] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:51:16,911] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:51:16,922] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:51:16,922] - columns: id, name
 INFO [2011-04-05 22:51:16,922] - foreign keys: 
 INFO [2011-04-05 22:51:16,922] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:51:16,945] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:51:16,945] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:51:16,945] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:51:16,945] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:51:16,960] - schema update complete
DEBUG [2011-04-05 22:51:16,960] - Closing connection
 INFO [2011-04-05 22:51:16,961] - checking mappings queue
 INFO [2011-04-05 22:51:16,961] - processing one-to-many association mappings
 INFO [2011-04-05 22:51:16,961] - processing one-to-one association property references
 INFO [2011-04-05 22:51:16,961] - processing foreign key constraints
DEBUG [2011-04-05 22:51:16,961] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:51:16,961] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:51:16,961] - processing filters (second pass)
 INFO [2011-04-05 22:51:16,986] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:51:17,009] - Using dialect defined converter
 INFO [2011-04-05 22:51:17,009] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:51:17,009] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:51:17,009] - Configuring ConnectionProvider
 INFO [2011-04-05 22:51:17,010] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:51:17,010] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:51:17,010] - Connection release mode: auto
 INFO [2011-04-05 22:51:17,010] - Default batch fetch size: 1
 INFO [2011-04-05 22:51:17,010] - Statistics: disabled
 INFO [2011-04-05 22:51:17,010] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:51:17,011] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:51:17,012] - Query language substitutions: {}
 INFO [2011-04-05 22:51:17,012] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:51:17,012] - Wrap result sets: disabled
 INFO [2011-04-05 22:51:17,013] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:51:17,013] - Default entity-mode: Poco
 INFO [2011-04-05 22:51:17,013] - Named query checking : enabled
 INFO [2011-04-05 22:51:17,032] - building session factory
DEBUG [2011-04-05 22:51:17,032] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:51:17,033] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:51:17,034] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:51:17,036] - Closing connection
DEBUG [2011-04-05 22:51:17,091] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:51:17,095] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:51:17,107] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:51:17,132] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:51:17,132] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:51:17,132] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:51:17,132] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:51:17,132] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:51:17,133] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:51:17,159] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:51:17,159] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:51:17,159] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:51:17,159] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:51:17,198] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:51:17,198] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:51:17,198] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:51:17,198] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:51:17,198] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:51:17,198] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:51:17,198] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:51:17,230] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:51:17,231] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:51:17,231] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:51:17,231] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:51:17,231] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:51:17,232] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:51:17,232] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:51:17,233] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:51:17,233] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:51:17,233] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:51:17,233] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:51:17,233] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:51:17,233] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:51:17,233] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:51:17,233] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:51:17,233] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:51:17,233] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:51:17,233] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:51:17,233] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:51:17,233] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:51:17,242] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:51:17,243] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:51:17,244] - registered: 90f204ad10794f15a6c758f2448ae127(unnamed)
 INFO [2011-04-05 22:51:17,244] - no name configured
DEBUG [2011-04-05 22:51:17,244] - Instantiated session factory
DEBUG [2011-04-05 22:51:17,248] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:51:17,248] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:51:17,260] - [session-id=1280c1d8-cf51-4ab3-b49e-9c3f7380f5f4] opened session at timestamp: 634376406772, for session factory: [/90f204ad10794f15a6c758f2448ae127]
DEBUG [2011-04-05 22:51:17,920] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:51:18,163] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:51:18,178] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:51:18,192] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:51:18,194] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:51:18,196] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:51:18,216] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:51:18,221] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:51:18,222] - throwQueryException() : no errors
DEBUG [2011-04-05 22:51:18,248] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:51:18,248] - throwQueryException() : no errors
DEBUG [2011-04-05 22:51:18,277] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:51:18,280] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:51:18,281] - named parameters: {}
DEBUG [2011-04-05 22:51:18,303] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:51:18,303] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:51:18,308] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:51:18,310] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:51:18,311] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:51:18,312] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:51:18,312] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:51:18,314] - processing result set
DEBUG [2011-04-05 22:51:18,314] - result set row: 0
DEBUG [2011-04-05 22:51:18,316] - returning '3' as column: ID0_
DEBUG [2011-04-05 22:51:18,318] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:51:18,323] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:51:18,327] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:51:18,328] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 22:51:18,328] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:51:18,330] - done processing result set (1 rows)
DEBUG [2011-04-05 22:51:18,331] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:51:18,331] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:51:18,331] - DataReader was closed after 19 ms
DEBUG [2011-04-05 22:51:18,332] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:51:18,333] - aggressively releasing database connection
DEBUG [2011-04-05 22:51:18,333] - Closing connection
DEBUG [2011-04-05 22:51:18,334] - total objects hydrated: 1
DEBUG [2011-04-05 22:51:18,336] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:51:18,339] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:51:18,345] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:51:18,346] - initializing non-lazy collections
DEBUG [2011-04-05 22:51:18,348] - after autocommit
DEBUG [2011-04-05 22:51:18,349] - transaction completion
DEBUG [2011-04-05 22:51:18,349] - aggressively releasing database connection
DEBUG [2011-04-05 22:51:18,356] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:51:18,356] - checking second-level cache
DEBUG [2011-04-05 22:51:18,357] - collection not cached
DEBUG [2011-04-05 22:51:18,359] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:51:18,360] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:51:18,360] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:51:18,360] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 22:51:18,361] - binding '3' to parameter: 0
 INFO [2011-04-05 22:51:18,361] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:51:18,362] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:51:18,362] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:51:18,362] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:51:18,362] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:51:18,362] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:51:18,364] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:51:18,365] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 22:51:18,366] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:51:18,368] - processing result set
DEBUG [2011-04-05 22:51:18,368] - done processing result set (0 rows)
DEBUG [2011-04-05 22:51:18,368] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:51:18,368] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:51:18,368] - DataReader was closed after 5 ms
DEBUG [2011-04-05 22:51:18,368] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:51:18,368] - aggressively releasing database connection
DEBUG [2011-04-05 22:51:18,368] - Closing connection
DEBUG [2011-04-05 22:51:18,368] - total objects hydrated: 0
DEBUG [2011-04-05 22:51:18,370] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 22:51:18,370] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 22:51:18,371] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@14fc732]
DEBUG [2011-04-05 22:51:18,372] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:51:18,373] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@14fc732]
DEBUG [2011-04-05 22:51:18,374] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:51:18,374] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:51:18,375] - initializing non-lazy collections
DEBUG [2011-04-05 22:51:18,375] - done loading collection
DEBUG [2011-04-05 22:51:18,375] - collection initialized
DEBUG [2011-04-05 22:51:22,985] - [session-id=22907931-02c7-46b7-b88a-00086c78029d] opened session at timestamp: 634376406829, for session factory: [/90f204ad10794f15a6c758f2448ae127]
DEBUG [2011-04-05 22:51:22,986] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:51:22,987] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:51:22,987] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_1) -> chocolatie0_
DEBUG [2011-04-05 22:51:22,988] - Resolved :  <generated>_1 -> chocolatie0_.ID
DEBUG [2011-04-05 22:51:22,988] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:51:22,988] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-05 22:51:22,988] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-05 22:51:22,988] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:51:22,988] - throwQueryException() : no errors
DEBUG [2011-04-05 22:51:22,988] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:51:22,988] - throwQueryException() : no errors
DEBUG [2011-04-05 22:51:22,988] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:51:22,988] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:51:22,988] - named parameters: {}
DEBUG [2011-04-05 22:51:22,989] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:51:22,989] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:51:22,989] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:51:22,989] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:51:22,989] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:51:22,989] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:51:22,989] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:51:22,989] - processing result set
DEBUG [2011-04-05 22:51:22,989] - result set row: 0
DEBUG [2011-04-05 22:51:22,989] - returning '1' as column: ID1_
DEBUG [2011-04-05 22:51:22,989] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:51:22,990] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:51:22,990] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:51:22,990] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 22:51:22,990] - done processing result set (1 rows)
DEBUG [2011-04-05 22:51:22,990] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:51:22,990] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:51:22,990] - DataReader was closed after 1 ms
DEBUG [2011-04-05 22:51:22,990] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:51:22,990] - aggressively releasing database connection
DEBUG [2011-04-05 22:51:22,990] - Closing connection
DEBUG [2011-04-05 22:51:22,990] - total objects hydrated: 1
DEBUG [2011-04-05 22:51:22,990] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:51:22,991] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:51:22,991] - initializing non-lazy collections
DEBUG [2011-04-05 22:51:22,991] - after autocommit
DEBUG [2011-04-05 22:51:22,991] - transaction completion
DEBUG [2011-04-05 22:51:22,991] - aggressively releasing database connection
 INFO [2011-04-05 22:54:39,877] - Starting up
 INFO [2011-04-05 22:54:42,095] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:54:42,096] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:54:42,097] - Bytecode provider name : lcg
 INFO [2011-04-05 22:54:42,098] - Using reflection optimizer
DEBUG [2011-04-05 22:54:42,401] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:54:42,520] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:54:42,576] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:54:42,607] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:54:42,643] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:54:42,646] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:54:42,653] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:54:42,659] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:54:42,660] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:54:42,660] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:54:42,660] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:54:42,660] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:54:42,662] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:54:42,662] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:54:42,662] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:54:42,662] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:54:42,662] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:54:42,666] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:54:42,668] - Running hbm2ddl schema update
 INFO [2011-04-05 22:54:42,668] - fetching database metadata
 INFO [2011-04-05 22:54:42,669] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:54:42,670] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:54:42,671] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:54:42,680] - updating schema
 INFO [2011-04-05 22:54:42,687] - checking mappings queue
 INFO [2011-04-05 22:54:42,688] - processing one-to-many association mappings
DEBUG [2011-04-05 22:54:42,688] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:54:42,689] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:54:42,693] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:54:42,693] - processing one-to-one association property references
 INFO [2011-04-05 22:54:42,693] - processing foreign key constraints
DEBUG [2011-04-05 22:54:42,695] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:54:42,697] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:54:42,697] - processing filters (second pass)
 INFO [2011-04-05 22:54:42,725] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:54:42,726] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:54:42,726] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:54:42,726] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:54:42,738] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:54:42,738] - columns: id, name
 INFO [2011-04-05 22:54:42,738] - foreign keys: 
 INFO [2011-04-05 22:54:42,738] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:54:42,741] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:54:42,741] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:54:42,741] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:54:42,741] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:54:42,757] - schema update complete
DEBUG [2011-04-05 22:54:42,758] - Closing connection
 INFO [2011-04-05 22:54:42,766] - checking mappings queue
 INFO [2011-04-05 22:54:42,766] - processing one-to-many association mappings
 INFO [2011-04-05 22:54:42,766] - processing one-to-one association property references
 INFO [2011-04-05 22:54:42,766] - processing foreign key constraints
DEBUG [2011-04-05 22:54:42,766] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:54:42,766] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:54:42,766] - processing filters (second pass)
 INFO [2011-04-05 22:54:42,792] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:54:42,817] - Using dialect defined converter
 INFO [2011-04-05 22:54:42,817] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:54:42,817] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:54:42,817] - Configuring ConnectionProvider
 INFO [2011-04-05 22:54:42,818] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:54:42,818] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:54:42,818] - Connection release mode: auto
 INFO [2011-04-05 22:54:42,818] - Default batch fetch size: 1
 INFO [2011-04-05 22:54:42,818] - Statistics: disabled
 INFO [2011-04-05 22:54:42,818] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:54:42,819] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:54:42,820] - Query language substitutions: {}
 INFO [2011-04-05 22:54:42,821] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:54:42,821] - Wrap result sets: disabled
 INFO [2011-04-05 22:54:42,821] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:54:42,822] - Default entity-mode: Poco
 INFO [2011-04-05 22:54:42,822] - Named query checking : enabled
 INFO [2011-04-05 22:54:42,842] - building session factory
DEBUG [2011-04-05 22:54:42,842] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:54:42,843] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:54:42,844] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:54:42,846] - Closing connection
DEBUG [2011-04-05 22:54:42,912] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:54:42,916] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:54:42,928] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:54:42,953] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:54:42,953] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:54:42,954] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:54:42,954] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:54:42,954] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:54:42,954] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:54:42,982] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:54:42,983] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:54:42,983] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:54:42,983] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:54:43,022] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:54:43,022] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:54:43,022] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:54:43,022] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:54:43,022] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:54:43,022] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:54:43,022] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:54:43,056] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:54:43,057] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:54:43,057] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:54:43,057] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:54:43,057] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:54:43,058] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:54:43,058] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:54:43,059] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:54:43,059] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:54:43,059] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:54:43,059] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:54:43,059] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:54:43,059] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:54:43,059] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:54:43,059] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:54:43,059] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:54:43,059] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:54:43,059] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:54:43,059] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:54:43,059] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:54:43,060] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:54:43,069] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:54:43,069] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:54:43,070] - registered: ce43ac766771417e8938ae1595985186(unnamed)
 INFO [2011-04-05 22:54:43,070] - no name configured
DEBUG [2011-04-05 22:54:43,070] - Instantiated session factory
DEBUG [2011-04-05 22:54:43,075] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:54:43,075] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:54:43,092] - [session-id=e3d02593-a126-4e89-ae62-267bfe076254] opened session at timestamp: 634376408830, for session factory: [/ce43ac766771417e8938ae1595985186]
DEBUG [2011-04-05 22:54:43,112] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:54:43,491] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:54:43,506] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_0) -> chocolatie0_
DEBUG [2011-04-05 22:54:43,520] - Resolved :  <generated>_0 -> chocolatie0_.ID
DEBUG [2011-04-05 22:54:43,522] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:54:43,524] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-05 22:54:43,544] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-05 22:54:43,549] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:54:43,550] - throwQueryException() : no errors
DEBUG [2011-04-05 22:54:43,576] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:54:43,576] - throwQueryException() : no errors
DEBUG [2011-04-05 22:54:43,605] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:54:43,607] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:54:43,608] - named parameters: {}
DEBUG [2011-04-05 22:54:43,630] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:54:43,630] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:54:43,635] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:54:43,637] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:54:43,638] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:54:43,639] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:54:43,640] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:54:43,641] - processing result set
DEBUG [2011-04-05 22:54:43,641] - result set row: 0
DEBUG [2011-04-05 22:54:43,643] - returning '1' as column: ID1_
DEBUG [2011-04-05 22:54:43,646] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:54:43,651] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:54:43,655] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:54:43,655] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 22:54:43,657] - done processing result set (1 rows)
DEBUG [2011-04-05 22:54:43,658] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:54:43,659] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:54:43,659] - DataReader was closed after 19 ms
DEBUG [2011-04-05 22:54:43,659] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:54:43,660] - aggressively releasing database connection
DEBUG [2011-04-05 22:54:43,660] - Closing connection
DEBUG [2011-04-05 22:54:43,661] - total objects hydrated: 1
DEBUG [2011-04-05 22:54:43,664] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:54:43,667] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:54:43,667] - initializing non-lazy collections
DEBUG [2011-04-05 22:54:43,669] - after autocommit
DEBUG [2011-04-05 22:54:43,670] - transaction completion
DEBUG [2011-04-05 22:54:43,670] - aggressively releasing database connection
 INFO [2011-04-05 22:56:26,311] - Starting up
 INFO [2011-04-05 22:56:27,004] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:56:27,005] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:56:27,006] - Bytecode provider name : lcg
 INFO [2011-04-05 22:56:27,007] - Using reflection optimizer
DEBUG [2011-04-05 22:56:27,307] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:56:27,425] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:56:27,480] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:56:27,511] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:56:27,548] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:56:27,551] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:56:27,558] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:56:27,565] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:56:27,565] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:56:27,566] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:56:27,566] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:56:27,566] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:56:27,567] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:56:27,568] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:56:27,568] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:56:27,568] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:56:27,568] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:56:27,572] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:56:27,575] - Running hbm2ddl schema update
 INFO [2011-04-05 22:56:27,575] - fetching database metadata
 INFO [2011-04-05 22:56:27,576] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:56:27,576] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:56:27,578] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:56:27,588] - updating schema
 INFO [2011-04-05 22:56:27,595] - checking mappings queue
 INFO [2011-04-05 22:56:27,595] - processing one-to-many association mappings
DEBUG [2011-04-05 22:56:27,596] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:56:27,597] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:56:27,602] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:56:27,602] - processing one-to-one association property references
 INFO [2011-04-05 22:56:27,602] - processing foreign key constraints
DEBUG [2011-04-05 22:56:27,604] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:56:27,605] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:56:27,605] - processing filters (second pass)
 INFO [2011-04-05 22:56:27,647] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:56:27,647] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:56:27,647] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:56:27,647] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:56:27,660] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:56:27,660] - columns: id, name
 INFO [2011-04-05 22:56:27,660] - foreign keys: 
 INFO [2011-04-05 22:56:27,660] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:56:27,663] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:56:27,663] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:56:27,663] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:56:27,663] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:56:27,680] - schema update complete
DEBUG [2011-04-05 22:56:27,680] - Closing connection
 INFO [2011-04-05 22:56:27,688] - checking mappings queue
 INFO [2011-04-05 22:56:27,688] - processing one-to-many association mappings
 INFO [2011-04-05 22:56:27,688] - processing one-to-one association property references
 INFO [2011-04-05 22:56:27,688] - processing foreign key constraints
DEBUG [2011-04-05 22:56:27,688] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:56:27,688] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:56:27,688] - processing filters (second pass)
 INFO [2011-04-05 22:56:27,715] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:56:27,741] - Using dialect defined converter
 INFO [2011-04-05 22:56:27,741] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:56:27,741] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:56:27,741] - Configuring ConnectionProvider
 INFO [2011-04-05 22:56:27,742] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:56:27,743] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:56:27,743] - Connection release mode: auto
 INFO [2011-04-05 22:56:27,743] - Default batch fetch size: 1
 INFO [2011-04-05 22:56:27,743] - Statistics: disabled
 INFO [2011-04-05 22:56:27,743] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:56:27,743] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:56:27,745] - Query language substitutions: {}
 INFO [2011-04-05 22:56:27,745] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:56:27,745] - Wrap result sets: disabled
 INFO [2011-04-05 22:56:27,746] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:56:27,746] - Default entity-mode: Poco
 INFO [2011-04-05 22:56:27,746] - Named query checking : enabled
 INFO [2011-04-05 22:56:27,766] - building session factory
DEBUG [2011-04-05 22:56:27,767] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:56:27,767] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:56:27,768] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:56:27,770] - Closing connection
DEBUG [2011-04-05 22:56:27,836] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:56:27,840] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:56:27,851] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:56:27,876] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:56:27,876] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:56:27,877] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:56:27,877] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:56:27,877] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:56:27,877] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:56:27,905] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:56:27,905] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:56:27,905] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:56:27,905] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:56:27,945] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:56:27,945] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:56:27,945] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:56:27,945] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:56:27,945] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:56:27,945] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:56:27,945] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:56:27,979] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:56:27,980] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:56:27,980] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:56:27,980] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:56:27,980] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:56:27,981] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:56:27,981] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:56:27,982] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:56:27,982] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:56:27,982] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:56:27,982] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:56:27,982] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:56:27,982] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:56:27,982] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:56:27,982] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:56:27,982] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:56:27,982] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:56:27,982] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:56:27,982] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:56:27,982] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:56:27,992] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:56:27,993] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:56:27,993] - registered: 09baf7c9fe0e4b7f8e1e1df594b38815(unnamed)
 INFO [2011-04-05 22:56:27,993] - no name configured
DEBUG [2011-04-05 22:56:27,993] - Instantiated session factory
DEBUG [2011-04-05 22:56:27,998] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:56:27,998] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:56:28,015] - [session-id=d1a60416-fc06-4af0-85b7-f03305b4ea0f] opened session at timestamp: 634376409880, for session factory: [/09baf7c9fe0e4b7f8e1e1df594b38815]
DEBUG [2011-04-05 22:56:28,035] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:56:28,383] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:56:28,398] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_0) -> chocolatie0_
DEBUG [2011-04-05 22:56:28,411] - Resolved :  <generated>_0 -> chocolatie0_.ID
DEBUG [2011-04-05 22:56:28,413] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:56:28,415] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-05 22:56:28,435] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-05 22:56:28,440] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:56:28,441] - throwQueryException() : no errors
DEBUG [2011-04-05 22:56:28,468] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:56:28,468] - throwQueryException() : no errors
DEBUG [2011-04-05 22:56:28,496] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:56:28,498] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:56:28,499] - named parameters: {}
DEBUG [2011-04-05 22:56:28,521] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:56:28,521] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:56:28,526] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:56:28,528] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:56:28,529] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:56:28,530] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:56:28,531] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:56:28,532] - processing result set
DEBUG [2011-04-05 22:56:28,532] - result set row: 0
DEBUG [2011-04-05 22:56:28,534] - returning '1' as column: ID1_
DEBUG [2011-04-05 22:56:28,536] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:28,541] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:28,546] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:28,546] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 22:56:28,548] - done processing result set (1 rows)
DEBUG [2011-04-05 22:56:28,549] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:56:28,549] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:56:28,549] - DataReader was closed after 19 ms
DEBUG [2011-04-05 22:56:28,550] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:56:28,551] - aggressively releasing database connection
DEBUG [2011-04-05 22:56:28,551] - Closing connection
DEBUG [2011-04-05 22:56:28,552] - total objects hydrated: 1
DEBUG [2011-04-05 22:56:28,554] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:28,557] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:28,558] - initializing non-lazy collections
DEBUG [2011-04-05 22:56:28,560] - after autocommit
DEBUG [2011-04-05 22:56:28,561] - transaction completion
DEBUG [2011-04-05 22:56:28,561] - aggressively releasing database connection
DEBUG [2011-04-05 22:56:52,285] - [session-id=60d3be5f-d745-4b72-a93d-88449e0bc51d] opened session at timestamp: 634376410122, for session factory: [/09baf7c9fe0e4b7f8e1e1df594b38815]
DEBUG [2011-04-05 22:56:52,285] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:56:52,286] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:56:52,286] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:56:52,286] - named parameters: {}
DEBUG [2011-04-05 22:56:52,286] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:56:52,286] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:56:52,286] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:56:52,286] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:56:52,286] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:56:52,286] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:56:52,286] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:56:52,286] - processing result set
DEBUG [2011-04-05 22:56:52,286] - result set row: 0
DEBUG [2011-04-05 22:56:52,287] - returning '1' as column: ID1_
DEBUG [2011-04-05 22:56:52,287] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:52,287] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:52,287] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:52,287] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 22:56:52,287] - done processing result set (1 rows)
DEBUG [2011-04-05 22:56:52,287] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:56:52,287] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:56:52,287] - DataReader was closed after 1 ms
DEBUG [2011-04-05 22:56:52,287] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:56:52,287] - aggressively releasing database connection
DEBUG [2011-04-05 22:56:52,287] - Closing connection
DEBUG [2011-04-05 22:56:52,287] - total objects hydrated: 1
DEBUG [2011-04-05 22:56:52,287] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:52,288] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:56:52,288] - initializing non-lazy collections
DEBUG [2011-04-05 22:56:52,288] - after autocommit
DEBUG [2011-04-05 22:56:52,288] - transaction completion
DEBUG [2011-04-05 22:56:52,288] - aggressively releasing database connection
DEBUG [2011-04-05 22:56:52,877] - [session-id=60d3be5f-d745-4b72-a93d-88449e0bc51d] executing real Dispose(False)
DEBUG [2011-04-05 22:57:28,239] - [session-id=68b35113-cb29-4d9e-a909-b33f752ebb90] opened session at timestamp: 634376410482, for session factory: [/09baf7c9fe0e4b7f8e1e1df594b38815]
DEBUG [2011-04-05 22:57:28,239] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:57:28,240] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:57:28,240] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:57:28,240] - named parameters: {}
DEBUG [2011-04-05 22:57:28,240] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:57:28,240] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:57:28,240] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:57:28,240] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:57:28,240] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:57:28,240] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:57:28,240] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:57:28,240] - processing result set
DEBUG [2011-04-05 22:57:28,240] - result set row: 0
DEBUG [2011-04-05 22:57:28,240] - returning '1' as column: ID1_
DEBUG [2011-04-05 22:57:28,240] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:28,240] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:28,241] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:28,241] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 22:57:28,241] - done processing result set (1 rows)
DEBUG [2011-04-05 22:57:28,241] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:57:28,241] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:57:28,241] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:57:28,241] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:57:28,241] - aggressively releasing database connection
DEBUG [2011-04-05 22:57:28,241] - Closing connection
DEBUG [2011-04-05 22:57:28,241] - total objects hydrated: 1
DEBUG [2011-04-05 22:57:28,241] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:28,241] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:28,241] - initializing non-lazy collections
DEBUG [2011-04-05 22:57:28,241] - after autocommit
DEBUG [2011-04-05 22:57:28,241] - transaction completion
DEBUG [2011-04-05 22:57:28,241] - aggressively releasing database connection
DEBUG [2011-04-05 22:57:28,808] - [session-id=68b35113-cb29-4d9e-a909-b33f752ebb90] executing real Dispose(False)
DEBUG [2011-04-05 22:57:47,606] - [session-id=9953c300-7287-4705-8566-77238f5e10f4] opened session at timestamp: 634376410676, for session factory: [/09baf7c9fe0e4b7f8e1e1df594b38815]
DEBUG [2011-04-05 22:57:47,606] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:57:47,606] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:57:47,606] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:57:47,606] - named parameters: {}
DEBUG [2011-04-05 22:57:47,606] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:57:47,606] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:57:47,606] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:57:47,606] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:57:47,606] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:57:47,607] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:57:47,607] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:57:47,607] - processing result set
DEBUG [2011-04-05 22:57:47,607] - result set row: 0
DEBUG [2011-04-05 22:57:47,607] - returning '1' as column: ID1_
DEBUG [2011-04-05 22:57:47,608] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:47,608] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:47,608] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:47,608] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 22:57:47,608] - done processing result set (1 rows)
DEBUG [2011-04-05 22:57:47,608] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:57:47,608] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:57:47,608] - DataReader was closed after 1 ms
DEBUG [2011-04-05 22:57:47,608] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:57:47,608] - aggressively releasing database connection
DEBUG [2011-04-05 22:57:47,608] - Closing connection
DEBUG [2011-04-05 22:57:47,608] - total objects hydrated: 1
DEBUG [2011-04-05 22:57:47,608] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:47,608] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:57:47,608] - initializing non-lazy collections
DEBUG [2011-04-05 22:57:47,608] - after autocommit
DEBUG [2011-04-05 22:57:47,608] - transaction completion
DEBUG [2011-04-05 22:57:47,608] - aggressively releasing database connection
DEBUG [2011-04-05 22:57:48,167] - [session-id=9953c300-7287-4705-8566-77238f5e10f4] executing real Dispose(False)
DEBUG [2011-04-05 22:58:03,653] - [session-id=ce085891-3904-4cac-a064-218c213d9972] opened session at timestamp: 634376410836, for session factory: [/09baf7c9fe0e4b7f8e1e1df594b38815]
DEBUG [2011-04-05 22:58:03,653] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:58:03,653] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 22:58:03,653] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 22:58:03,653] - named parameters: {}
DEBUG [2011-04-05 22:58:03,653] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:58:03,653] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 22:58:03,653] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:58:03,653] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 22:58:03,653] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:58:03,654] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:58:03,654] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:58:03,654] - processing result set
DEBUG [2011-04-05 22:58:03,654] - result set row: 0
DEBUG [2011-04-05 22:58:03,654] - returning '1' as column: ID1_
DEBUG [2011-04-05 22:58:03,654] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:58:03,654] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:58:03,654] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:58:03,654] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 22:58:03,654] - done processing result set (1 rows)
DEBUG [2011-04-05 22:58:03,654] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:58:03,654] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:58:03,654] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:58:03,654] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:58:03,654] - aggressively releasing database connection
DEBUG [2011-04-05 22:58:03,654] - Closing connection
DEBUG [2011-04-05 22:58:03,654] - total objects hydrated: 1
DEBUG [2011-04-05 22:58:03,654] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:58:03,655] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 22:58:03,655] - initializing non-lazy collections
DEBUG [2011-04-05 22:58:03,655] - after autocommit
DEBUG [2011-04-05 22:58:03,655] - transaction completion
DEBUG [2011-04-05 22:58:03,655] - aggressively releasing database connection
DEBUG [2011-04-05 22:58:04,097] - [session-id=ce085891-3904-4cac-a064-218c213d9972] executing real Dispose(False)
 INFO [2011-04-05 23:00:22,654] - Starting up
 INFO [2011-04-05 23:00:23,682] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 23:00:23,683] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 23:00:23,683] - Bytecode provider name : lcg
 INFO [2011-04-05 23:00:23,684] - Using reflection optimizer
DEBUG [2011-04-05 23:00:23,959] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 23:00:24,083] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:00:24,124] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 23:00:24,153] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 23:00:24,184] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 23:00:24,187] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 23:00:24,194] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:00:24,201] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 23:00:24,202] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:00:24,202] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 23:00:24,203] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 23:00:24,203] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 23:00:24,204] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 23:00:24,204] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:00:24,204] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 23:00:24,204] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 23:00:24,204] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 23:00:24,207] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:00:24,210] - Running hbm2ddl schema update
 INFO [2011-04-05 23:00:24,210] - fetching database metadata
 INFO [2011-04-05 23:00:24,211] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 23:00:24,211] - Configuring ConnectionProvider
DEBUG [2011-04-05 23:00:24,212] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 23:00:24,221] - updating schema
 INFO [2011-04-05 23:00:24,227] - checking mappings queue
 INFO [2011-04-05 23:00:24,228] - processing one-to-many association mappings
DEBUG [2011-04-05 23:00:24,228] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 23:00:24,229] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 23:00:24,233] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 23:00:24,233] - processing one-to-one association property references
 INFO [2011-04-05 23:00:24,233] - processing foreign key constraints
DEBUG [2011-04-05 23:00:24,235] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:00:24,237] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 23:00:24,237] - processing filters (second pass)
 INFO [2011-04-05 23:00:24,258] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 23:00:24,259] - columns: id, name, chocolatierid
 INFO [2011-04-05 23:00:24,259] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 23:00:24,259] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 23:00:24,270] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 23:00:24,270] - columns: id, name
 INFO [2011-04-05 23:00:24,270] - foreign keys: 
 INFO [2011-04-05 23:00:24,270] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 23:00:24,273] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 23:00:24,273] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 23:00:24,273] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 23:00:24,273] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 23:00:24,288] - schema update complete
DEBUG [2011-04-05 23:00:24,288] - Closing connection
 INFO [2011-04-05 23:00:24,289] - checking mappings queue
 INFO [2011-04-05 23:00:24,289] - processing one-to-many association mappings
 INFO [2011-04-05 23:00:24,289] - processing one-to-one association property references
 INFO [2011-04-05 23:00:24,289] - processing foreign key constraints
DEBUG [2011-04-05 23:00:24,289] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:00:24,289] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 23:00:24,289] - processing filters (second pass)
 INFO [2011-04-05 23:00:24,318] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:00:24,341] - Using dialect defined converter
 INFO [2011-04-05 23:00:24,342] - Generate SQL with comments: disabled
 INFO [2011-04-05 23:00:24,342] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 23:00:24,342] - Configuring ConnectionProvider
 INFO [2011-04-05 23:00:24,342] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 23:00:24,342] - Optimize cache for minimal puts: False
 INFO [2011-04-05 23:00:24,342] - Connection release mode: auto
 INFO [2011-04-05 23:00:24,343] - Default batch fetch size: 1
 INFO [2011-04-05 23:00:24,343] - Statistics: disabled
 INFO [2011-04-05 23:00:24,343] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 23:00:24,343] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 23:00:24,344] - Query language substitutions: {}
 INFO [2011-04-05 23:00:24,345] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 23:00:24,345] - Wrap result sets: disabled
 INFO [2011-04-05 23:00:24,345] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 23:00:24,346] - Default entity-mode: Poco
 INFO [2011-04-05 23:00:24,346] - Named query checking : enabled
 INFO [2011-04-05 23:00:24,364] - building session factory
DEBUG [2011-04-05 23:00:24,364] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 23:00:24,365] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 23:00:24,366] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:24,368] - Closing connection
DEBUG [2011-04-05 23:00:24,424] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:00:24,428] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:00:24,439] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:00:24,465] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:00:24,465] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:00:24,465] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:00:24,466] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 23:00:24,466] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 23:00:24,466] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 23:00:24,492] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:24,492] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 23:00:24,492] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 23:00:24,492] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 23:00:24,531] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:00:24,531] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 23:00:24,531] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 23:00:24,531] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 23:00:24,531] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 23:00:24,531] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 23:00:24,531] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 23:00:24,563] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:00:24,563] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:00:24,563] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:00:24,563] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:00:24,563] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:00:24,565] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:00:24,565] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:00:24,565] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:00:24,565] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 23:00:24,565] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 23:00:24,565] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 23:00:24,565] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 23:00:24,565] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 23:00:24,565] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 23:00:24,565] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:00:24,565] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:00:24,565] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:00:24,565] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:00:24,565] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:00:24,566] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:00:24,566] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:00:24,566] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 23:00:24,566] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 23:00:24,566] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 23:00:24,566] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 23:00:24,566] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 23:00:24,566] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 23:00:24,566] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 23:00:24,566] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 23:00:24,566] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 23:00:24,566] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 23:00:24,566] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 23:00:24,566] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 23:00:24,566] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 23:00:24,566] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 23:00:24,575] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:00:24,576] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 23:00:24,576] - registered: 486c79fd4bcb4e91bd35cfe6c69955a0(unnamed)
 INFO [2011-04-05 23:00:24,576] - no name configured
DEBUG [2011-04-05 23:00:24,576] - Instantiated session factory
DEBUG [2011-04-05 23:00:24,581] - Checking 0 named HQL queries
DEBUG [2011-04-05 23:00:24,581] - Checking 0 named SQL queries
DEBUG [2011-04-05 23:00:24,592] - [session-id=396a228b-f63d-4f0e-8b50-7fe208a45958] opened session at timestamp: 634376412245, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:00:24,607] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:00:24,859] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 23:00:24,874] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_0) -> chocolatie0_
DEBUG [2011-04-05 23:00:24,887] - Resolved :  <generated>_0 -> chocolatie0_.ID
DEBUG [2011-04-05 23:00:24,890] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 23:00:24,891] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-05 23:00:24,911] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-05 23:00:24,916] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 23:00:24,917] - throwQueryException() : no errors
DEBUG [2011-04-05 23:00:24,944] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:00:24,944] - throwQueryException() : no errors
DEBUG [2011-04-05 23:00:24,972] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:00:24,975] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 23:00:24,976] - named parameters: {}
DEBUG [2011-04-05 23:00:24,998] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:24,998] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 23:00:25,003] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:00:25,005] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:00:25,006] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:25,007] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:25,007] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:25,008] - processing result set
DEBUG [2011-04-05 23:00:25,009] - result set row: 0
DEBUG [2011-04-05 23:00:25,011] - returning '1' as column: ID1_
DEBUG [2011-04-05 23:00:25,013] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:25,018] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:25,023] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:25,023] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 23:00:25,025] - done processing result set (1 rows)
DEBUG [2011-04-05 23:00:25,026] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:25,026] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:25,026] - DataReader was closed after 19 ms
DEBUG [2011-04-05 23:00:25,027] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:25,028] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:25,028] - Closing connection
DEBUG [2011-04-05 23:00:25,029] - total objects hydrated: 1
DEBUG [2011-04-05 23:00:25,031] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:25,034] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:25,035] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:25,037] - after autocommit
DEBUG [2011-04-05 23:00:25,038] - transaction completion
DEBUG [2011-04-05 23:00:25,038] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:28,412] - [session-id=06bd4b6e-1e07-4b5e-892a-e2183a44ebde] opened session at timestamp: 634376412284, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:00:28,414] - Begin (Unspecified)
DEBUG [2011-04-05 23:00:28,414] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:28,423] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:28,423] - creating new proxy for entity
DEBUG [2011-04-05 23:00:28,579] - unsaved-value: 0
DEBUG [2011-04-05 23:00:28,579] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:00:28,579] - saving transient instance
DEBUG [2011-04-05 23:00:28,580] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 23:00:28,583] - executing insertions
DEBUG [2011-04-05 23:00:28,590] - executing identity-insert immediately
DEBUG [2011-04-05 23:00:28,592] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-05 23:00:28,594] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:28,594] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 23:00:28,594] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 23:00:28,595] - binding null to parameter: 0
DEBUG [2011-04-05 23:00:28,597] - binding '1' to parameter: 1
DEBUG [2011-04-05 23:00:28,598] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = NULL [Type: String (4000)], @p1 = 1 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:28,598] - Enlist Command
DEBUG [2011-04-05 23:00:28,599] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:28,599] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:28,599] - returning '4' as column: 
DEBUG [2011-04-05 23:00:28,599] - Natively generated identity: 4
DEBUG [2011-04-05 23:00:28,599] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:28,599] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:28,599] - DataReader was closed after 1 ms
DEBUG [2011-04-05 23:00:28,599] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:28,603] - Start Commit
DEBUG [2011-04-05 23:00:28,605] - flushing session
DEBUG [2011-04-05 23:00:28,606] - processing flush-time cascades
DEBUG [2011-04-05 23:00:28,607] - dirty checking collections
DEBUG [2011-04-05 23:00:28,608] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 23:00:28,616] - Processing unreferenced collections
DEBUG [2011-04-05 23:00:28,616] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 23:00:28,617] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 23:00:28,617] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-05 23:00:28,617] - listing entities:
DEBUG [2011-04-05 23:00:28,622] - nhibernate_demo.Models.ChocolateBar{'ID'='4', 'Features'='null', 'Name'=null, 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-05 23:00:28,622] - executing flush
DEBUG [2011-04-05 23:00:28,622] - registering flush begin
DEBUG [2011-04-05 23:00:28,623] - registering flush end
DEBUG [2011-04-05 23:00:28,625] - post flush
DEBUG [2011-04-05 23:00:28,626] - before transaction completion
DEBUG [2011-04-05 23:00:28,627] - IDbTransaction Committed
DEBUG [2011-04-05 23:00:28,627] - transaction completion
DEBUG [2011-04-05 23:00:28,627] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:28,627] - Closing connection
DEBUG [2011-04-05 23:00:28,628] - IDbTransaction disposed.
DEBUG [2011-04-05 23:00:29,634] - [session-id=cea62bc6-0f27-481e-826e-d2e34ab8cc0a] opened session at timestamp: 634376412296, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:00:29,643] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:00:29,644] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 23:00:29,644] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_1) -> chocolateb0_
DEBUG [2011-04-05 23:00:29,644] - Resolved :  <generated>_1 -> chocolateb0_.ID
DEBUG [2011-04-05 23:00:29,644] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 23:00:29,644] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 23:00:29,644] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 23:00:29,644] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 23:00:29,644] - throwQueryException() : no errors
DEBUG [2011-04-05 23:00:29,645] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:00:29,645] - throwQueryException() : no errors
DEBUG [2011-04-05 23:00:29,645] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:00:29,645] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 23:00:29,645] - named parameters: {}
DEBUG [2011-04-05 23:00:29,646] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:29,646] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 23:00:29,646] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:00:29,646] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:00:29,646] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:29,646] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:29,646] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:29,646] - processing result set
DEBUG [2011-04-05 23:00:29,646] - result set row: 0
DEBUG [2011-04-05 23:00:29,646] - returning '3' as column: ID0_
DEBUG [2011-04-05 23:00:29,646] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:29,647] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:29,647] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:29,647] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 23:00:29,647] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 23:00:29,647] - result set row: 1
DEBUG [2011-04-05 23:00:29,648] - returning '4' as column: ID0_
DEBUG [2011-04-05 23:00:29,648] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:29,648] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:29,648] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:29,648] - returning null as column: Name0_
DEBUG [2011-04-05 23:00:29,648] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-05 23:00:29,648] - done processing result set (2 rows)
DEBUG [2011-04-05 23:00:29,648] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:29,648] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:29,648] - DataReader was closed after 2 ms
DEBUG [2011-04-05 23:00:29,648] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:29,648] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:29,648] - Closing connection
DEBUG [2011-04-05 23:00:29,648] - total objects hydrated: 2
DEBUG [2011-04-05 23:00:29,648] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:29,653] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:29,658] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:29,658] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:29,658] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-05 23:00:29,660] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,660] - creating new proxy for entity
DEBUG [2011-04-05 23:00:29,661] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:29,661] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:29,661] - after autocommit
DEBUG [2011-04-05 23:00:29,661] - transaction completion
DEBUG [2011-04-05 23:00:29,661] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:29,668] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:29,668] - checking second-level cache
DEBUG [2011-04-05 23:00:29,669] - collection not cached
DEBUG [2011-04-05 23:00:29,671] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:29,671] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:29,671] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:00:29,671] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 23:00:29,672] - binding '3' to parameter: 0
 INFO [2011-04-05 23:00:29,672] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 23:00:29,672] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:29,672] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:29,672] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:29,672] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:29,672] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:29,674] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 23:00:29,675] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 23:00:29,676] - collection not yet initialized; initializing
DEBUG [2011-04-05 23:00:29,678] - processing result set
DEBUG [2011-04-05 23:00:29,678] - done processing result set (0 rows)
DEBUG [2011-04-05 23:00:29,678] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:29,678] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:29,678] - DataReader was closed after 5 ms
DEBUG [2011-04-05 23:00:29,678] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:29,678] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:29,678] - Closing connection
DEBUG [2011-04-05 23:00:29,678] - total objects hydrated: 0
DEBUG [2011-04-05 23:00:29,680] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 23:00:29,680] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 23:00:29,681] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@29b3b5a]
DEBUG [2011-04-05 23:00:29,681] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:29,683] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@29b3b5a]
DEBUG [2011-04-05 23:00:29,684] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:29,684] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:29,685] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:29,685] - done loading collection
DEBUG [2011-04-05 23:00:29,685] - collection initialized
DEBUG [2011-04-05 23:00:29,686] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-05 23:00:29,686] - checking second-level cache
DEBUG [2011-04-05 23:00:29,686] - collection not cached
DEBUG [2011-04-05 23:00:29,686] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-05 23:00:29,686] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:29,686] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:00:29,686] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-05 23:00:29,687] - binding '4' to parameter: 0
 INFO [2011-04-05 23:00:29,687] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 23:00:29,687] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:29,687] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:29,687] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:29,687] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:29,687] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-05 23:00:29,687] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 23:00:29,687] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-05 23:00:29,687] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-05 23:00:29,687] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] located in load context
DEBUG [2011-04-05 23:00:29,687] - collection not yet initialized; initializing
DEBUG [2011-04-05 23:00:29,687] - processing result set
DEBUG [2011-04-05 23:00:29,687] - done processing result set (0 rows)
DEBUG [2011-04-05 23:00:29,687] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:29,687] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:29,687] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:29,687] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:29,687] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:29,687] - Closing connection
DEBUG [2011-04-05 23:00:29,687] - total objects hydrated: 0
DEBUG [2011-04-05 23:00:29,687] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-05 23:00:29,687] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-05 23:00:29,687] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@930262]
DEBUG [2011-04-05 23:00:29,687] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:29,687] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@930262]
DEBUG [2011-04-05 23:00:29,687] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-05 23:00:29,687] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:29,688] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:29,688] - done loading collection
DEBUG [2011-04-05 23:00:29,688] - collection initialized
DEBUG [2011-04-05 23:00:29,689] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,690] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,691] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,692] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,694] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,694] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:29,694] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:00:29,694] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-05 23:00:29,694] - binding '1' to parameter: 0
 INFO [2011-04-05 23:00:29,694] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-05 23:00:29,694] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:29,694] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:29,724] - ExecuteReader took 29 ms
DEBUG [2011-04-05 23:00:29,724] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:29,724] - processing result set
DEBUG [2011-04-05 23:00:29,724] - result set row: 0
DEBUG [2011-04-05 23:00:29,724] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,724] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,724] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,724] - returning 'Cadbury' as column: Name1_0_
DEBUG [2011-04-05 23:00:29,724] - done processing result set (1 rows)
DEBUG [2011-04-05 23:00:29,724] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:29,724] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:29,724] - DataReader was closed after 29 ms
DEBUG [2011-04-05 23:00:29,724] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:29,724] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:29,724] - Closing connection
DEBUG [2011-04-05 23:00:29,724] - total objects hydrated: 1
DEBUG [2011-04-05 23:00:29,724] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,725] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:29,725] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:29,725] - done entity load
DEBUG [2011-04-05 23:00:34,672] - [session-id=8017e606-b954-4f9e-b1e3-f514e81fc6d4] opened session at timestamp: 634376412346, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:00:34,673] - Begin (Unspecified)
DEBUG [2011-04-05 23:00:34,673] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:34,673] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,673] - creating new proxy for entity
DEBUG [2011-04-05 23:00:34,692] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,692] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,692] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,692] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,692] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,692] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:34,692] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:00:34,692] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-05 23:00:34,692] - binding '4' to parameter: 0
 INFO [2011-04-05 23:00:34,692] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-05 23:00:34,692] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:34,692] - Enlist Command
DEBUG [2011-04-05 23:00:34,693] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:34,693] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:34,693] - processing result set
DEBUG [2011-04-05 23:00:34,693] - result set row: 0
DEBUG [2011-04-05 23:00:34,693] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,693] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,693] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,693] - returning null as column: Name0_0_
DEBUG [2011-04-05 23:00:34,693] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-05 23:00:34,693] - done processing result set (1 rows)
DEBUG [2011-04-05 23:00:34,693] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:34,693] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:34,693] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:34,693] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:34,693] - total objects hydrated: 1
DEBUG [2011-04-05 23:00:34,693] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,693] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-05 23:00:34,694] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:34,694] - creating new proxy for entity
DEBUG [2011-04-05 23:00:34,694] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,694] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:34,694] - done entity load
DEBUG [2011-04-05 23:00:34,694] - deleting a persistent instance
DEBUG [2011-04-05 23:00:34,695] - deleting [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,697] - setting cache mode to: Get
DEBUG [2011-04-05 23:00:34,697] - setting cache mode to: Normal
DEBUG [2011-04-05 23:00:34,698] - setting cache mode to: Get
DEBUG [2011-04-05 23:00:34,698] - setting cache mode to: Normal
DEBUG [2011-04-05 23:00:34,698] - Start Commit
DEBUG [2011-04-05 23:00:34,698] - flushing session
DEBUG [2011-04-05 23:00:34,698] - processing flush-time cascades
DEBUG [2011-04-05 23:00:34,698] - dirty checking collections
DEBUG [2011-04-05 23:00:34,699] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 23:00:34,700] - Processing unreferenced collections
DEBUG [2011-04-05 23:00:34,701] - Collection dereferenced: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-05 23:00:34,702] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 23:00:34,702] - Flushed: 0 insertions, 0 updates, 1 deletions to 1 objects
DEBUG [2011-04-05 23:00:34,702] - Flushed: 0 (re)creations, 0 updates, 1 removals to 1 collections
DEBUG [2011-04-05 23:00:34,703] - listing entities:
DEBUG [2011-04-05 23:00:34,703] - nhibernate_demo.Models.ChocolateBar{'ID'='4', 'Features'='<uninitialized>', 'Name'=null, 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-05 23:00:34,703] - executing flush
DEBUG [2011-04-05 23:00:34,703] - registering flush begin
DEBUG [2011-04-05 23:00:34,706] - Deleting collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-05 23:00:34,707] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:34,707] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 23:00:34,708] - binding '4' to parameter: 0
DEBUG [2011-04-05 23:00:34,708] - UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = @p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:34,708] - Enlist Command
DEBUG [2011-04-05 23:00:34,709] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-05 23:00:34,709] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:34,709] - done deleting collection
DEBUG [2011-04-05 23:00:34,717] - Deleting entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-05 23:00:34,718] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:34,718] - Building an IDbCommand object for the SqlString: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 23:00:34,718] - binding '4' to parameter: 0
DEBUG [2011-04-05 23:00:34,718] - DELETE FROM [ChocolateBar] WHERE ID = @p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:34,718] - Enlist Command
DEBUG [2011-04-05 23:00:34,718] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-05 23:00:34,725] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-05 23:00:34,725] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:34,725] - registering flush end
DEBUG [2011-04-05 23:00:34,725] - post flush
DEBUG [2011-04-05 23:00:34,725] - before transaction completion
DEBUG [2011-04-05 23:00:34,726] - IDbTransaction Committed
DEBUG [2011-04-05 23:00:34,726] - transaction completion
DEBUG [2011-04-05 23:00:34,726] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:34,726] - Closing connection
DEBUG [2011-04-05 23:00:34,726] - IDbTransaction disposed.
DEBUG [2011-04-05 23:00:34,920] - [session-id=f3aaa846-f0b8-43a8-8e7d-f45f817d1a3f] opened session at timestamp: 634376412349, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:00:34,921] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:00:34,921] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:00:34,921] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 23:00:34,921] - named parameters: {}
DEBUG [2011-04-05 23:00:34,921] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:34,921] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 23:00:34,921] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:00:34,921] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:00:34,921] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:34,922] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:34,922] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:34,922] - processing result set
DEBUG [2011-04-05 23:00:34,922] - result set row: 0
DEBUG [2011-04-05 23:00:34,922] - returning '3' as column: ID0_
DEBUG [2011-04-05 23:00:34,922] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:34,922] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:34,922] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:34,922] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 23:00:34,922] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 23:00:34,922] - done processing result set (1 rows)
DEBUG [2011-04-05 23:00:34,922] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:34,922] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:34,922] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:34,922] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:34,922] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:34,922] - Closing connection
DEBUG [2011-04-05 23:00:34,922] - total objects hydrated: 1
DEBUG [2011-04-05 23:00:34,922] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:34,922] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:34,922] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:34,922] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:34,922] - after autocommit
DEBUG [2011-04-05 23:00:34,922] - transaction completion
DEBUG [2011-04-05 23:00:34,922] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:34,923] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:34,923] - checking second-level cache
DEBUG [2011-04-05 23:00:34,923] - collection not cached
DEBUG [2011-04-05 23:00:34,923] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:34,923] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:34,923] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:00:34,923] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 23:00:34,923] - binding '3' to parameter: 0
 INFO [2011-04-05 23:00:34,923] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 23:00:34,923] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:34,923] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:34,923] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:34,923] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:34,923] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:34,923] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 23:00:34,923] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 23:00:34,923] - collection not yet initialized; initializing
DEBUG [2011-04-05 23:00:34,923] - processing result set
DEBUG [2011-04-05 23:00:34,923] - done processing result set (0 rows)
DEBUG [2011-04-05 23:00:34,923] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:34,923] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:34,923] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:34,923] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:34,923] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:34,923] - Closing connection
DEBUG [2011-04-05 23:00:34,923] - total objects hydrated: 0
DEBUG [2011-04-05 23:00:34,923] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 23:00:34,924] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 23:00:34,924] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@ebcda5]
DEBUG [2011-04-05 23:00:34,924] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:34,924] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@ebcda5]
DEBUG [2011-04-05 23:00:34,924] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:34,924] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:34,924] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:34,924] - done loading collection
DEBUG [2011-04-05 23:00:34,924] - collection initialized
DEBUG [2011-04-05 23:00:35,735] - [session-id=8017e606-b954-4f9e-b1e3-f514e81fc6d4] executing real Dispose(False)
DEBUG [2011-04-05 23:00:35,735] - [session-id=f3aaa846-f0b8-43a8-8e7d-f45f817d1a3f] executing real Dispose(False)
DEBUG [2011-04-05 23:00:35,735] - [session-id=06bd4b6e-1e07-4b5e-892a-e2183a44ebde] executing real Dispose(False)
DEBUG [2011-04-05 23:00:37,926] - [session-id=fc30f97a-4db2-4b44-9ae5-2fdc5b405413] opened session at timestamp: 634376412379, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:00:37,926] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:00:37,926] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:00:37,926] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 23:00:37,926] - named parameters: {}
DEBUG [2011-04-05 23:00:37,926] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:37,926] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 23:00:37,926] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:00:37,926] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:00:37,926] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:37,927] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:37,927] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:37,927] - processing result set
DEBUG [2011-04-05 23:00:37,927] - result set row: 0
DEBUG [2011-04-05 23:00:37,927] - returning '1' as column: ID1_
DEBUG [2011-04-05 23:00:37,927] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:37,927] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:37,927] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:37,927] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 23:00:37,927] - done processing result set (1 rows)
DEBUG [2011-04-05 23:00:37,927] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:37,927] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:37,927] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:37,927] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:37,927] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:37,927] - Closing connection
DEBUG [2011-04-05 23:00:37,927] - total objects hydrated: 1
DEBUG [2011-04-05 23:00:37,927] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:37,927] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:37,927] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:37,927] - after autocommit
DEBUG [2011-04-05 23:00:37,927] - transaction completion
DEBUG [2011-04-05 23:00:37,927] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:46,650] - [session-id=7c32f569-09b0-4e27-8c2c-d2a74d2e9343] opened session at timestamp: 634376412466, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:00:46,650] - Begin (Unspecified)
DEBUG [2011-04-05 23:00:46,650] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:46,651] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:46,651] - creating new proxy for entity
DEBUG [2011-04-05 23:00:46,651] - unsaved-value: 0
DEBUG [2011-04-05 23:00:46,651] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:00:46,651] - saving transient instance
DEBUG [2011-04-05 23:00:46,651] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 23:00:46,651] - executing insertions
DEBUG [2011-04-05 23:00:46,651] - executing identity-insert immediately
DEBUG [2011-04-05 23:00:46,651] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-05 23:00:46,651] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:46,651] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 23:00:46,651] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 23:00:46,651] - binding 'Dairy Milk' to parameter: 0
DEBUG [2011-04-05 23:00:46,652] - binding '1' to parameter: 1
DEBUG [2011-04-05 23:00:46,652] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Dairy Milk' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:46,652] - Enlist Command
DEBUG [2011-04-05 23:00:46,652] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:46,652] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:46,652] - returning '5' as column: 
DEBUG [2011-04-05 23:00:46,652] - Natively generated identity: 5
DEBUG [2011-04-05 23:00:46,652] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:46,653] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:46,653] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:46,653] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:46,653] - Start Commit
DEBUG [2011-04-05 23:00:46,653] - flushing session
DEBUG [2011-04-05 23:00:46,653] - processing flush-time cascades
DEBUG [2011-04-05 23:00:46,653] - dirty checking collections
DEBUG [2011-04-05 23:00:46,653] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 23:00:46,653] - Processing unreferenced collections
DEBUG [2011-04-05 23:00:46,653] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 23:00:46,653] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 23:00:46,653] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-05 23:00:46,653] - listing entities:
DEBUG [2011-04-05 23:00:46,653] - nhibernate_demo.Models.ChocolateBar{'ID'='5', 'Features'='null', 'Name'='Dairy Milk', 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-05 23:00:46,653] - executing flush
DEBUG [2011-04-05 23:00:46,653] - registering flush begin
DEBUG [2011-04-05 23:00:46,653] - registering flush end
DEBUG [2011-04-05 23:00:46,653] - post flush
DEBUG [2011-04-05 23:00:46,653] - before transaction completion
DEBUG [2011-04-05 23:00:46,686] - IDbTransaction Committed
DEBUG [2011-04-05 23:00:46,686] - transaction completion
DEBUG [2011-04-05 23:00:46,686] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:46,686] - Closing connection
DEBUG [2011-04-05 23:00:46,686] - IDbTransaction disposed.
DEBUG [2011-04-05 23:00:47,692] - [session-id=8bf8ed10-e447-4f4f-a26b-423a3beb3623] opened session at timestamp: 634376412476, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:00:47,693] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:00:47,693] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:00:47,693] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 23:00:47,693] - named parameters: {}
DEBUG [2011-04-05 23:00:47,693] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:47,693] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 23:00:47,693] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:00:47,693] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:00:47,693] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:47,694] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:47,694] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:47,694] - processing result set
DEBUG [2011-04-05 23:00:47,694] - result set row: 0
DEBUG [2011-04-05 23:00:47,694] - returning '3' as column: ID0_
DEBUG [2011-04-05 23:00:47,694] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:47,694] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:47,694] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:47,694] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 23:00:47,694] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 23:00:47,694] - result set row: 1
DEBUG [2011-04-05 23:00:47,694] - returning '5' as column: ID0_
DEBUG [2011-04-05 23:00:47,694] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:47,694] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:47,694] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:47,694] - returning 'Dairy Milk' as column: Name0_
DEBUG [2011-04-05 23:00:47,694] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-05 23:00:47,694] - done processing result set (2 rows)
DEBUG [2011-04-05 23:00:47,695] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:47,695] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:47,695] - DataReader was closed after 1 ms
DEBUG [2011-04-05 23:00:47,695] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:47,695] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:47,695] - Closing connection
DEBUG [2011-04-05 23:00:47,695] - total objects hydrated: 2
DEBUG [2011-04-05 23:00:47,695] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:47,695] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:47,695] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:00:47,695] - resolving associations for [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:47,695] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:00:47,695] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,695] - creating new proxy for entity
DEBUG [2011-04-05 23:00:47,695] - done materializing entity [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:47,695] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:47,695] - after autocommit
DEBUG [2011-04-05 23:00:47,695] - transaction completion
DEBUG [2011-04-05 23:00:47,695] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:47,695] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:47,695] - checking second-level cache
DEBUG [2011-04-05 23:00:47,695] - collection not cached
DEBUG [2011-04-05 23:00:47,695] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:47,695] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:47,695] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:00:47,695] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 23:00:47,695] - binding '3' to parameter: 0
 INFO [2011-04-05 23:00:47,696] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 23:00:47,696] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:47,696] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:47,696] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:47,696] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:47,696] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:47,696] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 23:00:47,696] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 23:00:47,696] - collection not yet initialized; initializing
DEBUG [2011-04-05 23:00:47,696] - processing result set
DEBUG [2011-04-05 23:00:47,696] - done processing result set (0 rows)
DEBUG [2011-04-05 23:00:47,696] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:47,696] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:47,696] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:47,696] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:47,696] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:47,696] - Closing connection
DEBUG [2011-04-05 23:00:47,696] - total objects hydrated: 0
DEBUG [2011-04-05 23:00:47,696] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 23:00:47,696] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 23:00:47,696] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@3c0f2c9]
DEBUG [2011-04-05 23:00:47,696] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:47,696] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@3c0f2c9]
DEBUG [2011-04-05 23:00:47,697] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:00:47,697] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:47,697] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:47,697] - done loading collection
DEBUG [2011-04-05 23:00:47,697] - collection initialized
DEBUG [2011-04-05 23:00:47,697] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:00:47,697] - checking second-level cache
DEBUG [2011-04-05 23:00:47,697] - collection not cached
DEBUG [2011-04-05 23:00:47,697] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:00:47,697] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:47,697] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:00:47,697] - BindParameters(Positional0:NHibernate.Type.Int32Type) 5 -> [0]
DEBUG [2011-04-05 23:00:47,697] - binding '5' to parameter: 0
 INFO [2011-04-05 23:00:47,697] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 23:00:47,697] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 5 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:47,697] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:47,697] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:47,697] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:47,698] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:00:47,698] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 23:00:47,698] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#5]]
DEBUG [2011-04-05 23:00:47,698] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] in any result-set context
DEBUG [2011-04-05 23:00:47,698] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] located in load context
DEBUG [2011-04-05 23:00:47,698] - collection not yet initialized; initializing
DEBUG [2011-04-05 23:00:47,698] - processing result set
DEBUG [2011-04-05 23:00:47,698] - done processing result set (0 rows)
DEBUG [2011-04-05 23:00:47,698] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:47,698] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:47,698] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:47,698] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:47,698] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:47,698] - Closing connection
DEBUG [2011-04-05 23:00:47,698] - total objects hydrated: 0
DEBUG [2011-04-05 23:00:47,698] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] in any result-set context
DEBUG [2011-04-05 23:00:47,698] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] not located in load context
DEBUG [2011-04-05 23:00:47,698] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#5]>@1ead095]
DEBUG [2011-04-05 23:00:47,698] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:47,698] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#5]>@1ead095]
DEBUG [2011-04-05 23:00:47,698] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:00:47,698] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:00:47,698] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:47,698] - done loading collection
DEBUG [2011-04-05 23:00:47,698] - collection initialized
DEBUG [2011-04-05 23:00:47,698] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,698] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,698] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,698] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,698] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,698] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:47,698] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:00:47,698] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-05 23:00:47,699] - binding '1' to parameter: 0
 INFO [2011-04-05 23:00:47,699] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-05 23:00:47,699] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:47,699] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:47,699] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:47,699] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:47,699] - processing result set
DEBUG [2011-04-05 23:00:47,699] - result set row: 0
DEBUG [2011-04-05 23:00:47,699] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,699] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,699] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,699] - returning 'Cadbury' as column: Name1_0_
DEBUG [2011-04-05 23:00:47,699] - done processing result set (1 rows)
DEBUG [2011-04-05 23:00:47,699] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:47,699] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:47,699] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:47,699] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:47,699] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:47,699] - Closing connection
DEBUG [2011-04-05 23:00:47,699] - total objects hydrated: 1
DEBUG [2011-04-05 23:00:47,699] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,699] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:47,699] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:47,699] - done entity load
DEBUG [2011-04-05 23:00:48,828] - [session-id=fc30f97a-4db2-4b44-9ae5-2fdc5b405413] executing real Dispose(False)
DEBUG [2011-04-05 23:00:48,828] - [session-id=8bf8ed10-e447-4f4f-a26b-423a3beb3623] executing real Dispose(False)
DEBUG [2011-04-05 23:00:48,828] - [session-id=7c32f569-09b0-4e27-8c2c-d2a74d2e9343] executing real Dispose(False)
DEBUG [2011-04-05 23:00:54,904] - [session-id=45aa2462-118a-489a-9584-4394f4aceaec] opened session at timestamp: 634376412549, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:00:54,905] - loading entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,905] - creating new proxy for entity
DEBUG [2011-04-05 23:00:54,905] - after autocommit
DEBUG [2011-04-05 23:00:54,905] - transaction completion
DEBUG [2011-04-05 23:00:54,905] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:54,920] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,920] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,920] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,920] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,920] - loading entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,920] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:00:54,920] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:00:54,920] - BindParameters(Positional0:NHibernate.Type.Int32Type) 5 -> [0]
DEBUG [2011-04-05 23:00:54,920] - binding '5' to parameter: 0
 INFO [2011-04-05 23:00:54,920] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-05 23:00:54,920] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 5 [Type: Int32 (0)]
DEBUG [2011-04-05 23:00:54,920] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:00:54,921] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:00:54,921] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:00:54,921] - processing result set
DEBUG [2011-04-05 23:00:54,921] - result set row: 0
DEBUG [2011-04-05 23:00:54,921] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,921] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,921] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,921] - returning 'Dairy Milk' as column: Name0_0_
DEBUG [2011-04-05 23:00:54,921] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-05 23:00:54,921] - done processing result set (1 rows)
DEBUG [2011-04-05 23:00:54,921] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:00:54,921] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:00:54,921] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:00:54,921] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:00:54,921] - aggressively releasing database connection
DEBUG [2011-04-05 23:00:54,921] - Closing connection
DEBUG [2011-04-05 23:00:54,921] - total objects hydrated: 1
DEBUG [2011-04-05 23:00:54,921] - resolving associations for [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,921] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:00:54,921] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:00:54,921] - creating new proxy for entity
DEBUG [2011-04-05 23:00:54,922] - done materializing entity [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:00:54,922] - initializing non-lazy collections
DEBUG [2011-04-05 23:00:54,922] - done entity load
DEBUG [2011-04-05 23:01:26,034] - [session-id=34d5a289-4e21-4277-9442-d36e17c2653d] opened session at timestamp: 634376412860, for session factory: [/486c79fd4bcb4e91bd35cfe6c69955a0]
DEBUG [2011-04-05 23:01:26,035] - loading entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,035] - creating new proxy for entity
DEBUG [2011-04-05 23:01:26,035] - after autocommit
DEBUG [2011-04-05 23:01:26,035] - transaction completion
DEBUG [2011-04-05 23:01:26,035] - aggressively releasing database connection
DEBUG [2011-04-05 23:01:26,064] - [session-id=45aa2462-118a-489a-9584-4394f4aceaec] executing real Dispose(False)
DEBUG [2011-04-05 23:01:26,436] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,436] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,436] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,436] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,436] - loading entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,436] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:01:26,436] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:01:26,436] - BindParameters(Positional0:NHibernate.Type.Int32Type) 5 -> [0]
DEBUG [2011-04-05 23:01:26,436] - binding '5' to parameter: 0
 INFO [2011-04-05 23:01:26,436] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-05 23:01:26,436] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 5 [Type: Int32 (0)]
DEBUG [2011-04-05 23:01:26,436] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:01:26,437] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:01:26,437] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:01:26,437] - processing result set
DEBUG [2011-04-05 23:01:26,437] - result set row: 0
DEBUG [2011-04-05 23:01:26,437] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,437] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,437] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,437] - returning 'Dairy Milk' as column: Name0_0_
DEBUG [2011-04-05 23:01:26,437] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-05 23:01:26,437] - done processing result set (1 rows)
DEBUG [2011-04-05 23:01:26,437] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:01:26,437] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:01:26,437] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:01:26,437] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:01:26,437] - aggressively releasing database connection
DEBUG [2011-04-05 23:01:26,437] - Closing connection
DEBUG [2011-04-05 23:01:26,437] - total objects hydrated: 1
DEBUG [2011-04-05 23:01:26,437] - resolving associations for [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,437] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:01:26,437] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:01:26,437] - creating new proxy for entity
DEBUG [2011-04-05 23:01:26,438] - done materializing entity [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:01:26,438] - initializing non-lazy collections
DEBUG [2011-04-05 23:01:26,438] - done entity load
 INFO [2011-04-05 23:02:00,712] - Starting up
 INFO [2011-04-05 23:02:01,717] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 23:02:01,718] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 23:02:01,718] - Bytecode provider name : lcg
 INFO [2011-04-05 23:02:01,719] - Using reflection optimizer
DEBUG [2011-04-05 23:02:01,994] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 23:02:02,114] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:02:02,155] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 23:02:02,183] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 23:02:02,214] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 23:02:02,217] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 23:02:02,224] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:02:02,231] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 23:02:02,232] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:02:02,232] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 23:02:02,232] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 23:02:02,232] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 23:02:02,233] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 23:02:02,234] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:02:02,234] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 23:02:02,234] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 23:02:02,234] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 23:02:02,237] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:02:02,239] - Running hbm2ddl schema update
 INFO [2011-04-05 23:02:02,239] - fetching database metadata
 INFO [2011-04-05 23:02:02,240] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 23:02:02,241] - Configuring ConnectionProvider
DEBUG [2011-04-05 23:02:02,242] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 23:02:02,251] - updating schema
 INFO [2011-04-05 23:02:02,257] - checking mappings queue
 INFO [2011-04-05 23:02:02,258] - processing one-to-many association mappings
DEBUG [2011-04-05 23:02:02,258] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 23:02:02,259] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 23:02:02,263] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 23:02:02,263] - processing one-to-one association property references
 INFO [2011-04-05 23:02:02,263] - processing foreign key constraints
DEBUG [2011-04-05 23:02:02,265] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:02:02,266] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 23:02:02,266] - processing filters (second pass)
 INFO [2011-04-05 23:02:02,286] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 23:02:02,287] - columns: id, name, chocolatierid
 INFO [2011-04-05 23:02:02,287] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 23:02:02,287] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 23:02:02,297] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 23:02:02,297] - columns: id, name
 INFO [2011-04-05 23:02:02,297] - foreign keys: 
 INFO [2011-04-05 23:02:02,297] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 23:02:02,313] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 23:02:02,313] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 23:02:02,313] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 23:02:02,313] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 23:02:02,327] - schema update complete
DEBUG [2011-04-05 23:02:02,328] - Closing connection
 INFO [2011-04-05 23:02:02,329] - checking mappings queue
 INFO [2011-04-05 23:02:02,329] - processing one-to-many association mappings
 INFO [2011-04-05 23:02:02,329] - processing one-to-one association property references
 INFO [2011-04-05 23:02:02,329] - processing foreign key constraints
DEBUG [2011-04-05 23:02:02,329] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:02:02,329] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 23:02:02,329] - processing filters (second pass)
 INFO [2011-04-05 23:02:02,353] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 23:02:02,376] - Using dialect defined converter
 INFO [2011-04-05 23:02:02,376] - Generate SQL with comments: disabled
 INFO [2011-04-05 23:02:02,376] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 23:02:02,376] - Configuring ConnectionProvider
 INFO [2011-04-05 23:02:02,377] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 23:02:02,377] - Optimize cache for minimal puts: False
 INFO [2011-04-05 23:02:02,377] - Connection release mode: auto
 INFO [2011-04-05 23:02:02,377] - Default batch fetch size: 1
 INFO [2011-04-05 23:02:02,377] - Statistics: disabled
 INFO [2011-04-05 23:02:02,377] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 23:02:02,377] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 23:02:02,379] - Query language substitutions: {}
 INFO [2011-04-05 23:02:02,379] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 23:02:02,379] - Wrap result sets: disabled
 INFO [2011-04-05 23:02:02,380] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 23:02:02,380] - Default entity-mode: Poco
 INFO [2011-04-05 23:02:02,380] - Named query checking : enabled
 INFO [2011-04-05 23:02:02,398] - building session factory
DEBUG [2011-04-05 23:02:02,399] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 23:02:02,399] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 23:02:02,400] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:02,403] - Closing connection
DEBUG [2011-04-05 23:02:02,461] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:02:02,466] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:02:02,477] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:02:02,502] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:02:02,502] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:02:02,502] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:02:02,503] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 23:02:02,503] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 23:02:02,503] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 23:02:02,529] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:02:02,529] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 23:02:02,529] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 23:02:02,529] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 23:02:02,568] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:02:02,568] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 23:02:02,568] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 23:02:02,568] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 23:02:02,569] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 23:02:02,569] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 23:02:02,569] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 23:02:02,601] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:02:02,602] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:02:02,602] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:02:02,602] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:02:02,602] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:02:02,603] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:02:02,603] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:02:02,604] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 23:02:02,604] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 23:02:02,604] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 23:02:02,604] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 23:02:02,604] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 23:02:02,604] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 23:02:02,604] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 23:02:02,604] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 23:02:02,604] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 23:02:02,604] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 23:02:02,604] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 23:02:02,604] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 23:02:02,604] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 23:02:02,604] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 23:02:02,604] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 23:02:02,605] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 23:02:02,605] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 23:02:02,605] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 23:02:02,605] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 23:02:02,613] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:02:02,614] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 23:02:02,615] - registered: 01de62f2daa145668ddea75438b406de(unnamed)
 INFO [2011-04-05 23:02:02,615] - no name configured
DEBUG [2011-04-05 23:02:02,615] - Instantiated session factory
DEBUG [2011-04-05 23:02:02,619] - Checking 0 named HQL queries
DEBUG [2011-04-05 23:02:02,619] - Checking 0 named SQL queries
DEBUG [2011-04-05 23:02:02,630] - [session-id=0bdcde57-ec8f-4968-be06-df4d0edaf934] opened session at timestamp: 634376413226, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:02,646] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:02:02,875] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 23:02:02,890] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_0) -> chocolatie0_
DEBUG [2011-04-05 23:02:02,904] - Resolved :  <generated>_0 -> chocolatie0_.ID
DEBUG [2011-04-05 23:02:02,906] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 23:02:02,908] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-05 23:02:02,929] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-05 23:02:02,933] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 23:02:02,934] - throwQueryException() : no errors
DEBUG [2011-04-05 23:02:02,960] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:02:02,960] - throwQueryException() : no errors
DEBUG [2011-04-05 23:02:02,989] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:02:02,992] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 23:02:02,993] - named parameters: {}
DEBUG [2011-04-05 23:02:03,015] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:03,015] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 23:02:03,019] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:02:03,022] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:02:03,022] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:03,024] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:03,024] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:03,025] - processing result set
DEBUG [2011-04-05 23:02:03,025] - result set row: 0
DEBUG [2011-04-05 23:02:03,028] - returning '1' as column: ID1_
DEBUG [2011-04-05 23:02:03,030] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:03,035] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:03,039] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:03,040] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 23:02:03,041] - done processing result set (1 rows)
DEBUG [2011-04-05 23:02:03,043] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:03,043] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:03,043] - DataReader was closed after 19 ms
DEBUG [2011-04-05 23:02:03,043] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:03,044] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:03,044] - Closing connection
DEBUG [2011-04-05 23:02:03,045] - total objects hydrated: 1
DEBUG [2011-04-05 23:02:03,048] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:03,051] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:03,051] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:03,054] - after autocommit
DEBUG [2011-04-05 23:02:03,054] - transaction completion
DEBUG [2011-04-05 23:02:03,054] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:03,057] - [session-id=bb9931a8-a3c1-4e37-87a2-2ef1679c94c8] opened session at timestamp: 634376413230, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:03,062] - loading entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,062] - creating new proxy for entity
DEBUG [2011-04-05 23:02:03,216] - after autocommit
DEBUG [2011-04-05 23:02:03,216] - transaction completion
DEBUG [2011-04-05 23:02:03,216] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:03,880] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,881] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,883] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,883] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,885] - loading entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,887] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:03,887] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:02:03,887] - BindParameters(Positional0:NHibernate.Type.Int32Type) 5 -> [0]
DEBUG [2011-04-05 23:02:03,888] - binding '5' to parameter: 0
 INFO [2011-04-05 23:02:03,888] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-05 23:02:03,889] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 5 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:03,889] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:03,889] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:03,889] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:03,890] - processing result set
DEBUG [2011-04-05 23:02:03,890] - result set row: 0
DEBUG [2011-04-05 23:02:03,890] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,890] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,890] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,890] - returning 'Dairy Milk' as column: Name0_0_
DEBUG [2011-04-05 23:02:03,890] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-05 23:02:03,891] - done processing result set (1 rows)
DEBUG [2011-04-05 23:02:03,891] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:03,891] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:03,891] - DataReader was closed after 1 ms
DEBUG [2011-04-05 23:02:03,891] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:03,891] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:03,891] - Closing connection
DEBUG [2011-04-05 23:02:03,891] - total objects hydrated: 1
DEBUG [2011-04-05 23:02:03,891] - resolving associations for [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,894] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:03,899] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:03,899] - creating new proxy for entity
DEBUG [2011-04-05 23:02:03,907] - done materializing entity [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:03,907] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:03,907] - done entity load
DEBUG [2011-04-05 23:02:17,515] - [session-id=6ac686f6-caf5-469f-9d35-0439fde4975c] opened session at timestamp: 634376413375, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:17,876] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:02:17,876] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:02:17,876] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 23:02:17,876] - named parameters: {}
DEBUG [2011-04-05 23:02:17,876] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:17,876] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 23:02:17,876] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:02:17,876] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:02:17,876] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:17,877] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:17,877] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:17,877] - processing result set
DEBUG [2011-04-05 23:02:17,877] - result set row: 0
DEBUG [2011-04-05 23:02:17,877] - returning '1' as column: ID1_
DEBUG [2011-04-05 23:02:17,877] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:17,877] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:17,877] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:17,877] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 23:02:17,877] - done processing result set (1 rows)
DEBUG [2011-04-05 23:02:17,877] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:17,877] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:17,877] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:17,877] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:17,877] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:17,877] - Closing connection
DEBUG [2011-04-05 23:02:17,877] - total objects hydrated: 1
DEBUG [2011-04-05 23:02:17,877] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:17,877] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:17,877] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:17,877] - after autocommit
DEBUG [2011-04-05 23:02:17,877] - transaction completion
DEBUG [2011-04-05 23:02:17,878] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:17,981] - [session-id=6ac686f6-caf5-469f-9d35-0439fde4975c] executing real Dispose(False)
DEBUG [2011-04-05 23:02:26,170] - [session-id=2759cb40-e842-4ac6-a073-3d0ffa347b29] opened session at timestamp: 634376413461, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:26,173] - Begin (Unspecified)
DEBUG [2011-04-05 23:02:26,173] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:26,184] - unsaved-value: 0
DEBUG [2011-04-05 23:02:26,184] - transient instance of: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 23:02:26,184] - saving transient instance
DEBUG [2011-04-05 23:02:26,186] - saving [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-05 23:02:26,190] - executing insertions
DEBUG [2011-04-05 23:02:26,194] - executing identity-insert immediately
DEBUG [2011-04-05 23:02:26,196] - Inserting entity: nhibernate_demo.Models.Chocolatier (native id)
DEBUG [2011-04-05 23:02:26,196] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:26,196] - Building an IDbCommand object for the SqlString: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 23:02:26,197] - Dehydrating entity: [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-05 23:02:26,197] - binding 'Hershey' to parameter: 0
DEBUG [2011-04-05 23:02:26,198] - INSERT INTO [Chocolatier] (Name) VALUES (@p0); select SCOPE_IDENTITY();@p0 = 'Hershey' [Type: String (4000)]
DEBUG [2011-04-05 23:02:26,198] - Enlist Command
DEBUG [2011-04-05 23:02:26,198] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:26,198] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:26,199] - returning '2' as column: 
DEBUG [2011-04-05 23:02:26,199] - Natively generated identity: 2
DEBUG [2011-04-05 23:02:26,199] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:26,199] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:26,199] - DataReader was closed after 1 ms
DEBUG [2011-04-05 23:02:26,199] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:26,202] - Start Commit
DEBUG [2011-04-05 23:02:26,205] - flushing session
DEBUG [2011-04-05 23:02:26,206] - processing flush-time cascades
DEBUG [2011-04-05 23:02:26,207] - dirty checking collections
DEBUG [2011-04-05 23:02:26,208] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 23:02:26,215] - Processing unreferenced collections
DEBUG [2011-04-05 23:02:26,215] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 23:02:26,215] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 23:02:26,215] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-05 23:02:26,216] - listing entities:
DEBUG [2011-04-05 23:02:26,217] - nhibernate_demo.Models.Chocolatier{'ID'='2', 'Name'='Hershey'}
DEBUG [2011-04-05 23:02:26,217] - executing flush
DEBUG [2011-04-05 23:02:26,217] - registering flush begin
DEBUG [2011-04-05 23:02:26,218] - registering flush end
DEBUG [2011-04-05 23:02:26,220] - post flush
DEBUG [2011-04-05 23:02:26,221] - before transaction completion
DEBUG [2011-04-05 23:02:26,230] - IDbTransaction Committed
DEBUG [2011-04-05 23:02:26,230] - transaction completion
DEBUG [2011-04-05 23:02:26,230] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:26,230] - Closing connection
DEBUG [2011-04-05 23:02:26,230] - IDbTransaction disposed.
DEBUG [2011-04-05 23:02:27,235] - [session-id=1a0fc6ef-af45-4c27-982d-56ae800625a4] opened session at timestamp: 634376413472, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:27,236] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:02:27,236] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:02:27,236] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 23:02:27,236] - named parameters: {}
DEBUG [2011-04-05 23:02:27,236] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:27,236] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 23:02:27,236] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:02:27,236] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:02:27,236] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:27,237] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:27,237] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:27,237] - processing result set
DEBUG [2011-04-05 23:02:27,237] - result set row: 0
DEBUG [2011-04-05 23:02:27,237] - returning '1' as column: ID1_
DEBUG [2011-04-05 23:02:27,237] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:27,237] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:27,237] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:27,237] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 23:02:27,237] - result set row: 1
DEBUG [2011-04-05 23:02:27,237] - returning '2' as column: ID1_
DEBUG [2011-04-05 23:02:27,237] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:27,237] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:27,237] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:27,237] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-05 23:02:27,237] - done processing result set (2 rows)
DEBUG [2011-04-05 23:02:27,237] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:27,237] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:27,237] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:27,237] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:27,237] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:27,237] - Closing connection
DEBUG [2011-04-05 23:02:27,237] - total objects hydrated: 2
DEBUG [2011-04-05 23:02:27,237] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:27,237] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:27,237] - resolving associations for [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:27,237] - done materializing entity [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:27,238] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:27,238] - after autocommit
DEBUG [2011-04-05 23:02:27,238] - transaction completion
DEBUG [2011-04-05 23:02:27,238] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:33,466] - [session-id=ddf5c455-4159-441a-b531-221f9ca29aa7] opened session at timestamp: 634376413534, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:33,473] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:02:33,475] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 23:02:33,475] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_1) -> chocolateb0_
DEBUG [2011-04-05 23:02:33,475] - Resolved :  <generated>_1 -> chocolateb0_.ID
DEBUG [2011-04-05 23:02:33,475] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 23:02:33,475] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 23:02:33,475] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 23:02:33,475] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 23:02:33,475] - throwQueryException() : no errors
DEBUG [2011-04-05 23:02:33,475] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:02:33,475] - throwQueryException() : no errors
DEBUG [2011-04-05 23:02:33,476] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:02:33,476] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 23:02:33,476] - named parameters: {}
DEBUG [2011-04-05 23:02:33,476] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:33,476] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 23:02:33,476] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:02:33,476] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:02:33,476] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:33,477] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:33,477] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:33,477] - processing result set
DEBUG [2011-04-05 23:02:33,477] - result set row: 0
DEBUG [2011-04-05 23:02:33,477] - returning '3' as column: ID0_
DEBUG [2011-04-05 23:02:33,477] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:33,477] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:33,477] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:33,477] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 23:02:33,477] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 23:02:33,477] - result set row: 1
DEBUG [2011-04-05 23:02:33,477] - returning '5' as column: ID0_
DEBUG [2011-04-05 23:02:33,477] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:33,477] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:33,477] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:33,477] - returning 'Dairy Milk' as column: Name0_
DEBUG [2011-04-05 23:02:33,477] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-05 23:02:33,477] - done processing result set (2 rows)
DEBUG [2011-04-05 23:02:33,477] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:33,477] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:33,477] - DataReader was closed after 1 ms
DEBUG [2011-04-05 23:02:33,477] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:33,477] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:33,477] - Closing connection
DEBUG [2011-04-05 23:02:33,478] - total objects hydrated: 2
DEBUG [2011-04-05 23:02:33,478] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:33,478] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:33,478] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:33,478] - resolving associations for [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:33,478] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:33,478] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,478] - creating new proxy for entity
DEBUG [2011-04-05 23:02:33,478] - done materializing entity [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:33,478] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:33,478] - after autocommit
DEBUG [2011-04-05 23:02:33,478] - transaction completion
DEBUG [2011-04-05 23:02:33,478] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:33,484] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:33,484] - checking second-level cache
DEBUG [2011-04-05 23:02:33,486] - collection not cached
DEBUG [2011-04-05 23:02:33,489] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:33,489] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:33,489] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:02:33,489] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 23:02:33,489] - binding '3' to parameter: 0
 INFO [2011-04-05 23:02:33,489] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 23:02:33,489] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:33,489] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:33,489] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:33,489] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:33,490] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:33,492] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 23:02:33,494] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 23:02:33,495] - collection not yet initialized; initializing
DEBUG [2011-04-05 23:02:33,498] - processing result set
DEBUG [2011-04-05 23:02:33,498] - done processing result set (0 rows)
DEBUG [2011-04-05 23:02:33,498] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:33,498] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:33,498] - DataReader was closed after 8 ms
DEBUG [2011-04-05 23:02:33,498] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:33,498] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:33,498] - Closing connection
DEBUG [2011-04-05 23:02:33,498] - total objects hydrated: 0
DEBUG [2011-04-05 23:02:33,502] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 23:02:33,502] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 23:02:33,502] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@a60911]
DEBUG [2011-04-05 23:02:33,504] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:02:33,505] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@a60911]
DEBUG [2011-04-05 23:02:33,508] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:33,508] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:02:33,509] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:33,509] - done loading collection
DEBUG [2011-04-05 23:02:33,509] - collection initialized
DEBUG [2011-04-05 23:02:33,510] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:33,510] - checking second-level cache
DEBUG [2011-04-05 23:02:33,510] - collection not cached
DEBUG [2011-04-05 23:02:33,510] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:33,510] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:33,510] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:02:33,510] - BindParameters(Positional0:NHibernate.Type.Int32Type) 5 -> [0]
DEBUG [2011-04-05 23:02:33,510] - binding '5' to parameter: 0
 INFO [2011-04-05 23:02:33,510] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 23:02:33,510] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 5 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:33,510] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:33,511] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:33,511] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:33,511] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:33,511] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 23:02:33,511] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#5]]
DEBUG [2011-04-05 23:02:33,511] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] in any result-set context
DEBUG [2011-04-05 23:02:33,511] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] located in load context
DEBUG [2011-04-05 23:02:33,511] - collection not yet initialized; initializing
DEBUG [2011-04-05 23:02:33,511] - processing result set
DEBUG [2011-04-05 23:02:33,511] - done processing result set (0 rows)
DEBUG [2011-04-05 23:02:33,511] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:33,511] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:33,511] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:33,511] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:33,511] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:33,511] - Closing connection
DEBUG [2011-04-05 23:02:33,511] - total objects hydrated: 0
DEBUG [2011-04-05 23:02:33,511] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] in any result-set context
DEBUG [2011-04-05 23:02:33,511] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] not located in load context
DEBUG [2011-04-05 23:02:33,511] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#5]>@3dcc7e8]
DEBUG [2011-04-05 23:02:33,511] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:02:33,511] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#5]>@3dcc7e8]
DEBUG [2011-04-05 23:02:33,511] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:33,511] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:02:33,511] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:33,511] - done loading collection
DEBUG [2011-04-05 23:02:33,511] - collection initialized
DEBUG [2011-04-05 23:02:33,512] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,512] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,512] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,512] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,512] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,512] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:33,512] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:33,512] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-05 23:02:33,512] - binding '1' to parameter: 0
 INFO [2011-04-05 23:02:33,512] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-05 23:02:33,512] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:33,512] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:33,512] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:33,513] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:33,513] - processing result set
DEBUG [2011-04-05 23:02:33,513] - result set row: 0
DEBUG [2011-04-05 23:02:33,513] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,513] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,513] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,513] - returning 'Cadbury' as column: Name1_0_
DEBUG [2011-04-05 23:02:33,513] - done processing result set (1 rows)
DEBUG [2011-04-05 23:02:33,513] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:33,513] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:33,513] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:33,513] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:33,513] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:33,513] - Closing connection
DEBUG [2011-04-05 23:02:33,513] - total objects hydrated: 1
DEBUG [2011-04-05 23:02:33,513] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,513] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:33,513] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:33,513] - done entity load
DEBUG [2011-04-05 23:02:33,546] - [session-id=1a0fc6ef-af45-4c27-982d-56ae800625a4] executing real Dispose(False)
DEBUG [2011-04-05 23:02:33,546] - [session-id=2759cb40-e842-4ac6-a073-3d0ffa347b29] executing real Dispose(False)
DEBUG [2011-04-05 23:02:35,679] - [session-id=3886f811-d49b-4035-bfd9-5d69b96ab2cf] opened session at timestamp: 634376413556, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:35,679] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:02:35,679] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-05 23:02:35,679] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-05 23:02:35,679] - named parameters: {}
DEBUG [2011-04-05 23:02:35,679] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:35,679] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-05 23:02:35,679] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:02:35,679] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-05 23:02:35,679] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:35,680] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:35,680] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:35,680] - processing result set
DEBUG [2011-04-05 23:02:35,680] - result set row: 0
DEBUG [2011-04-05 23:02:35,680] - returning '1' as column: ID1_
DEBUG [2011-04-05 23:02:35,680] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:35,680] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:35,680] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:35,680] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-05 23:02:35,680] - result set row: 1
DEBUG [2011-04-05 23:02:35,680] - returning '2' as column: ID1_
DEBUG [2011-04-05 23:02:35,680] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:35,680] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:35,680] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:35,680] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-05 23:02:35,680] - done processing result set (2 rows)
DEBUG [2011-04-05 23:02:35,680] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:35,680] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:35,680] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:35,680] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:35,680] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:35,680] - Closing connection
DEBUG [2011-04-05 23:02:35,680] - total objects hydrated: 2
DEBUG [2011-04-05 23:02:35,681] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:35,681] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:35,681] - resolving associations for [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:35,681] - done materializing entity [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:35,681] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:35,681] - after autocommit
DEBUG [2011-04-05 23:02:35,681] - transaction completion
DEBUG [2011-04-05 23:02:35,681] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:35,681] - [session-id=2b1c0939-244b-42e3-9c88-2d7c082d3069] opened session at timestamp: 634376413556, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:35,681] - loading entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,681] - creating new proxy for entity
DEBUG [2011-04-05 23:02:35,681] - after autocommit
DEBUG [2011-04-05 23:02:35,681] - transaction completion
DEBUG [2011-04-05 23:02:35,681] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:35,683] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,683] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,683] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,683] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,683] - loading entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,683] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:35,683] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 23:02:35,683] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 23:02:35,683] - binding '3' to parameter: 0
 INFO [2011-04-05 23:02:35,683] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-05 23:02:35,683] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:35,683] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:35,684] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:35,684] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:35,684] - processing result set
DEBUG [2011-04-05 23:02:35,684] - result set row: 0
DEBUG [2011-04-05 23:02:35,684] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,684] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,684] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,684] - returning 'Mr. Big1' as column: Name0_0_
DEBUG [2011-04-05 23:02:35,684] - returning null as column: Chocolat3_0_0_
DEBUG [2011-04-05 23:02:35,684] - done processing result set (1 rows)
DEBUG [2011-04-05 23:02:35,684] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:35,684] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:35,684] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:35,684] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:35,684] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:35,684] - Closing connection
DEBUG [2011-04-05 23:02:35,684] - total objects hydrated: 1
DEBUG [2011-04-05 23:02:35,684] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,684] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:35,684] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:35,684] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:35,684] - done entity load
DEBUG [2011-04-05 23:02:39,933] - [session-id=6cf5255b-3050-4830-ad32-dc1c22899bbe] opened session at timestamp: 634376413599, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:39,934] - Begin (Unspecified)
DEBUG [2011-04-05 23:02:39,934] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:39,934] - loading entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:39,934] - creating new proxy for entity
DEBUG [2011-04-05 23:02:39,935] - unsaved-value: 0
DEBUG [2011-04-05 23:02:39,935] - detached instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 23:02:39,935] - updating detached instance
DEBUG [2011-04-05 23:02:39,937] - updating [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:39,939] - collection dereferenced while transient [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:39,942] - updating [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:39,942] - Start Commit
DEBUG [2011-04-05 23:02:39,942] - flushing session
DEBUG [2011-04-05 23:02:39,942] - processing flush-time cascades
DEBUG [2011-04-05 23:02:39,942] - dirty checking collections
DEBUG [2011-04-05 23:02:39,942] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 23:02:39,947] - Updating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:39,948] - Processing unreferenced collections
DEBUG [2011-04-05 23:02:39,949] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 23:02:39,949] - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 23:02:39,949] - Flushed: 0 (re)creations, 0 updates, 1 removals to 0 collections
DEBUG [2011-04-05 23:02:39,949] - listing entities:
DEBUG [2011-04-05 23:02:39,954] - nhibernate_demo.Models.ChocolateBar{'ID'='3', 'Features'='null', 'Name'='Mr. Big1', 'Chocolatier'='nhibernate_demo.Models.Chocolatier#2'}
DEBUG [2011-04-05 23:02:39,954] - executing flush
DEBUG [2011-04-05 23:02:39,954] - registering flush begin
DEBUG [2011-04-05 23:02:39,964] - Updating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:39,964] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:39,964] - Building an IDbCommand object for the SqlString: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 23:02:39,964] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:39,964] - binding 'Mr. Big1' to parameter: 0
DEBUG [2011-04-05 23:02:39,966] - binding '2' to parameter: 1
DEBUG [2011-04-05 23:02:39,966] - binding '3' to parameter: 2
DEBUG [2011-04-05 23:02:39,967] - UPDATE [ChocolateBar] SET Name = @p0, ChocolatierID = @p1 WHERE ID = @p2;@p0 = 'Mr. Big1' [Type: String (4000)], @p1 = 2 [Type: Int32 (0)], @p2 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:39,967] - Enlist Command
DEBUG [2011-04-05 23:02:39,967] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-05 23:02:39,969] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-05 23:02:39,969] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:39,972] - Deleting collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:39,972] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:39,972] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 23:02:39,972] - binding '3' to parameter: 0
DEBUG [2011-04-05 23:02:39,972] - UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = @p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:39,972] - Enlist Command
DEBUG [2011-04-05 23:02:39,972] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-05 23:02:39,972] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:39,972] - done deleting collection
DEBUG [2011-04-05 23:02:39,973] - registering flush end
DEBUG [2011-04-05 23:02:39,973] - post flush
DEBUG [2011-04-05 23:02:39,973] - before transaction completion
DEBUG [2011-04-05 23:02:39,994] - IDbTransaction Committed
DEBUG [2011-04-05 23:02:39,994] - transaction completion
DEBUG [2011-04-05 23:02:39,994] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:39,994] - Closing connection
DEBUG [2011-04-05 23:02:39,995] - IDbTransaction disposed.
DEBUG [2011-04-05 23:02:40,997] - [session-id=0b3ddc0f-75e2-4d74-9d95-7d3b193bb73e] opened session at timestamp: 634376413609, for session factory: [/01de62f2daa145668ddea75438b406de]
DEBUG [2011-04-05 23:02:40,998] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:02:40,998] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 23:02:40,998] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 23:02:40,998] - named parameters: {}
DEBUG [2011-04-05 23:02:40,998] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:40,998] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 23:02:40,998] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:02:40,998] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 23:02:40,998] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:40,999] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:40,999] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:40,999] - processing result set
DEBUG [2011-04-05 23:02:40,999] - result set row: 0
DEBUG [2011-04-05 23:02:40,999] - returning '3' as column: ID0_
DEBUG [2011-04-05 23:02:40,999] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:40,999] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:40,999] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:40,999] - returning 'Mr. Big1' as column: Name0_
DEBUG [2011-04-05 23:02:40,999] - returning '2' as column: Chocolat3_0_
DEBUG [2011-04-05 23:02:40,999] - result set row: 1
DEBUG [2011-04-05 23:02:40,999] - returning '5' as column: ID0_
DEBUG [2011-04-05 23:02:40,999] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:40,999] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:40,999] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:40,999] - returning 'Dairy Milk' as column: Name0_
DEBUG [2011-04-05 23:02:40,999] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-05 23:02:40,999] - done processing result set (2 rows)
DEBUG [2011-04-05 23:02:40,999] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:40,999] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:40,999] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:40,999] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:41,000] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:41,000] - Closing connection
DEBUG [2011-04-05 23:02:41,000] - total objects hydrated: 2
DEBUG [2011-04-05 23:02:41,000] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:41,000] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:41,000] - loading entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,000] - creating new proxy for entity
DEBUG [2011-04-05 23:02:41,000] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 23:02:41,000] - resolving associations for [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:41,000] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:41,000] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,000] - creating new proxy for entity
DEBUG [2011-04-05 23:02:41,000] - done materializing entity [nhibernate_demo.Models.ChocolateBar#5]
DEBUG [2011-04-05 23:02:41,000] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:41,000] - after autocommit
DEBUG [2011-04-05 23:02:41,000] - transaction completion
DEBUG [2011-04-05 23:02:41,000] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:41,000] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:41,000] - checking second-level cache
DEBUG [2011-04-05 23:02:41,000] - collection not cached
DEBUG [2011-04-05 23:02:41,000] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:41,000] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:41,000] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:02:41,000] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 23:02:41,000] - binding '3' to parameter: 0
 INFO [2011-04-05 23:02:41,000] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 23:02:41,000] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:41,001] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:41,001] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:41,001] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:41,001] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:41,001] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 23:02:41,001] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 23:02:41,001] - collection not yet initialized; initializing
DEBUG [2011-04-05 23:02:41,001] - processing result set
DEBUG [2011-04-05 23:02:41,001] - done processing result set (0 rows)
DEBUG [2011-04-05 23:02:41,001] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:41,001] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:41,001] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:41,001] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:41,001] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:41,001] - Closing connection
DEBUG [2011-04-05 23:02:41,001] - total objects hydrated: 0
DEBUG [2011-04-05 23:02:41,001] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 23:02:41,001] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 23:02:41,001] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@4cea91]
DEBUG [2011-04-05 23:02:41,001] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:02:41,001] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@4cea91]
DEBUG [2011-04-05 23:02:41,001] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 23:02:41,001] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:02:41,001] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:41,001] - done loading collection
DEBUG [2011-04-05 23:02:41,001] - collection initialized
DEBUG [2011-04-05 23:02:41,001] - initializing proxy: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,001] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,001] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,002] - Fetching entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,002] - loading entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,002] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:41,002] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:41,002] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-05 23:02:41,002] - binding '2' to parameter: 0
 INFO [2011-04-05 23:02:41,002] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-05 23:02:41,002] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:41,002] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:41,002] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:41,002] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:41,002] - processing result set
DEBUG [2011-04-05 23:02:41,002] - result set row: 0
DEBUG [2011-04-05 23:02:41,002] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,002] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,002] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,002] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-05 23:02:41,002] - done processing result set (1 rows)
DEBUG [2011-04-05 23:02:41,002] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:41,002] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:41,002] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:41,002] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:41,002] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:41,002] - Closing connection
DEBUG [2011-04-05 23:02:41,002] - total objects hydrated: 1
DEBUG [2011-04-05 23:02:41,002] - resolving associations for [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,003] - done materializing entity [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-05 23:02:41,003] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:41,003] - done entity load
DEBUG [2011-04-05 23:02:41,003] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:41,003] - checking second-level cache
DEBUG [2011-04-05 23:02:41,003] - collection not cached
DEBUG [2011-04-05 23:02:41,003] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:41,003] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:41,003] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 23:02:41,003] - BindParameters(Positional0:NHibernate.Type.Int32Type) 5 -> [0]
DEBUG [2011-04-05 23:02:41,003] - binding '5' to parameter: 0
 INFO [2011-04-05 23:02:41,003] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 23:02:41,003] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 5 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:41,003] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:41,003] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:41,003] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:41,003] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:41,003] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 23:02:41,003] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#5]]
DEBUG [2011-04-05 23:02:41,003] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] in any result-set context
DEBUG [2011-04-05 23:02:41,004] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] located in load context
DEBUG [2011-04-05 23:02:41,004] - collection not yet initialized; initializing
DEBUG [2011-04-05 23:02:41,004] - processing result set
DEBUG [2011-04-05 23:02:41,004] - done processing result set (0 rows)
DEBUG [2011-04-05 23:02:41,004] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:41,004] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:41,004] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:41,004] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:41,004] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:41,004] - Closing connection
DEBUG [2011-04-05 23:02:41,004] - total objects hydrated: 0
DEBUG [2011-04-05 23:02:41,004] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] in any result-set context
DEBUG [2011-04-05 23:02:41,004] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#5]] not located in load context
DEBUG [2011-04-05 23:02:41,004] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#5]>@e5a608]
DEBUG [2011-04-05 23:02:41,004] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:02:41,004] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#5]>@e5a608]
DEBUG [2011-04-05 23:02:41,004] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#5]
DEBUG [2011-04-05 23:02:41,004] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 23:02:41,004] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:41,004] - done loading collection
DEBUG [2011-04-05 23:02:41,004] - collection initialized
DEBUG [2011-04-05 23:02:41,004] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,004] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,004] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,004] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,004] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,004] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 23:02:41,004] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 23:02:41,004] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-05 23:02:41,004] - binding '1' to parameter: 0
 INFO [2011-04-05 23:02:41,004] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-05 23:02:41,004] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-05 23:02:41,004] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 23:02:41,005] - ExecuteReader took 0 ms
DEBUG [2011-04-05 23:02:41,005] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 23:02:41,005] - processing result set
DEBUG [2011-04-05 23:02:41,005] - result set row: 0
DEBUG [2011-04-05 23:02:41,005] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,005] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,005] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,005] - returning 'Cadbury' as column: Name1_0_
DEBUG [2011-04-05 23:02:41,005] - done processing result set (1 rows)
DEBUG [2011-04-05 23:02:41,005] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 23:02:41,005] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 23:02:41,005] - DataReader was closed after 0 ms
DEBUG [2011-04-05 23:02:41,005] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 23:02:41,005] - aggressively releasing database connection
DEBUG [2011-04-05 23:02:41,005] - Closing connection
DEBUG [2011-04-05 23:02:41,005] - total objects hydrated: 1
DEBUG [2011-04-05 23:02:41,005] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,005] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-05 23:02:41,005] - initializing non-lazy collections
DEBUG [2011-04-05 23:02:41,005] - done entity load
DEBUG [2011-04-05 23:02:42,045] - [session-id=3886f811-d49b-4035-bfd9-5d69b96ab2cf] executing real Dispose(False)
DEBUG [2011-04-05 23:02:42,045] - [session-id=0b3ddc0f-75e2-4d74-9d95-7d3b193bb73e] executing real Dispose(False)
DEBUG [2011-04-05 23:02:42,045] - [session-id=2b1c0939-244b-42e3-9c88-2d7c082d3069] executing real Dispose(False)
DEBUG [2011-04-05 23:02:42,045] - [session-id=6cf5255b-3050-4830-ad32-dc1c22899bbe] executing real Dispose(False)
 INFO [2011-04-06 08:06:08,480] - Starting up
 INFO [2011-04-06 08:06:54,245] - Starting up
 INFO [2011-04-06 08:07:58,643] - Starting up
 INFO [2011-04-06 08:14:13,682] - Starting up
 INFO [2011-04-06 08:16:07,161] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 08:16:07,162] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 08:16:07,163] - Bytecode provider name : lcg
 INFO [2011-04-06 08:16:07,165] - Using reflection optimizer
DEBUG [2011-04-06 08:16:07,589] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 08:16:07,753] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:16:07,873] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 08:16:07,920] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:16:07,986] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 08:16:07,991] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:16:08,007] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:16:08,016] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:16:08,017] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:16:08,018] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 08:16:08,018] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:16:08,018] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:16:08,020] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:16:08,020] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:16:08,021] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 08:16:08,021] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:16:08,021] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 08:17:16,266] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:17:16,321] - Running hbm2ddl schema update
 INFO [2011-04-06 08:17:16,322] - fetching database metadata
 INFO [2011-04-06 08:17:16,323] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:17:16,325] - Configuring ConnectionProvider
DEBUG [2011-04-06 08:17:16,327] - Obtaining IDbConnection from Driver
ERROR [2011-04-06 08:17:34,282] - could not get database metadata
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at NHibernate.Connection.DriverConnectionProvider.GetConnection()
   at NHibernate.Tool.hbm2ddl.ManagedProviderConnectionHelper.Prepare()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
ERROR [2011-04-06 08:17:34,308] - could not complete schema update
System.Data.SqlClient.SqlException (0x80131904): A network-related or instance-specific error occurred while establishing a connection to SQL Server. The server was not found or was not accessible. Verify that the instance name is correct and that SQL Server is configured to allow remote connections. (provider: Named Pipes Provider, error: 40 - Could not open a connection to SQL Server)
   at System.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection)
   at System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning()
   at System.Data.SqlClient.TdsParser.Connect(ServerInfo serverInfo, SqlInternalConnectionTds connHandler, Boolean ignoreSniOpenTimeout, Int64 timerExpire, Boolean encrypt, Boolean trustServerCert, Boolean integratedSecurity)
   at System.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, SqlConnection owningObject)
   at System.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, Boolean redirectedUserInstance, SqlConnection owningObject, SqlConnectionString connectionOptions, TimeoutTimer timeout)
   at System.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(SqlConnection owningObject, TimeoutTimer timeout, SqlConnectionString connectionOptions, String newPassword, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, Object providerInfo, String newPassword, SqlConnection owningObject, Boolean redirectedUserInstance)
   at System.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnection owningConnection, DbConnectionPool pool, DbConnectionOptions options)
   at System.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionPool.GetConnection(DbConnection owningObject)
   at System.Data.ProviderBase.DbConnectionFactory.GetConnection(DbConnection owningConnection)
   at System.Data.ProviderBase.DbConnectionClosed.OpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory)
   at System.Data.SqlClient.SqlConnection.Open()
   at NHibernate.Connection.DriverConnectionProvider.GetConnection()
   at NHibernate.Tool.hbm2ddl.ManagedProviderConnectionHelper.Prepare()
   at NHibernate.Tool.hbm2ddl.SchemaUpdate.Execute(Action`1 scriptAction, Boolean doUpdate)
 INFO [2011-04-06 08:17:34,313] - checking mappings queue
 INFO [2011-04-06 08:17:34,314] - processing one-to-many association mappings
DEBUG [2011-04-06 08:17:34,314] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 08:17:34,316] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 08:17:34,321] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 08:17:34,322] - processing one-to-one association property references
 INFO [2011-04-06 08:17:34,322] - processing foreign key constraints
DEBUG [2011-04-06 08:17:34,325] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:17:34,327] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:17:34,327] - processing filters (second pass)
 INFO [2011-04-06 08:17:34,358] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:17:34,395] - Using dialect defined converter
 INFO [2011-04-06 08:17:34,397] - Generate SQL with comments: disabled
 INFO [2011-04-06 08:17:34,397] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:17:34,397] - Configuring ConnectionProvider
 INFO [2011-04-06 08:17:34,398] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 08:17:34,400] - Optimize cache for minimal puts: False
 INFO [2011-04-06 08:17:34,400] - Connection release mode: auto
 INFO [2011-04-06 08:17:34,401] - Default batch fetch size: 1
 INFO [2011-04-06 08:17:34,401] - Statistics: disabled
 INFO [2011-04-06 08:17:34,401] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 08:17:34,402] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 08:17:34,403] - Query language substitutions: {}
 INFO [2011-04-06 08:17:34,404] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 08:17:34,405] - Wrap result sets: disabled
 INFO [2011-04-06 08:17:34,406] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 08:17:34,407] - Default entity-mode: Poco
 INFO [2011-04-06 08:17:34,407] - Named query checking : enabled
 INFO [2011-04-06 08:17:34,434] - building session factory
DEBUG [2011-04-06 08:17:34,434] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 08:17:34,436] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 08:17:34,437] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 08:17:51,327] - Starting up
 INFO [2011-04-06 08:17:54,970] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 08:17:54,971] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 08:17:54,972] - Bytecode provider name : lcg
 INFO [2011-04-06 08:17:54,974] - Using reflection optimizer
DEBUG [2011-04-06 08:17:55,513] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 08:17:55,648] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:17:56,068] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 08:17:56,111] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:17:56,156] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 08:17:56,164] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:17:56,178] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:17:56,188] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:17:56,189] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:17:56,190] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 08:17:56,191] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:17:56,191] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:17:56,192] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:17:56,193] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:17:56,193] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 08:17:56,193] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:17:56,193] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 08:17:59,247] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:17:59,250] - Running hbm2ddl schema update
 INFO [2011-04-06 08:17:59,250] - fetching database metadata
 INFO [2011-04-06 08:17:59,252] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:17:59,253] - Configuring ConnectionProvider
DEBUG [2011-04-06 08:17:59,258] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 08:17:59,341] - updating schema
 INFO [2011-04-06 08:17:59,346] - checking mappings queue
 INFO [2011-04-06 08:17:59,346] - processing one-to-many association mappings
DEBUG [2011-04-06 08:17:59,347] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 08:17:59,349] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 08:17:59,355] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 08:17:59,355] - processing one-to-one association property references
 INFO [2011-04-06 08:17:59,355] - processing foreign key constraints
DEBUG [2011-04-06 08:17:59,357] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:17:59,360] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:17:59,360] - processing filters (second pass)
 INFO [2011-04-06 08:17:59,512] - table not found: ChocolateBar
 INFO [2011-04-06 08:17:59,548] - table not found: Chocolatier
 INFO [2011-04-06 08:17:59,565] - table not found: Feature
 INFO [2011-04-06 08:17:59,566] - table not found: ChocolateBar
 INFO [2011-04-06 08:17:59,570] - table not found: Chocolatier
 INFO [2011-04-06 08:17:59,571] - table not found: Feature
DEBUG [2011-04-06 08:17:59,590] - create table [ChocolateBar] (ID INT IDENTITY NOT NULL, Name NVARCHAR(255) null, ChocolatierID INT null, primary key (ID))
DEBUG [2011-04-06 08:17:59,690] - create table [Chocolatier] (ID INT IDENTITY NOT NULL, Name NVARCHAR(255) null, primary key (ID))
DEBUG [2011-04-06 08:17:59,759] - create table [Feature] (ID INT IDENTITY NOT NULL, Name NVARCHAR(255) null, ChocolateBar_id INT null, primary key (ID))
DEBUG [2011-04-06 08:17:59,809] - alter table [ChocolateBar] add constraint FK6A71DC85364F3BA foreign key (ChocolatierID) references [Chocolatier]
DEBUG [2011-04-06 08:17:59,878] - alter table [Feature] add constraint FK1328745F39440519 foreign key (ChocolateBar_id) references [ChocolateBar]
 INFO [2011-04-06 08:17:59,893] - schema update complete
DEBUG [2011-04-06 08:17:59,894] - Closing connection
 INFO [2011-04-06 08:17:59,930] - checking mappings queue
 INFO [2011-04-06 08:17:59,930] - processing one-to-many association mappings
 INFO [2011-04-06 08:17:59,930] - processing one-to-one association property references
 INFO [2011-04-06 08:17:59,930] - processing foreign key constraints
DEBUG [2011-04-06 08:17:59,930] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:17:59,930] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:17:59,930] - processing filters (second pass)
 INFO [2011-04-06 08:17:59,956] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:17:59,987] - Using dialect defined converter
 INFO [2011-04-06 08:17:59,987] - Generate SQL with comments: disabled
 INFO [2011-04-06 08:17:59,987] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:17:59,987] - Configuring ConnectionProvider
 INFO [2011-04-06 08:17:59,988] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 08:17:59,990] - Optimize cache for minimal puts: False
 INFO [2011-04-06 08:17:59,990] - Connection release mode: auto
 INFO [2011-04-06 08:17:59,990] - Default batch fetch size: 1
 INFO [2011-04-06 08:17:59,991] - Statistics: disabled
 INFO [2011-04-06 08:17:59,991] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 08:17:59,991] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 08:17:59,993] - Query language substitutions: {}
 INFO [2011-04-06 08:17:59,993] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 08:17:59,994] - Wrap result sets: disabled
 INFO [2011-04-06 08:17:59,995] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 08:17:59,995] - Default entity-mode: Poco
 INFO [2011-04-06 08:17:59,996] - Named query checking : enabled
 INFO [2011-04-06 08:18:00,019] - building session factory
DEBUG [2011-04-06 08:18:00,020] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 08:18:00,021] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=localhost\sql2008r2;Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 08:18:00,022] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:18:00,026] - Closing connection
DEBUG [2011-04-06 08:18:00,117] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:18:00,124] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:18:00,186] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:18:00,222] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:18:00,222] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:18:00,223] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:18:00,224] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:18:00,224] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:18:00,225] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:18:00,257] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:18:00,257] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:18:00,257] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-06 08:18:00,257] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 08:18:00,301] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:18:00,301] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:18:00,302] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-06 08:18:00,302] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-06 08:18:00,302] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 08:18:00,302] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:18:00,302] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:18:00,343] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:18:00,343] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:18:00,344] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:18:00,344] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:18:00,345] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:18:00,346] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:18:00,346] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:18:00,347] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:18:00,347] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:18:00,347] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-06 08:18:00,347] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:18:00,347] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:18:00,347] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:18:00,347] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:18:00,347] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:18:00,348] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:18:00,348] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-06 08:18:00,348] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:18:00,348] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:18:00,348] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:18:00,348] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:18:00,348] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:18:00,348] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:18:00,359] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 08:18:00,360] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-06 08:18:00,361] - registered: 639a53c8216343eeb4f8d448e07be1af(unnamed)
 INFO [2011-04-06 08:18:00,361] - no name configured
DEBUG [2011-04-06 08:18:00,361] - Instantiated session factory
DEBUG [2011-04-06 08:18:00,365] - Checking 0 named HQL queries
DEBUG [2011-04-06 08:18:00,365] - Checking 0 named SQL queries
DEBUG [2011-04-06 08:18:00,392] - [session-id=a3098eaf-014d-4d4c-b499-4cb6ac06f2be] opened session at timestamp: 634376746803, for session factory: [/639a53c8216343eeb4f8d448e07be1af]
DEBUG [2011-04-06 08:18:01,807] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:18:02,382] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 08:18:02,404] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-06 08:18:02,422] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-06 08:18:02,427] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 08:18:02,429] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-06 08:18:02,451] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-06 08:18:02,454] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 08:18:02,455] - throwQueryException() : no errors
DEBUG [2011-04-06 08:18:02,484] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:18:02,484] - throwQueryException() : no errors
DEBUG [2011-04-06 08:18:02,519] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:18:02,522] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 08:18:02,523] - named parameters: {}
DEBUG [2011-04-06 08:18:02,546] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:18:02,547] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 08:18:02,552] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:18:02,557] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:18:02,559] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:18:02,584] - ExecuteReader took 21 ms
DEBUG [2011-04-06 08:18:02,586] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:18:02,588] - processing result set
DEBUG [2011-04-06 08:18:02,589] - done processing result set (0 rows)
DEBUG [2011-04-06 08:18:02,590] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:18:02,591] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:18:02,591] - DataReader was closed after 28 ms
DEBUG [2011-04-06 08:18:02,591] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:18:02,592] - aggressively releasing database connection
DEBUG [2011-04-06 08:18:02,593] - Closing connection
DEBUG [2011-04-06 08:18:02,594] - total objects hydrated: 0
DEBUG [2011-04-06 08:18:02,594] - initializing non-lazy collections
DEBUG [2011-04-06 08:18:02,597] - after autocommit
DEBUG [2011-04-06 08:18:02,598] - transaction completion
DEBUG [2011-04-06 08:18:02,598] - aggressively releasing database connection
DEBUG [2011-04-06 08:18:17,020] - [session-id=9a463c3b-b771-422a-ba0e-7d210c24249e] opened session at timestamp: 634376746970, for session factory: [/639a53c8216343eeb4f8d448e07be1af]
DEBUG [2011-04-06 08:18:17,022] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:18:17,023] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 08:18:17,023] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_1) -> chocolatie0_
DEBUG [2011-04-06 08:18:17,023] - Resolved :  <generated>_1 -> chocolatie0_.ID
DEBUG [2011-04-06 08:18:17,023] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 08:18:17,023] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-06 08:18:17,023] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-06 08:18:17,023] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 08:18:17,023] - throwQueryException() : no errors
DEBUG [2011-04-06 08:18:17,024] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:18:17,024] - throwQueryException() : no errors
DEBUG [2011-04-06 08:18:17,024] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:18:17,024] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:18:17,024] - named parameters: {}
DEBUG [2011-04-06 08:18:17,024] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:18:17,025] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:18:17,025] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:18:17,025] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:18:17,025] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:18:17,061] - ExecuteReader took 35 ms
DEBUG [2011-04-06 08:18:17,061] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:18:17,061] - processing result set
DEBUG [2011-04-06 08:18:17,061] - done processing result set (0 rows)
DEBUG [2011-04-06 08:18:17,061] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:18:17,061] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:18:17,061] - DataReader was closed after 36 ms
DEBUG [2011-04-06 08:18:17,061] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:18:17,061] - aggressively releasing database connection
DEBUG [2011-04-06 08:18:17,061] - Closing connection
DEBUG [2011-04-06 08:18:17,061] - total objects hydrated: 0
DEBUG [2011-04-06 08:18:17,061] - initializing non-lazy collections
DEBUG [2011-04-06 08:18:17,062] - after autocommit
DEBUG [2011-04-06 08:18:17,062] - transaction completion
DEBUG [2011-04-06 08:18:17,062] - aggressively releasing database connection
DEBUG [2011-04-06 08:19:14,498] - [session-id=03cf6798-1dbe-4b05-9d96-02d538fafa09] opened session at timestamp: 634376747544, for session factory: [/639a53c8216343eeb4f8d448e07be1af]
DEBUG [2011-04-06 08:19:14,498] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:19:14,499] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:19:14,499] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:19:14,499] - named parameters: {}
DEBUG [2011-04-06 08:19:14,499] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:19:14,499] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:19:14,499] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:19:14,499] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:19:14,499] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:19:14,505] - ExecuteReader took 5 ms
DEBUG [2011-04-06 08:19:14,505] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:19:14,505] - processing result set
DEBUG [2011-04-06 08:19:14,505] - done processing result set (0 rows)
DEBUG [2011-04-06 08:19:14,505] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:19:14,505] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:19:14,505] - DataReader was closed after 5 ms
DEBUG [2011-04-06 08:19:14,505] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:19:14,505] - aggressively releasing database connection
DEBUG [2011-04-06 08:19:14,505] - Closing connection
DEBUG [2011-04-06 08:19:14,505] - total objects hydrated: 0
DEBUG [2011-04-06 08:19:14,505] - initializing non-lazy collections
DEBUG [2011-04-06 08:19:14,505] - after autocommit
DEBUG [2011-04-06 08:19:14,505] - transaction completion
DEBUG [2011-04-06 08:19:14,505] - aggressively releasing database connection
DEBUG [2011-04-06 08:19:15,497] - [session-id=03cf6798-1dbe-4b05-9d96-02d538fafa09] executing real Dispose(False)
DEBUG [2011-04-06 08:19:19,140] - [session-id=75c32fb7-8630-4fce-a371-05383dfa903d] opened session at timestamp: 634376747591, for session factory: [/639a53c8216343eeb4f8d448e07be1af]
DEBUG [2011-04-06 08:19:20,069] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:19:20,069] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:19:20,069] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:19:20,069] - named parameters: {}
DEBUG [2011-04-06 08:19:20,070] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:19:20,070] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:19:20,070] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:19:20,070] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:19:20,070] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:19:20,070] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:19:20,070] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:19:20,070] - processing result set
DEBUG [2011-04-06 08:19:20,070] - done processing result set (0 rows)
DEBUG [2011-04-06 08:19:20,070] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:19:20,070] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:19:20,070] - DataReader was closed after 0 ms
DEBUG [2011-04-06 08:19:20,070] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:19:20,071] - aggressively releasing database connection
DEBUG [2011-04-06 08:19:20,071] - Closing connection
DEBUG [2011-04-06 08:19:20,071] - total objects hydrated: 0
DEBUG [2011-04-06 08:19:20,071] - initializing non-lazy collections
DEBUG [2011-04-06 08:19:20,071] - after autocommit
DEBUG [2011-04-06 08:19:20,071] - transaction completion
DEBUG [2011-04-06 08:19:20,071] - aggressively releasing database connection
DEBUG [2011-04-06 08:19:36,079] - [session-id=26b19733-4c51-4bed-b7b9-dc782ed792bd] opened session at timestamp: 634376747760, for session factory: [/639a53c8216343eeb4f8d448e07be1af]
DEBUG [2011-04-06 08:19:36,080] - Begin (Unspecified)
DEBUG [2011-04-06 08:19:36,080] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:19:36,091] - unsaved-value: 0
DEBUG [2011-04-06 08:19:36,091] - transient instance of: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:19:36,091] - saving transient instance
DEBUG [2011-04-06 08:19:36,094] - saving [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-06 08:19:36,099] - executing insertions
DEBUG [2011-04-06 08:19:36,105] - executing identity-insert immediately
DEBUG [2011-04-06 08:19:36,107] - Inserting entity: nhibernate_demo.Models.Chocolatier (native id)
DEBUG [2011-04-06 08:19:36,111] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:19:36,111] - Building an IDbCommand object for the SqlString: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:19:36,112] - Dehydrating entity: [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-06 08:19:36,113] - binding 'Hershey' to parameter: 0
DEBUG [2011-04-06 08:19:36,114] - INSERT INTO [Chocolatier] (Name) VALUES (@p0); select SCOPE_IDENTITY();@p0 = 'Hershey' [Type: String (4000)]
DEBUG [2011-04-06 08:19:36,115] - Enlist Command
DEBUG [2011-04-06 08:19:36,150] - ExecuteReader took 35 ms
DEBUG [2011-04-06 08:19:36,150] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:19:36,152] - returning '1' as column: 
DEBUG [2011-04-06 08:19:36,152] - Natively generated identity: 1
DEBUG [2011-04-06 08:19:36,152] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:19:36,152] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:19:36,152] - DataReader was closed after 37 ms
DEBUG [2011-04-06 08:19:36,153] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:19:36,163] - Start Commit
DEBUG [2011-04-06 08:19:36,166] - flushing session
DEBUG [2011-04-06 08:19:36,167] - processing flush-time cascades
DEBUG [2011-04-06 08:19:36,168] - dirty checking collections
DEBUG [2011-04-06 08:19:36,169] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 08:19:36,179] - Processing unreferenced collections
DEBUG [2011-04-06 08:19:36,179] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 08:19:36,179] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-06 08:19:36,180] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-06 08:19:36,180] - listing entities:
DEBUG [2011-04-06 08:19:36,183] - nhibernate_demo.Models.Chocolatier{'ID'='1', 'Name'='Hershey'}
DEBUG [2011-04-06 08:19:36,183] - executing flush
DEBUG [2011-04-06 08:19:36,183] - registering flush begin
DEBUG [2011-04-06 08:19:36,184] - registering flush end
DEBUG [2011-04-06 08:19:36,186] - post flush
DEBUG [2011-04-06 08:19:36,187] - before transaction completion
DEBUG [2011-04-06 08:19:36,189] - IDbTransaction Committed
DEBUG [2011-04-06 08:19:36,189] - transaction completion
DEBUG [2011-04-06 08:19:36,189] - aggressively releasing database connection
DEBUG [2011-04-06 08:19:36,189] - Closing connection
DEBUG [2011-04-06 08:19:36,190] - IDbTransaction disposed.
DEBUG [2011-04-06 08:19:36,214] - [session-id=26b19733-4c51-4bed-b7b9-dc782ed792bd] executing real Dispose(False)
DEBUG [2011-04-06 08:19:36,214] - [session-id=da7bfa53-087b-462f-b2f4-ff740baafa3c] opened session at timestamp: 634376747762, for session factory: [/639a53c8216343eeb4f8d448e07be1af]
DEBUG [2011-04-06 08:19:36,216] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:19:36,216] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:19:36,216] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:19:36,216] - named parameters: {}
DEBUG [2011-04-06 08:19:36,216] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:19:36,216] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:19:36,216] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:19:36,216] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:19:36,216] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:19:36,217] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:19:36,217] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:19:36,217] - processing result set
DEBUG [2011-04-06 08:19:36,217] - result set row: 0
DEBUG [2011-04-06 08:19:36,219] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:19:36,221] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:19:36,225] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:19:36,227] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:19:36,228] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:19:36,230] - done processing result set (1 rows)
DEBUG [2011-04-06 08:19:36,230] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:19:36,230] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:19:36,230] - DataReader was closed after 13 ms
DEBUG [2011-04-06 08:19:36,230] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:19:36,230] - aggressively releasing database connection
DEBUG [2011-04-06 08:19:36,230] - Closing connection
DEBUG [2011-04-06 08:19:36,230] - total objects hydrated: 1
DEBUG [2011-04-06 08:19:36,232] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:19:36,237] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:19:36,237] - initializing non-lazy collections
DEBUG [2011-04-06 08:19:36,237] - after autocommit
DEBUG [2011-04-06 08:19:36,237] - transaction completion
DEBUG [2011-04-06 08:19:36,237] - aggressively releasing database connection
DEBUG [2011-04-06 08:19:39,904] - [session-id=da7bfa53-087b-462f-b2f4-ff740baafa3c] executing real Dispose(False)
DEBUG [2011-04-06 08:20:11,205] - [session-id=75c32fb7-8630-4fce-a371-05383dfa903d] executing real Dispose(False)
 INFO [2011-04-06 08:23:02,594] - Starting up
 INFO [2011-04-06 08:23:04,420] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 08:23:04,422] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 08:23:04,423] - Bytecode provider name : lcg
 INFO [2011-04-06 08:23:04,424] - Using reflection optimizer
DEBUG [2011-04-06 08:23:04,870] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 08:23:05,035] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:23:05,093] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 08:23:05,132] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:23:05,176] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 08:23:05,181] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:23:05,193] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:23:05,201] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:23:05,202] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:23:05,203] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 08:23:05,203] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:23:05,203] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:23:05,204] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:23:05,205] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:23:05,206] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 08:23:05,206] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:23:05,206] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 08:23:05,211] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:23:05,214] - Running hbm2ddl schema update
 INFO [2011-04-06 08:23:05,214] - fetching database metadata
 INFO [2011-04-06 08:23:05,215] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:23:05,216] - Configuring ConnectionProvider
DEBUG [2011-04-06 08:23:05,218] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 08:23:05,233] - updating schema
 INFO [2011-04-06 08:23:05,242] - checking mappings queue
 INFO [2011-04-06 08:23:05,242] - processing one-to-many association mappings
DEBUG [2011-04-06 08:23:05,242] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 08:23:05,243] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 08:23:05,248] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 08:23:05,249] - processing one-to-one association property references
 INFO [2011-04-06 08:23:05,249] - processing foreign key constraints
DEBUG [2011-04-06 08:23:05,252] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:23:05,254] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:23:05,254] - processing filters (second pass)
 INFO [2011-04-06 08:23:06,057] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-06 08:23:06,058] - columns: id, name, chocolatierid
 INFO [2011-04-06 08:23:06,058] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-06 08:23:06,058] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-06 08:23:06,110] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-06 08:23:06,110] - columns: id, name
 INFO [2011-04-06 08:23:06,110] - foreign keys: 
 INFO [2011-04-06 08:23:06,110] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-06 08:23:06,171] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-06 08:23:06,171] - columns: id, name, chocolatebar_id
 INFO [2011-04-06 08:23:06,171] - foreign keys: fk1328745f39440519
 INFO [2011-04-06 08:23:06,172] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-06 08:23:06,191] - schema update complete
DEBUG [2011-04-06 08:23:06,192] - Closing connection
 INFO [2011-04-06 08:23:06,194] - checking mappings queue
 INFO [2011-04-06 08:23:06,194] - processing one-to-many association mappings
 INFO [2011-04-06 08:23:06,194] - processing one-to-one association property references
 INFO [2011-04-06 08:23:06,194] - processing foreign key constraints
DEBUG [2011-04-06 08:23:06,194] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:23:06,194] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:23:06,194] - processing filters (second pass)
 INFO [2011-04-06 08:23:06,230] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:23:06,260] - Using dialect defined converter
 INFO [2011-04-06 08:23:06,261] - Generate SQL with comments: disabled
 INFO [2011-04-06 08:23:06,261] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:23:06,261] - Configuring ConnectionProvider
 INFO [2011-04-06 08:23:06,261] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 08:23:06,262] - Optimize cache for minimal puts: False
 INFO [2011-04-06 08:23:06,262] - Connection release mode: auto
 INFO [2011-04-06 08:23:06,262] - Default batch fetch size: 1
 INFO [2011-04-06 08:23:06,262] - Statistics: disabled
 INFO [2011-04-06 08:23:06,262] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 08:23:06,262] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 08:23:06,264] - Query language substitutions: {}
 INFO [2011-04-06 08:23:06,265] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 08:23:06,265] - Wrap result sets: disabled
 INFO [2011-04-06 08:23:06,266] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 08:23:06,266] - Default entity-mode: Poco
 INFO [2011-04-06 08:23:06,266] - Named query checking : enabled
 INFO [2011-04-06 08:23:06,289] - building session factory
DEBUG [2011-04-06 08:23:06,289] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 08:23:06,290] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=localhost\sql2008r2;Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 08:23:06,291] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:23:06,294] - Closing connection
DEBUG [2011-04-06 08:23:06,370] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:23:06,377] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:23:06,391] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:23:06,426] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:23:06,426] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:23:06,427] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:23:06,428] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:23:06,428] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:23:06,429] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:23:06,469] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:23:06,470] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:23:06,470] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-06 08:23:06,470] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 08:23:06,525] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:23:06,525] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:23:06,525] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-06 08:23:06,525] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-06 08:23:06,525] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 08:23:06,525] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:23:06,525] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:23:06,577] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:23:06,578] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:23:06,578] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:23:06,578] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:23:06,578] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:23:06,579] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:23:06,580] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:23:06,581] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:23:06,581] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:23:06,581] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-06 08:23:06,581] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:23:06,581] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:23:06,581] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:23:06,581] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:23:06,582] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:06,582] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:06,582] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:06,582] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:06,582] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:06,582] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:06,582] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:06,582] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:23:06,582] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:23:06,582] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-06 08:23:06,582] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:23:06,582] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:23:06,583] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:23:06,583] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:23:06,583] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:23:06,583] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:23:06,583] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:23:06,583] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:23:06,583] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:23:06,583] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:23:06,583] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:23:06,594] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 08:23:06,595] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-06 08:23:06,596] - registered: e3e5ea96f70541d58a7a730b15bfa333(unnamed)
 INFO [2011-04-06 08:23:06,596] - no name configured
DEBUG [2011-04-06 08:23:06,596] - Instantiated session factory
DEBUG [2011-04-06 08:23:06,602] - Checking 0 named HQL queries
DEBUG [2011-04-06 08:23:06,602] - Checking 0 named SQL queries
DEBUG [2011-04-06 08:23:06,617] - [session-id=538d14a7-285a-4bad-bf7c-f74462ed75e7] opened session at timestamp: 634376749866, for session factory: [/e3e5ea96f70541d58a7a730b15bfa333]
DEBUG [2011-04-06 08:23:06,627] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:06,628] - creating new proxy for entity
DEBUG [2011-04-06 08:23:06,914] - after autocommit
DEBUG [2011-04-06 08:23:06,914] - transaction completion
DEBUG [2011-04-06 08:23:06,915] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:07,934] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:07,936] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:07,938] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:07,940] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:07,943] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:07,974] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:23:07,974] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:07,978] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 08:23:07,979] - binding '1' to parameter: 0
 INFO [2011-04-06 08:23:07,982] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 08:23:07,986] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 08:23:07,987] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:23:07,992] - ExecuteReader took 3 ms
DEBUG [2011-04-06 08:23:07,993] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:23:07,994] - processing result set
DEBUG [2011-04-06 08:23:07,994] - result set row: 0
DEBUG [2011-04-06 08:23:07,998] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:08,004] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:08,008] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:08,010] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 08:23:08,011] - done processing result set (1 rows)
DEBUG [2011-04-06 08:23:08,013] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:23:08,014] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:23:08,014] - DataReader was closed after 25 ms
DEBUG [2011-04-06 08:23:08,014] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:23:08,015] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:08,015] - Closing connection
DEBUG [2011-04-06 08:23:08,017] - total objects hydrated: 1
DEBUG [2011-04-06 08:23:08,021] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:08,031] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:08,033] - initializing non-lazy collections
DEBUG [2011-04-06 08:23:08,033] - done entity load
DEBUG [2011-04-06 08:23:10,147] - [session-id=538d14a7-285a-4bad-bf7c-f74462ed75e7] executing real Dispose(False)
DEBUG [2011-04-06 08:23:12,773] - [session-id=97871937-842a-4596-88dd-e16542db683b] opened session at timestamp: 634376749927, for session factory: [/e3e5ea96f70541d58a7a730b15bfa333]
DEBUG [2011-04-06 08:23:12,775] - Begin (Unspecified)
DEBUG [2011-04-06 08:23:12,775] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:23:12,786] - unsaved-value: 0
DEBUG [2011-04-06 08:23:12,786] - detached instance of: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:23:12,786] - updating detached instance
DEBUG [2011-04-06 08:23:12,788] - updating [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:12,791] - updating [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:12,794] - Start Commit
DEBUG [2011-04-06 08:23:12,797] - flushing session
DEBUG [2011-04-06 08:23:12,799] - processing flush-time cascades
DEBUG [2011-04-06 08:23:12,801] - dirty checking collections
DEBUG [2011-04-06 08:23:12,802] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 08:23:12,811] - Updating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:12,822] - Processing unreferenced collections
DEBUG [2011-04-06 08:23:12,822] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 08:23:12,823] - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
DEBUG [2011-04-06 08:23:12,823] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-06 08:23:12,824] - listing entities:
DEBUG [2011-04-06 08:23:12,825] - nhibernate_demo.Models.Chocolatier{'ID'='1', 'Name'='Hershey'}
DEBUG [2011-04-06 08:23:12,826] - executing flush
DEBUG [2011-04-06 08:23:12,826] - registering flush begin
DEBUG [2011-04-06 08:23:12,839] - Updating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:12,840] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:23:12,840] - Building an IDbCommand object for the SqlString: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:23:12,841] - Dehydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:12,841] - binding 'Hershey' to parameter: 0
DEBUG [2011-04-06 08:23:12,841] - binding '1' to parameter: 1
DEBUG [2011-04-06 08:23:12,842] - UPDATE [Chocolatier] SET Name = @p0 WHERE ID = @p1;@p0 = 'Hershey' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 08:23:12,842] - Enlist Command
DEBUG [2011-04-06 08:23:12,845] - ExecuteNonQuery took 2 ms
DEBUG [2011-04-06 08:23:12,850] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-06 08:23:12,850] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:23:12,850] - registering flush end
DEBUG [2011-04-06 08:23:12,852] - post flush
DEBUG [2011-04-06 08:23:12,853] - before transaction completion
DEBUG [2011-04-06 08:23:12,854] - IDbTransaction Committed
DEBUG [2011-04-06 08:23:12,855] - transaction completion
DEBUG [2011-04-06 08:23:12,855] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:12,855] - Closing connection
DEBUG [2011-04-06 08:23:12,855] - IDbTransaction disposed.
DEBUG [2011-04-06 08:23:12,864] - [session-id=88eb8c98-f7be-4739-9a8b-bcdb7a2b5153] opened session at timestamp: 634376749928, for session factory: [/e3e5ea96f70541d58a7a730b15bfa333]
DEBUG [2011-04-06 08:23:12,892] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:23:13,223] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 08:23:13,246] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_0) -> chocolatie0_
DEBUG [2011-04-06 08:23:13,264] - Resolved :  <generated>_0 -> chocolatie0_.ID
DEBUG [2011-04-06 08:23:13,267] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 08:23:13,270] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-06 08:23:13,297] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-06 08:23:13,303] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 08:23:13,305] - throwQueryException() : no errors
DEBUG [2011-04-06 08:23:13,343] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:23:13,343] - throwQueryException() : no errors
DEBUG [2011-04-06 08:23:13,380] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:23:13,382] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:23:13,384] - named parameters: {}
DEBUG [2011-04-06 08:23:13,389] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:23:13,390] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:23:13,390] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:23:13,390] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:23:13,390] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:23:13,390] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:23:13,390] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:23:13,391] - processing result set
DEBUG [2011-04-06 08:23:13,391] - result set row: 0
DEBUG [2011-04-06 08:23:13,392] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:23:13,392] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:13,392] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:13,392] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:13,392] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:23:13,393] - done processing result set (1 rows)
DEBUG [2011-04-06 08:23:13,394] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:23:13,394] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:23:13,394] - DataReader was closed after 3 ms
DEBUG [2011-04-06 08:23:13,394] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:23:13,394] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:13,394] - Closing connection
DEBUG [2011-04-06 08:23:13,394] - total objects hydrated: 1
DEBUG [2011-04-06 08:23:13,394] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:13,394] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:13,394] - initializing non-lazy collections
DEBUG [2011-04-06 08:23:13,396] - after autocommit
DEBUG [2011-04-06 08:23:13,396] - transaction completion
DEBUG [2011-04-06 08:23:13,396] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:15,670] - [session-id=97871937-842a-4596-88dd-e16542db683b] executing real Dispose(False)
DEBUG [2011-04-06 08:23:15,671] - [session-id=190fd261-90e5-4622-8104-4ed803567a48] opened session at timestamp: 634376749956, for session factory: [/e3e5ea96f70541d58a7a730b15bfa333]
DEBUG [2011-04-06 08:23:15,671] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,671] - creating new proxy for entity
DEBUG [2011-04-06 08:23:15,672] - after autocommit
DEBUG [2011-04-06 08:23:15,672] - transaction completion
DEBUG [2011-04-06 08:23:15,672] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:15,674] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,674] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,674] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,674] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,674] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,674] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:23:15,674] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:15,674] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 08:23:15,674] - binding '1' to parameter: 0
 INFO [2011-04-06 08:23:15,674] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 08:23:15,674] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 08:23:15,674] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:23:15,676] - ExecuteReader took 1 ms
DEBUG [2011-04-06 08:23:15,677] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:23:15,677] - processing result set
DEBUG [2011-04-06 08:23:15,677] - result set row: 0
DEBUG [2011-04-06 08:23:15,677] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,677] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,677] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,677] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 08:23:15,677] - done processing result set (1 rows)
DEBUG [2011-04-06 08:23:15,677] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:23:15,677] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:23:15,677] - DataReader was closed after 2 ms
DEBUG [2011-04-06 08:23:15,677] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:23:15,677] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:15,677] - Closing connection
DEBUG [2011-04-06 08:23:15,677] - total objects hydrated: 1
DEBUG [2011-04-06 08:23:15,677] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,677] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:15,677] - initializing non-lazy collections
DEBUG [2011-04-06 08:23:15,677] - done entity load
DEBUG [2011-04-06 08:23:17,903] - [session-id=190fd261-90e5-4622-8104-4ed803567a48] executing real Dispose(False)
DEBUG [2011-04-06 08:23:23,703] - [session-id=c32c8272-490d-4bda-8202-239a3b87ec06] opened session at timestamp: 634376750037, for session factory: [/e3e5ea96f70541d58a7a730b15bfa333]
DEBUG [2011-04-06 08:23:23,703] - Begin (Unspecified)
DEBUG [2011-04-06 08:23:23,703] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:23:23,745] - unsaved-value: 0
DEBUG [2011-04-06 08:23:23,746] - transient instance of: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:23:23,746] - saving transient instance
DEBUG [2011-04-06 08:23:23,747] - saving [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-06 08:23:23,750] - executing insertions
DEBUG [2011-04-06 08:23:23,752] - executing identity-insert immediately
DEBUG [2011-04-06 08:23:23,754] - Inserting entity: nhibernate_demo.Models.Chocolatier (native id)
DEBUG [2011-04-06 08:23:23,755] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:23:23,755] - Building an IDbCommand object for the SqlString: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:23:23,755] - Dehydrating entity: [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-06 08:23:23,755] - binding 'Bill' to parameter: 0
DEBUG [2011-04-06 08:23:23,755] - INSERT INTO [Chocolatier] (Name) VALUES (@p0); select SCOPE_IDENTITY();@p0 = 'Bill' [Type: String (4000)]
DEBUG [2011-04-06 08:23:23,755] - Enlist Command
DEBUG [2011-04-06 08:23:23,756] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:23:23,756] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:23:23,757] - returning '2' as column: 
DEBUG [2011-04-06 08:23:23,757] - Natively generated identity: 2
DEBUG [2011-04-06 08:23:23,757] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:23:23,757] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:23:23,757] - DataReader was closed after 1 ms
DEBUG [2011-04-06 08:23:23,757] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:23:23,759] - Start Commit
DEBUG [2011-04-06 08:23:23,759] - flushing session
DEBUG [2011-04-06 08:23:23,759] - processing flush-time cascades
DEBUG [2011-04-06 08:23:23,759] - dirty checking collections
DEBUG [2011-04-06 08:23:23,759] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 08:23:23,761] - Processing unreferenced collections
DEBUG [2011-04-06 08:23:23,761] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 08:23:23,761] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-06 08:23:23,761] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-06 08:23:23,761] - listing entities:
DEBUG [2011-04-06 08:23:23,761] - nhibernate_demo.Models.Chocolatier{'ID'='2', 'Name'='Bill'}
DEBUG [2011-04-06 08:23:23,761] - executing flush
DEBUG [2011-04-06 08:23:23,761] - registering flush begin
DEBUG [2011-04-06 08:23:23,761] - registering flush end
DEBUG [2011-04-06 08:23:23,761] - post flush
DEBUG [2011-04-06 08:23:23,761] - before transaction completion
DEBUG [2011-04-06 08:23:23,762] - IDbTransaction Committed
DEBUG [2011-04-06 08:23:23,762] - transaction completion
DEBUG [2011-04-06 08:23:23,762] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:23,762] - Closing connection
DEBUG [2011-04-06 08:23:23,762] - IDbTransaction disposed.
DEBUG [2011-04-06 08:23:23,769] - [session-id=c32c8272-490d-4bda-8202-239a3b87ec06] executing real Dispose(False)
DEBUG [2011-04-06 08:23:23,774] - [session-id=fbd284b1-d9dd-484c-ad59-5633f6462848] opened session at timestamp: 634376750037, for session factory: [/e3e5ea96f70541d58a7a730b15bfa333]
DEBUG [2011-04-06 08:23:23,776] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:23:23,776] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:23:23,776] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:23:23,776] - named parameters: {}
DEBUG [2011-04-06 08:23:23,776] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:23:23,776] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:23:23,776] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:23:23,776] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:23:23,776] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:23:23,777] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:23:23,777] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:23:23,777] - processing result set
DEBUG [2011-04-06 08:23:23,777] - result set row: 0
DEBUG [2011-04-06 08:23:23,777] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:23:23,777] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:23,777] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:23,777] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:23,777] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:23:23,777] - result set row: 1
DEBUG [2011-04-06 08:23:23,777] - returning '2' as column: ID1_
DEBUG [2011-04-06 08:23:23,777] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:23,777] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:23,777] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:23,777] - returning 'Bill' as column: Name1_
DEBUG [2011-04-06 08:23:23,777] - done processing result set (2 rows)
DEBUG [2011-04-06 08:23:23,778] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:23:23,778] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:23:23,778] - DataReader was closed after 1 ms
DEBUG [2011-04-06 08:23:23,778] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:23:23,778] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:23,778] - Closing connection
DEBUG [2011-04-06 08:23:23,778] - total objects hydrated: 2
DEBUG [2011-04-06 08:23:23,778] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:23,778] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:23:23,778] - resolving associations for [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:23,778] - done materializing entity [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:23,778] - initializing non-lazy collections
DEBUG [2011-04-06 08:23:23,778] - after autocommit
DEBUG [2011-04-06 08:23:23,778] - transaction completion
DEBUG [2011-04-06 08:23:23,778] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:25,357] - [session-id=2772a4fa-6242-4cc3-842b-5da8b8977a85] opened session at timestamp: 634376750053, for session factory: [/e3e5ea96f70541d58a7a730b15bfa333]
DEBUG [2011-04-06 08:23:25,357] - Begin (Unspecified)
DEBUG [2011-04-06 08:23:25,357] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:23:25,358] - loading entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,358] - creating new proxy for entity
DEBUG [2011-04-06 08:23:25,363] - initializing proxy: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,363] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,363] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,363] - Fetching entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,363] - loading entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,363] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:23:25,363] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:23:25,363] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-06 08:23:25,363] - binding '2' to parameter: 0
 INFO [2011-04-06 08:23:25,363] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 08:23:25,363] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-06 08:23:25,363] - Enlist Command
DEBUG [2011-04-06 08:23:25,366] - ExecuteReader took 2 ms
DEBUG [2011-04-06 08:23:25,366] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:23:25,366] - processing result set
DEBUG [2011-04-06 08:23:25,366] - result set row: 0
DEBUG [2011-04-06 08:23:25,366] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,367] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,367] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,367] - returning 'Bill' as column: Name1_0_
DEBUG [2011-04-06 08:23:25,367] - done processing result set (1 rows)
DEBUG [2011-04-06 08:23:25,367] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:23:25,367] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:23:25,367] - DataReader was closed after 3 ms
DEBUG [2011-04-06 08:23:25,367] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:23:25,367] - total objects hydrated: 1
DEBUG [2011-04-06 08:23:25,367] - resolving associations for [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,367] - done materializing entity [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,367] - initializing non-lazy collections
DEBUG [2011-04-06 08:23:25,367] - done entity load
DEBUG [2011-04-06 08:23:25,367] - deleting a persistent instance
DEBUG [2011-04-06 08:23:25,368] - deleting [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,370] - setting cache mode to: Get
DEBUG [2011-04-06 08:23:25,370] - setting cache mode to: Normal
DEBUG [2011-04-06 08:23:25,371] - setting cache mode to: Get
DEBUG [2011-04-06 08:23:25,371] - setting cache mode to: Normal
DEBUG [2011-04-06 08:23:25,371] - Start Commit
DEBUG [2011-04-06 08:23:25,371] - flushing session
DEBUG [2011-04-06 08:23:25,371] - processing flush-time cascades
DEBUG [2011-04-06 08:23:25,371] - dirty checking collections
DEBUG [2011-04-06 08:23:25,371] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 08:23:25,371] - Processing unreferenced collections
DEBUG [2011-04-06 08:23:25,371] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 08:23:25,371] - Flushed: 0 insertions, 0 updates, 1 deletions to 1 objects
DEBUG [2011-04-06 08:23:25,371] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-06 08:23:25,371] - listing entities:
DEBUG [2011-04-06 08:23:25,371] - nhibernate_demo.Models.Chocolatier{'ID'='2', 'Name'='Bill'}
DEBUG [2011-04-06 08:23:25,371] - executing flush
DEBUG [2011-04-06 08:23:25,371] - registering flush begin
DEBUG [2011-04-06 08:23:25,376] - Deleting entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:23:25,376] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:23:25,376] - Building an IDbCommand object for the SqlString: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:23:25,376] - binding '2' to parameter: 0
DEBUG [2011-04-06 08:23:25,376] - DELETE FROM [Chocolatier] WHERE ID = @p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-06 08:23:25,376] - Enlist Command
DEBUG [2011-04-06 08:23:25,471] - ExecuteNonQuery took 94 ms
DEBUG [2011-04-06 08:23:25,477] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-06 08:23:25,477] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:23:25,477] - registering flush end
DEBUG [2011-04-06 08:23:25,477] - post flush
DEBUG [2011-04-06 08:23:25,477] - before transaction completion
DEBUG [2011-04-06 08:23:25,483] - IDbTransaction Committed
DEBUG [2011-04-06 08:23:25,483] - transaction completion
DEBUG [2011-04-06 08:23:25,483] - aggressively releasing database connection
DEBUG [2011-04-06 08:23:25,483] - Closing connection
DEBUG [2011-04-06 08:23:25,483] - IDbTransaction disposed.
DEBUG [2011-04-06 08:23:25,487] - [session-id=2772a4fa-6242-4cc3-842b-5da8b8977a85] executing real Dispose(False)
DEBUG [2011-04-06 08:23:25,487] - [session-id=fbd284b1-d9dd-484c-ad59-5633f6462848] executing real Dispose(False)
 INFO [2011-04-06 08:25:00,596] - Starting up
 INFO [2011-04-06 08:25:01,944] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 08:25:01,946] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 08:25:01,946] - Bytecode provider name : lcg
 INFO [2011-04-06 08:25:01,947] - Using reflection optimizer
DEBUG [2011-04-06 08:25:02,317] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 08:25:02,482] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:25:02,542] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 08:25:02,584] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:25:02,630] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 08:25:02,634] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:25:02,645] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:25:02,655] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:25:02,656] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:25:02,657] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 08:25:02,657] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:25:02,657] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:25:02,659] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:25:02,660] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:25:02,660] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 08:25:02,660] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:25:02,660] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 08:25:02,665] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:25:02,668] - Running hbm2ddl schema update
 INFO [2011-04-06 08:25:02,668] - fetching database metadata
 INFO [2011-04-06 08:25:02,669] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:25:02,670] - Configuring ConnectionProvider
DEBUG [2011-04-06 08:25:02,674] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 08:25:02,689] - updating schema
 INFO [2011-04-06 08:25:02,698] - checking mappings queue
 INFO [2011-04-06 08:25:02,698] - processing one-to-many association mappings
DEBUG [2011-04-06 08:25:02,699] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 08:25:02,700] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 08:25:02,706] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 08:25:02,706] - processing one-to-one association property references
 INFO [2011-04-06 08:25:02,706] - processing foreign key constraints
DEBUG [2011-04-06 08:25:02,709] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:25:02,711] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:25:02,711] - processing filters (second pass)
 INFO [2011-04-06 08:25:02,755] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-06 08:25:02,756] - columns: id, name, chocolatierid
 INFO [2011-04-06 08:25:02,756] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-06 08:25:02,756] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-06 08:25:02,772] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-06 08:25:02,772] - columns: id, name
 INFO [2011-04-06 08:25:02,772] - foreign keys: 
 INFO [2011-04-06 08:25:02,772] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-06 08:25:02,779] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-06 08:25:02,779] - columns: id, name, chocolatebar_id
 INFO [2011-04-06 08:25:02,779] - foreign keys: fk1328745f39440519
 INFO [2011-04-06 08:25:02,779] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-06 08:25:02,800] - schema update complete
DEBUG [2011-04-06 08:25:02,802] - Closing connection
 INFO [2011-04-06 08:25:02,803] - checking mappings queue
 INFO [2011-04-06 08:25:02,803] - processing one-to-many association mappings
 INFO [2011-04-06 08:25:02,803] - processing one-to-one association property references
 INFO [2011-04-06 08:25:02,803] - processing foreign key constraints
DEBUG [2011-04-06 08:25:02,803] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:25:02,803] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:25:02,803] - processing filters (second pass)
 INFO [2011-04-06 08:25:02,841] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:25:02,872] - Using dialect defined converter
 INFO [2011-04-06 08:25:02,872] - Generate SQL with comments: disabled
 INFO [2011-04-06 08:25:02,872] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:25:02,872] - Configuring ConnectionProvider
 INFO [2011-04-06 08:25:02,873] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 08:25:02,874] - Optimize cache for minimal puts: False
 INFO [2011-04-06 08:25:02,874] - Connection release mode: auto
 INFO [2011-04-06 08:25:02,874] - Default batch fetch size: 1
 INFO [2011-04-06 08:25:02,874] - Statistics: disabled
 INFO [2011-04-06 08:25:02,874] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 08:25:02,875] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 08:25:02,877] - Query language substitutions: {}
 INFO [2011-04-06 08:25:02,877] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 08:25:02,878] - Wrap result sets: disabled
 INFO [2011-04-06 08:25:02,878] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 08:25:02,879] - Default entity-mode: Poco
 INFO [2011-04-06 08:25:02,879] - Named query checking : enabled
 INFO [2011-04-06 08:25:02,905] - building session factory
DEBUG [2011-04-06 08:25:02,906] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 08:25:02,907] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=localhost\sql2008r2;Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 08:25:02,908] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:25:02,912] - Closing connection
DEBUG [2011-04-06 08:25:02,994] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:25:02,999] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:25:03,014] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:25:03,048] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:25:03,048] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:25:03,049] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:25:03,050] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:25:03,050] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:25:03,050] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:25:03,085] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:25:03,086] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:25:03,086] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-06 08:25:03,086] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 08:25:03,140] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:25:03,141] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:25:03,141] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-06 08:25:03,141] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-06 08:25:03,141] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 08:25:03,141] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:25:03,141] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:25:03,187] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:25:03,188] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:25:03,188] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:25:03,188] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:25:03,188] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:25:03,190] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:25:03,190] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:25:03,191] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:25:03,191] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:25:03,191] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-06 08:25:03,191] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:25:03,191] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:25:03,191] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:25:03,191] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:25:03,191] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:25:03,192] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:25:03,192] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-06 08:25:03,192] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:25:03,192] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:25:03,192] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:25:03,192] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:25:03,192] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:25:03,192] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:25:03,205] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 08:25:03,206] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-06 08:25:03,207] - registered: 72709289103f420dae702992646d4df1(unnamed)
 INFO [2011-04-06 08:25:03,207] - no name configured
DEBUG [2011-04-06 08:25:03,207] - Instantiated session factory
DEBUG [2011-04-06 08:25:03,214] - Checking 0 named HQL queries
DEBUG [2011-04-06 08:25:03,214] - Checking 0 named SQL queries
DEBUG [2011-04-06 08:25:03,232] - [session-id=16d6ec49-3ef9-4f94-904a-bd622c0d104a] opened session at timestamp: 634376751032, for session factory: [/72709289103f420dae702992646d4df1]
DEBUG [2011-04-06 08:25:03,237] - Begin (Unspecified)
DEBUG [2011-04-06 08:25:03,237] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:25:03,246] - loading entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:25:03,248] - creating new proxy for entity
DEBUG [2011-04-06 08:25:03,455] - initializing proxy: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:25:03,457] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:25:03,460] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:25:03,461] - Fetching entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:25:03,465] - loading entity: [nhibernate_demo.Models.Chocolatier#2]
DEBUG [2011-04-06 08:25:03,497] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:25:03,497] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:25:03,502] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-06 08:25:03,502] - binding '2' to parameter: 0
 INFO [2011-04-06 08:25:03,504] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 08:25:03,509] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-06 08:25:03,510] - Enlist Command
DEBUG [2011-04-06 08:25:03,512] - ExecuteReader took 1 ms
DEBUG [2011-04-06 08:25:03,513] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:25:03,514] - processing result set
DEBUG [2011-04-06 08:25:03,514] - done processing result set (0 rows)
DEBUG [2011-04-06 08:25:03,516] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:25:03,517] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:25:03,517] - DataReader was closed after 5 ms
DEBUG [2011-04-06 08:25:03,517] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:25:03,519] - total objects hydrated: 0
DEBUG [2011-04-06 08:25:03,520] - initializing non-lazy collections
DEBUG [2011-04-06 08:25:03,521] - done entity load
DEBUG [2011-04-06 08:25:03,522] - Rollback
DEBUG [2011-04-06 08:25:03,523] - IDbTransaction RolledBack
DEBUG [2011-04-06 08:25:03,523] - IDbTransaction disposed.
DEBUG [2011-04-06 08:25:03,525] - transaction completion
DEBUG [2011-04-06 08:25:03,526] - aggressively releasing database connection
DEBUG [2011-04-06 08:25:03,526] - Closing connection
DEBUG [2011-04-06 08:25:03,558] - [session-id=16d6ec49-3ef9-4f94-904a-bd622c0d104a] executing real Dispose(False)
DEBUG [2011-04-06 08:25:09,205] - [session-id=8f26fcac-7143-456a-9849-a48b710b48f8] opened session at timestamp: 634376751092, for session factory: [/72709289103f420dae702992646d4df1]
DEBUG [2011-04-06 08:25:10,156] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:25:10,464] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 08:25:10,483] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_0) -> chocolatie0_
DEBUG [2011-04-06 08:25:10,500] - Resolved :  <generated>_0 -> chocolatie0_.ID
DEBUG [2011-04-06 08:25:10,503] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 08:25:10,506] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-06 08:25:10,533] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-06 08:25:10,539] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 08:25:10,540] - throwQueryException() : no errors
DEBUG [2011-04-06 08:25:10,578] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:25:10,578] - throwQueryException() : no errors
DEBUG [2011-04-06 08:25:10,615] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:25:10,619] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:25:10,620] - named parameters: {}
DEBUG [2011-04-06 08:25:10,625] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:25:10,625] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:25:10,625] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:25:10,626] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:25:10,626] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:25:10,626] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:25:10,626] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:25:10,627] - processing result set
DEBUG [2011-04-06 08:25:10,628] - result set row: 0
DEBUG [2011-04-06 08:25:10,630] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:25:10,632] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:10,638] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:10,642] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:10,642] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:25:10,644] - done processing result set (1 rows)
DEBUG [2011-04-06 08:25:10,645] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:25:10,645] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:25:10,645] - DataReader was closed after 18 ms
DEBUG [2011-04-06 08:25:10,645] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:25:10,645] - aggressively releasing database connection
DEBUG [2011-04-06 08:25:10,645] - Closing connection
DEBUG [2011-04-06 08:25:10,645] - total objects hydrated: 1
DEBUG [2011-04-06 08:25:10,649] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:10,652] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:10,652] - initializing non-lazy collections
DEBUG [2011-04-06 08:25:10,654] - after autocommit
DEBUG [2011-04-06 08:25:10,655] - transaction completion
DEBUG [2011-04-06 08:25:10,655] - aggressively releasing database connection
DEBUG [2011-04-06 08:25:55,299] - [session-id=85d39845-fc32-43fd-a6ba-efc0ce780801] opened session at timestamp: 634376751552, for session factory: [/72709289103f420dae702992646d4df1]
DEBUG [2011-04-06 08:25:55,832] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:25:55,833] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 08:25:55,833] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_1) -> chocolateb0_
DEBUG [2011-04-06 08:25:55,833] - Resolved :  <generated>_1 -> chocolateb0_.ID
DEBUG [2011-04-06 08:25:55,833] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 08:25:55,833] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-06 08:25:55,833] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-06 08:25:55,833] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 08:25:55,833] - throwQueryException() : no errors
DEBUG [2011-04-06 08:25:55,834] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:25:55,834] - throwQueryException() : no errors
DEBUG [2011-04-06 08:25:55,834] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:25:55,834] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 08:25:55,834] - named parameters: {}
DEBUG [2011-04-06 08:25:55,834] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:25:55,834] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 08:25:55,835] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:25:55,835] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:25:55,835] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:25:55,835] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:25:55,835] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:25:55,835] - processing result set
DEBUG [2011-04-06 08:25:55,835] - done processing result set (0 rows)
DEBUG [2011-04-06 08:25:55,835] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:25:55,835] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:25:55,835] - DataReader was closed after 0 ms
DEBUG [2011-04-06 08:25:55,835] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:25:55,835] - aggressively releasing database connection
DEBUG [2011-04-06 08:25:55,836] - Closing connection
DEBUG [2011-04-06 08:25:55,836] - total objects hydrated: 0
DEBUG [2011-04-06 08:25:55,836] - initializing non-lazy collections
DEBUG [2011-04-06 08:25:55,836] - after autocommit
DEBUG [2011-04-06 08:25:55,836] - transaction completion
DEBUG [2011-04-06 08:25:55,836] - aggressively releasing database connection
DEBUG [2011-04-06 08:25:57,645] - [session-id=926e250f-d393-494c-ac84-25d728da7264] opened session at timestamp: 634376751576, for session factory: [/72709289103f420dae702992646d4df1]
DEBUG [2011-04-06 08:25:57,645] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:25:57,646] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:25:57,646] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:25:57,646] - named parameters: {}
DEBUG [2011-04-06 08:25:57,646] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:25:57,646] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:25:57,646] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:25:57,646] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:25:57,646] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:25:57,647] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:25:57,647] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:25:57,647] - processing result set
DEBUG [2011-04-06 08:25:57,647] - result set row: 0
DEBUG [2011-04-06 08:25:57,647] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:25:57,647] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:57,647] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:57,647] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:57,647] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:25:57,648] - done processing result set (1 rows)
DEBUG [2011-04-06 08:25:57,648] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:25:57,648] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:25:57,648] - DataReader was closed after 1 ms
DEBUG [2011-04-06 08:25:57,648] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:25:57,648] - aggressively releasing database connection
DEBUG [2011-04-06 08:25:57,648] - Closing connection
DEBUG [2011-04-06 08:25:57,648] - total objects hydrated: 1
DEBUG [2011-04-06 08:25:57,648] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:57,648] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:25:57,648] - initializing non-lazy collections
DEBUG [2011-04-06 08:25:57,648] - after autocommit
DEBUG [2011-04-06 08:25:57,648] - transaction completion
DEBUG [2011-04-06 08:25:57,648] - aggressively releasing database connection
DEBUG [2011-04-06 08:25:57,673] - [session-id=926e250f-d393-494c-ac84-25d728da7264] executing real Dispose(False)
DEBUG [2011-04-06 08:33:17,331] - [session-id=71df6aca-43d6-40b3-a3af-61b10dd75289] opened session at timestamp: 634376755973, for session factory: [/72709289103f420dae702992646d4df1]
DEBUG [2011-04-06 08:33:17,331] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:33:17,331] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:33:17,332] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:33:17,332] - named parameters: {}
DEBUG [2011-04-06 08:33:17,332] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:33:17,332] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:33:17,332] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:33:17,332] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:33:17,332] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:33:17,354] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:33:17,354] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:33:17,354] - processing result set
DEBUG [2011-04-06 08:33:17,354] - result set row: 0
DEBUG [2011-04-06 08:33:17,354] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:33:17,354] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:33:17,354] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:33:17,354] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:33:17,354] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:33:17,354] - done processing result set (1 rows)
DEBUG [2011-04-06 08:33:17,354] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:33:17,355] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:33:17,355] - DataReader was closed after 0 ms
DEBUG [2011-04-06 08:33:17,355] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:33:17,355] - aggressively releasing database connection
DEBUG [2011-04-06 08:33:17,355] - Closing connection
DEBUG [2011-04-06 08:33:17,355] - total objects hydrated: 1
DEBUG [2011-04-06 08:33:17,355] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:33:17,355] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:33:17,355] - initializing non-lazy collections
DEBUG [2011-04-06 08:33:17,355] - after autocommit
DEBUG [2011-04-06 08:33:17,355] - transaction completion
DEBUG [2011-04-06 08:33:17,355] - aggressively releasing database connection
DEBUG [2011-04-06 08:33:17,396] - [session-id=71df6aca-43d6-40b3-a3af-61b10dd75289] executing real Dispose(False)
DEBUG [2011-04-06 08:33:39,191] - [session-id=1c8d2dc4-53e9-49f7-a8c1-a60030f65421] opened session at timestamp: 634376756191, for session factory: [/72709289103f420dae702992646d4df1]
DEBUG [2011-04-06 08:33:39,198] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:33:39,198] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:33:39,198] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 08:33:39,198] - named parameters: {}
DEBUG [2011-04-06 08:33:39,198] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:33:39,198] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 08:33:39,198] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:33:39,198] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:33:39,198] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:33:39,200] - ExecuteReader took 1 ms
DEBUG [2011-04-06 08:33:39,200] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:33:39,200] - processing result set
DEBUG [2011-04-06 08:33:39,200] - done processing result set (0 rows)
DEBUG [2011-04-06 08:33:39,200] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:33:39,200] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:33:39,200] - DataReader was closed after 1 ms
DEBUG [2011-04-06 08:33:39,200] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:33:39,200] - aggressively releasing database connection
DEBUG [2011-04-06 08:33:39,200] - Closing connection
DEBUG [2011-04-06 08:33:39,200] - total objects hydrated: 0
DEBUG [2011-04-06 08:33:39,200] - initializing non-lazy collections
DEBUG [2011-04-06 08:33:39,200] - after autocommit
DEBUG [2011-04-06 08:33:39,200] - transaction completion
DEBUG [2011-04-06 08:33:39,200] - aggressively releasing database connection
DEBUG [2011-04-06 08:34:11,827] - [session-id=1c8d2dc4-53e9-49f7-a8c1-a60030f65421] executing real Dispose(False)
 INFO [2011-04-06 08:34:41,670] - Starting up
 INFO [2011-04-06 08:34:42,817] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 08:34:42,819] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 08:34:42,819] - Bytecode provider name : lcg
 INFO [2011-04-06 08:34:42,821] - Using reflection optimizer
DEBUG [2011-04-06 08:34:43,221] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 08:34:43,407] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:34:43,482] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 08:34:43,522] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:34:43,570] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 08:34:43,574] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:34:43,584] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:34:43,592] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:34:43,593] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:34:43,594] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 08:34:43,594] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:34:43,594] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:34:43,595] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:34:43,596] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:34:43,597] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 08:34:43,597] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:34:43,597] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 08:34:43,601] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:34:43,604] - Running hbm2ddl schema update
 INFO [2011-04-06 08:34:43,605] - fetching database metadata
 INFO [2011-04-06 08:34:43,606] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:34:43,607] - Configuring ConnectionProvider
DEBUG [2011-04-06 08:34:43,609] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 08:34:43,679] - updating schema
 INFO [2011-04-06 08:34:43,688] - checking mappings queue
 INFO [2011-04-06 08:34:43,688] - processing one-to-many association mappings
DEBUG [2011-04-06 08:34:43,689] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 08:34:43,690] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 08:34:43,698] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 08:34:43,698] - processing one-to-one association property references
 INFO [2011-04-06 08:34:43,698] - processing foreign key constraints
DEBUG [2011-04-06 08:34:43,700] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:34:43,702] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:34:43,702] - processing filters (second pass)
 INFO [2011-04-06 08:34:43,737] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-06 08:34:43,738] - columns: id, name, chocolatierid
 INFO [2011-04-06 08:34:43,739] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-06 08:34:43,739] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-06 08:34:43,762] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-06 08:34:43,762] - columns: id, name
 INFO [2011-04-06 08:34:43,762] - foreign keys: 
 INFO [2011-04-06 08:34:43,762] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-06 08:34:43,772] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-06 08:34:43,772] - columns: id, name, chocolatebar_id
 INFO [2011-04-06 08:34:43,772] - foreign keys: fk1328745f39440519
 INFO [2011-04-06 08:34:43,772] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-06 08:34:43,793] - schema update complete
DEBUG [2011-04-06 08:34:43,793] - Closing connection
 INFO [2011-04-06 08:34:43,807] - checking mappings queue
 INFO [2011-04-06 08:34:43,807] - processing one-to-many association mappings
 INFO [2011-04-06 08:34:43,807] - processing one-to-one association property references
 INFO [2011-04-06 08:34:43,807] - processing foreign key constraints
DEBUG [2011-04-06 08:34:43,807] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:34:43,807] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:34:43,807] - processing filters (second pass)
 INFO [2011-04-06 08:34:43,847] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:34:43,895] - Using dialect defined converter
 INFO [2011-04-06 08:34:43,895] - Generate SQL with comments: disabled
 INFO [2011-04-06 08:34:43,895] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:34:43,895] - Configuring ConnectionProvider
 INFO [2011-04-06 08:34:43,896] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 08:34:43,898] - Optimize cache for minimal puts: False
 INFO [2011-04-06 08:34:43,898] - Connection release mode: auto
 INFO [2011-04-06 08:34:43,898] - Default batch fetch size: 1
 INFO [2011-04-06 08:34:43,898] - Statistics: disabled
 INFO [2011-04-06 08:34:43,898] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 08:34:43,899] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 08:34:43,903] - Query language substitutions: {}
 INFO [2011-04-06 08:34:43,904] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 08:34:43,906] - Wrap result sets: disabled
 INFO [2011-04-06 08:34:43,908] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 08:34:43,909] - Default entity-mode: Poco
 INFO [2011-04-06 08:34:43,910] - Named query checking : enabled
 INFO [2011-04-06 08:34:43,956] - building session factory
DEBUG [2011-04-06 08:34:43,958] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 08:34:43,959] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=localhost\sql2008r2;Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 08:34:43,960] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:34:43,963] - Closing connection
DEBUG [2011-04-06 08:34:44,072] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:34:44,078] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:34:44,098] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:34:44,136] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:34:44,136] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:34:44,137] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:34:44,137] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:34:44,138] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:34:44,138] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:34:44,183] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:34:44,184] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:34:44,184] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-06 08:34:44,184] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 08:34:44,235] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:34:44,235] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:34:44,235] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-06 08:34:44,235] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-06 08:34:44,235] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 08:34:44,235] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:34:44,236] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:34:44,281] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:34:44,282] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:34:44,282] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:34:44,282] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:34:44,282] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:34:44,284] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:34:44,284] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:34:44,285] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:34:44,285] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:34:44,285] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-06 08:34:44,285] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:34:44,285] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:34:44,285] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:34:44,285] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:34:44,285] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:34:44,285] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:34:44,285] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:34:44,285] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:34:44,285] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:34:44,285] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:34:44,285] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:34:44,286] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:34:44,286] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:34:44,286] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-06 08:34:44,286] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:34:44,286] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:34:44,286] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:34:44,286] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:34:44,286] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:34:44,286] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:34:44,286] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:34:44,286] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:34:44,286] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:34:44,286] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:34:44,291] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:34:44,303] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 08:34:44,304] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-06 08:34:44,305] - registered: e2c21454ad8041b597f17dc90a0647dd(unnamed)
 INFO [2011-04-06 08:34:44,305] - no name configured
DEBUG [2011-04-06 08:34:44,305] - Instantiated session factory
DEBUG [2011-04-06 08:34:44,311] - Checking 0 named HQL queries
DEBUG [2011-04-06 08:34:44,311] - Checking 0 named SQL queries
DEBUG [2011-04-06 08:34:44,333] - [session-id=9d000872-f5b1-4572-b955-2c7d5563862f] opened session at timestamp: 634376756843, for session factory: [/e2c21454ad8041b597f17dc90a0647dd]
DEBUG [2011-04-06 08:34:44,401] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:34:44,842] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 08:34:44,861] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-06 08:34:44,878] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-06 08:34:44,881] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 08:34:44,884] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-06 08:34:44,912] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-06 08:34:44,918] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 08:34:44,920] - throwQueryException() : no errors
DEBUG [2011-04-06 08:34:44,958] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:34:44,958] - throwQueryException() : no errors
DEBUG [2011-04-06 08:34:44,997] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:34:45,002] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 08:34:45,003] - named parameters: {}
DEBUG [2011-04-06 08:34:45,034] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:34:45,034] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 08:34:45,040] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:34:45,043] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:34:45,045] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:34:45,046] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:34:45,047] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:34:45,049] - processing result set
DEBUG [2011-04-06 08:34:45,049] - done processing result set (0 rows)
DEBUG [2011-04-06 08:34:45,050] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:34:45,051] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:34:45,051] - DataReader was closed after 5 ms
DEBUG [2011-04-06 08:34:45,051] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:34:45,053] - aggressively releasing database connection
DEBUG [2011-04-06 08:34:45,053] - Closing connection
DEBUG [2011-04-06 08:34:45,054] - total objects hydrated: 0
DEBUG [2011-04-06 08:34:45,055] - initializing non-lazy collections
DEBUG [2011-04-06 08:34:45,059] - after autocommit
DEBUG [2011-04-06 08:34:45,059] - transaction completion
DEBUG [2011-04-06 08:34:45,060] - aggressively releasing database connection
DEBUG [2011-04-06 08:34:48,155] - [session-id=dad24afd-a513-43fa-b69c-67d69740b349] opened session at timestamp: 634376756881, for session factory: [/e2c21454ad8041b597f17dc90a0647dd]
DEBUG [2011-04-06 08:34:48,156] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:34:48,157] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 08:34:48,157] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_1) -> chocolatie0_
DEBUG [2011-04-06 08:34:48,158] - Resolved :  <generated>_1 -> chocolatie0_.ID
DEBUG [2011-04-06 08:34:48,158] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 08:34:48,158] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-06 08:34:48,158] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-06 08:34:48,158] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 08:34:48,158] - throwQueryException() : no errors
DEBUG [2011-04-06 08:34:48,158] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:34:48,158] - throwQueryException() : no errors
DEBUG [2011-04-06 08:34:48,158] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:34:48,158] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:34:48,158] - named parameters: {}
DEBUG [2011-04-06 08:34:48,159] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:34:48,159] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:34:48,159] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:34:48,159] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:34:48,159] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:34:48,169] - ExecuteReader took 9 ms
DEBUG [2011-04-06 08:34:48,169] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:34:48,169] - processing result set
DEBUG [2011-04-06 08:34:48,169] - result set row: 0
DEBUG [2011-04-06 08:34:48,172] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:34:48,180] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:34:48,187] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:34:48,195] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:34:48,196] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:34:48,199] - done processing result set (1 rows)
DEBUG [2011-04-06 08:34:48,199] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:34:48,199] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:34:48,199] - DataReader was closed after 39 ms
DEBUG [2011-04-06 08:34:48,199] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:34:48,199] - aggressively releasing database connection
DEBUG [2011-04-06 08:34:48,199] - Closing connection
DEBUG [2011-04-06 08:34:48,199] - total objects hydrated: 1
DEBUG [2011-04-06 08:34:48,204] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:34:48,210] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:34:48,210] - initializing non-lazy collections
DEBUG [2011-04-06 08:34:48,210] - after autocommit
DEBUG [2011-04-06 08:34:48,210] - transaction completion
DEBUG [2011-04-06 08:34:48,210] - aggressively releasing database connection
DEBUG [2011-04-06 08:35:51,730] - [session-id=14dfd149-7b2b-4e58-80ea-da07f4045df7] opened session at timestamp: 634376757517, for session factory: [/e2c21454ad8041b597f17dc90a0647dd]
DEBUG [2011-04-06 08:35:51,730] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:35:51,730] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:35:51,730] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:35:51,730] - named parameters: {}
DEBUG [2011-04-06 08:35:51,730] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:35:51,730] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:35:51,730] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:35:51,730] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:35:51,730] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:35:51,743] - ExecuteReader took 12 ms
DEBUG [2011-04-06 08:35:51,743] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:35:51,743] - processing result set
DEBUG [2011-04-06 08:35:51,743] - result set row: 0
DEBUG [2011-04-06 08:35:51,743] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:35:51,743] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:35:51,744] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:35:51,744] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:35:51,744] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:35:51,744] - done processing result set (1 rows)
DEBUG [2011-04-06 08:35:51,744] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:35:51,744] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:35:51,744] - DataReader was closed after 13 ms
DEBUG [2011-04-06 08:35:51,744] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:35:51,744] - aggressively releasing database connection
DEBUG [2011-04-06 08:35:51,744] - Closing connection
DEBUG [2011-04-06 08:35:51,744] - total objects hydrated: 1
DEBUG [2011-04-06 08:35:51,744] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:35:51,744] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:35:51,744] - initializing non-lazy collections
DEBUG [2011-04-06 08:35:51,744] - after autocommit
DEBUG [2011-04-06 08:35:51,744] - transaction completion
DEBUG [2011-04-06 08:35:51,744] - aggressively releasing database connection
DEBUG [2011-04-06 08:35:52,491] - [session-id=14dfd149-7b2b-4e58-80ea-da07f4045df7] executing real Dispose(False)
DEBUG [2011-04-06 08:36:07,404] - [session-id=97b3ea03-b9e4-4815-a004-f06dfab281a4] opened session at timestamp: 634376757674, for session factory: [/e2c21454ad8041b597f17dc90a0647dd]
DEBUG [2011-04-06 08:36:07,404] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:36:07,404] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:36:07,404] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:36:07,404] - named parameters: {}
DEBUG [2011-04-06 08:36:07,405] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:36:07,405] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:36:07,405] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:36:07,405] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:36:07,405] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:36:07,405] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:36:07,405] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:36:07,405] - processing result set
DEBUG [2011-04-06 08:36:07,405] - result set row: 0
DEBUG [2011-04-06 08:36:07,405] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:36:07,405] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,406] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,406] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,406] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:36:07,406] - done processing result set (1 rows)
DEBUG [2011-04-06 08:36:07,406] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:36:07,406] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:36:07,406] - DataReader was closed after 1 ms
DEBUG [2011-04-06 08:36:07,406] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:36:07,406] - aggressively releasing database connection
DEBUG [2011-04-06 08:36:07,406] - Closing connection
DEBUG [2011-04-06 08:36:07,406] - total objects hydrated: 1
DEBUG [2011-04-06 08:36:07,406] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,406] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,406] - initializing non-lazy collections
DEBUG [2011-04-06 08:36:07,406] - after autocommit
DEBUG [2011-04-06 08:36:07,406] - transaction completion
DEBUG [2011-04-06 08:36:07,406] - aggressively releasing database connection
DEBUG [2011-04-06 08:36:07,419] - [session-id=97b3ea03-b9e4-4815-a004-f06dfab281a4] executing real Dispose(False)
DEBUG [2011-04-06 08:36:07,490] - [session-id=d0661fdb-8c9b-4646-aa2f-3cf6f8205909] opened session at timestamp: 634376757674, for session factory: [/e2c21454ad8041b597f17dc90a0647dd]
DEBUG [2011-04-06 08:36:07,490] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:36:07,490] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 08:36:07,490] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 08:36:07,490] - named parameters: {}
DEBUG [2011-04-06 08:36:07,490] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:36:07,490] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 08:36:07,490] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:36:07,490] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 08:36:07,490] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:36:07,491] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:36:07,491] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:36:07,491] - processing result set
DEBUG [2011-04-06 08:36:07,491] - result set row: 0
DEBUG [2011-04-06 08:36:07,491] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:36:07,491] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,491] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,491] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,491] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 08:36:07,491] - done processing result set (1 rows)
DEBUG [2011-04-06 08:36:07,491] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:36:07,491] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:36:07,491] - DataReader was closed after 0 ms
DEBUG [2011-04-06 08:36:07,491] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:36:07,491] - aggressively releasing database connection
DEBUG [2011-04-06 08:36:07,491] - Closing connection
DEBUG [2011-04-06 08:36:07,491] - total objects hydrated: 1
DEBUG [2011-04-06 08:36:07,491] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,491] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:36:07,491] - initializing non-lazy collections
DEBUG [2011-04-06 08:36:07,491] - after autocommit
DEBUG [2011-04-06 08:36:07,492] - transaction completion
DEBUG [2011-04-06 08:36:07,492] - aggressively releasing database connection
DEBUG [2011-04-06 08:36:08,075] - [session-id=d0661fdb-8c9b-4646-aa2f-3cf6f8205909] executing real Dispose(False)
 INFO [2011-04-06 08:39:40,701] - Starting up
 INFO [2011-04-06 08:39:42,197] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 08:39:42,199] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 08:39:42,199] - Bytecode provider name : lcg
 INFO [2011-04-06 08:39:42,200] - Using reflection optimizer
DEBUG [2011-04-06 08:39:42,642] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 08:39:42,797] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:39:42,852] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 08:39:42,888] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:39:42,933] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 08:39:42,937] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:39:42,946] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:39:42,955] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:39:42,956] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:39:42,957] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 08:39:42,957] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:39:42,957] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:39:42,959] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:39:42,959] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:39:42,960] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 08:39:42,960] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:39:42,960] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 08:39:42,964] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:39:42,967] - Running hbm2ddl schema update
 INFO [2011-04-06 08:39:42,967] - fetching database metadata
 INFO [2011-04-06 08:39:42,968] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:39:42,969] - Configuring ConnectionProvider
DEBUG [2011-04-06 08:39:42,971] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 08:39:42,991] - updating schema
 INFO [2011-04-06 08:39:42,999] - checking mappings queue
 INFO [2011-04-06 08:39:42,999] - processing one-to-many association mappings
DEBUG [2011-04-06 08:39:43,000] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 08:39:43,001] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 08:39:43,006] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 08:39:43,006] - processing one-to-one association property references
 INFO [2011-04-06 08:39:43,006] - processing foreign key constraints
DEBUG [2011-04-06 08:39:43,009] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:39:43,011] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:39:43,011] - processing filters (second pass)
 INFO [2011-04-06 08:39:43,042] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-06 08:39:43,043] - columns: id, name, chocolatierid
 INFO [2011-04-06 08:39:43,043] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-06 08:39:43,043] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-06 08:39:43,059] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-06 08:39:43,059] - columns: id, name
 INFO [2011-04-06 08:39:43,059] - foreign keys: 
 INFO [2011-04-06 08:39:43,059] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-06 08:39:43,066] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-06 08:39:43,066] - columns: id, name, chocolatebar_id
 INFO [2011-04-06 08:39:43,066] - foreign keys: fk1328745f39440519
 INFO [2011-04-06 08:39:43,066] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-06 08:39:43,086] - schema update complete
DEBUG [2011-04-06 08:39:43,087] - Closing connection
 INFO [2011-04-06 08:39:43,089] - checking mappings queue
 INFO [2011-04-06 08:39:43,089] - processing one-to-many association mappings
 INFO [2011-04-06 08:39:43,089] - processing one-to-one association property references
 INFO [2011-04-06 08:39:43,089] - processing foreign key constraints
DEBUG [2011-04-06 08:39:43,089] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:39:43,089] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:39:43,089] - processing filters (second pass)
 INFO [2011-04-06 08:39:43,121] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:39:43,151] - Using dialect defined converter
 INFO [2011-04-06 08:39:43,152] - Generate SQL with comments: disabled
 INFO [2011-04-06 08:39:43,152] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:39:43,152] - Configuring ConnectionProvider
 INFO [2011-04-06 08:39:43,153] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 08:39:43,153] - Optimize cache for minimal puts: False
 INFO [2011-04-06 08:39:43,153] - Connection release mode: auto
 INFO [2011-04-06 08:39:43,153] - Default batch fetch size: 1
 INFO [2011-04-06 08:39:43,153] - Statistics: disabled
 INFO [2011-04-06 08:39:43,153] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 08:39:43,154] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 08:39:43,156] - Query language substitutions: {}
 INFO [2011-04-06 08:39:43,157] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 08:39:43,157] - Wrap result sets: disabled
 INFO [2011-04-06 08:39:43,158] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 08:39:43,158] - Default entity-mode: Poco
 INFO [2011-04-06 08:39:43,158] - Named query checking : enabled
 INFO [2011-04-06 08:39:43,182] - building session factory
DEBUG [2011-04-06 08:39:43,183] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 08:39:43,184] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=localhost\sql2008r2;Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 08:39:43,185] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:39:43,188] - Closing connection
DEBUG [2011-04-06 08:39:43,264] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:39:43,269] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:39:43,284] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:39:43,319] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:39:43,319] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:39:43,320] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:39:43,322] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:39:43,322] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:39:43,322] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:39:43,357] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:39:43,358] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:39:43,358] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-06 08:39:43,358] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 08:39:43,408] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:39:43,408] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:39:43,408] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-06 08:39:43,409] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-06 08:39:43,409] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 08:39:43,409] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:39:43,409] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:39:43,450] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:39:43,451] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:39:43,451] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:39:43,451] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:39:43,451] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:39:43,452] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:39:43,453] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:39:43,453] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:39:43,453] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:39:43,453] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-06 08:39:43,454] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:39:43,454] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:39:43,454] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:39:43,454] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:39:43,454] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:39:43,454] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-06 08:39:43,454] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:39:43,454] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:39:43,454] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:39:43,454] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:39:43,454] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:39:43,466] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 08:39:43,467] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-06 08:39:43,467] - registered: 09ba9b29f5234248aeccf14f6701c324(unnamed)
 INFO [2011-04-06 08:39:43,468] - no name configured
DEBUG [2011-04-06 08:39:43,468] - Instantiated session factory
DEBUG [2011-04-06 08:39:43,473] - Checking 0 named HQL queries
DEBUG [2011-04-06 08:39:43,473] - Checking 0 named SQL queries
DEBUG [2011-04-06 08:39:43,487] - [session-id=16208ed6-b357-4934-a9cd-7d1dfdbae9ed] opened session at timestamp: 634376759834, for session factory: [/09ba9b29f5234248aeccf14f6701c324]
DEBUG [2011-04-06 08:39:43,493] - Begin (Unspecified)
DEBUG [2011-04-06 08:39:43,493] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:39:43,502] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:39:43,503] - creating new proxy for entity
DEBUG [2011-04-06 08:39:43,702] - unsaved-value: 0
DEBUG [2011-04-06 08:39:43,702] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:39:43,704] - saving transient instance
DEBUG [2011-04-06 08:39:43,708] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-06 08:39:43,714] - executing insertions
DEBUG [2011-04-06 08:39:43,723] - Wrapped collection in role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:39:43,729] - executing identity-insert immediately
DEBUG [2011-04-06 08:39:43,731] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-06 08:39:43,742] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:39:43,742] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:39:43,743] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-06 08:39:43,745] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-06 08:39:43,747] - binding '1' to parameter: 1
DEBUG [2011-04-06 08:39:43,751] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 08:39:43,752] - Enlist Command
DEBUG [2011-04-06 08:39:43,757] - ExecuteReader took 4 ms
DEBUG [2011-04-06 08:39:43,758] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:39:43,760] - returning '1' as column: 
DEBUG [2011-04-06 08:39:43,760] - Natively generated identity: 1
DEBUG [2011-04-06 08:39:43,761] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:39:43,762] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:39:43,762] - DataReader was closed after 9 ms
DEBUG [2011-04-06 08:39:43,763] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:39:43,770] - Start Commit
DEBUG [2011-04-06 08:39:43,773] - flushing session
DEBUG [2011-04-06 08:39:43,774] - processing flush-time cascades
DEBUG [2011-04-06 08:39:43,776] - dirty checking collections
DEBUG [2011-04-06 08:39:43,779] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 08:39:43,791] - Collection found: [nhibernate_demo.Models.ChocolateBar.Features#1], was: [<unreferenced>] (initialized)
DEBUG [2011-04-06 08:39:43,795] - Processing unreferenced collections
DEBUG [2011-04-06 08:39:43,795] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 08:39:43,796] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-06 08:39:43,796] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections
DEBUG [2011-04-06 08:39:43,796] - listing entities:
DEBUG [2011-04-06 08:39:43,805] - nhibernate_demo.Models.ChocolateBar{'ID'='1', 'Features'='['nhibernate_demo.Models.Feature#0', 'nhibernate_demo.Models.Feature#0']', 'Name'='Mr. Big', 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-06 08:39:43,805] - executing flush
DEBUG [2011-04-06 08:39:43,805] - registering flush begin
DEBUG [2011-04-06 08:39:43,810] - Inserting collection: [nhibernate_demo.Models.ChocolateBar.Features#1]
DEBUG [2011-04-06 08:39:43,813] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:39:43,813] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:39:43,814] - binding '1' to parameter: 0
DEBUG [2011-04-06 08:39:43,814] - unsaved-value: 0
DEBUG [2011-04-06 08:39:43,815] - Closed IDbCommand, open IDbCommands: 0
ERROR [2011-04-06 08:39:43,816] - Could not synchronize database state with session
NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing. Type: nhibernate_demo.Models.Feature, Entity: nhibernate_demo.Models.Feature
   at NHibernate.Engine.ForeignKeys.GetEntityIdentifierIfNotUnsaved(String entityName, Object entity, ISessionImplementor session)
   at NHibernate.Type.EntityType.GetIdentifier(Object value, ISessionImplementor session)
   at NHibernate.Type.ManyToOneType.NullSafeSet(IDbCommand st, Object value, Int32 index, Boolean[] settable, ISessionImplementor session)
   at NHibernate.Persister.Collection.AbstractCollectionPersister.WriteElement(IDbCommand st, Object elt, Int32 i, ISessionImplementor session)
   at NHibernate.Persister.Collection.AbstractCollectionPersister.PerformInsert(Object ownerId, IPersistentCollection collection, IExpectation expectation, Object entry, Int32 index, Boolean useBatch, Boolean callable, ISessionImplementor session)
   at NHibernate.Persister.Collection.AbstractCollectionPersister.Recreate(IPersistentCollection collection, Object id, ISessionImplementor session)
   at NHibernate.Action.CollectionRecreateAction.Execute()
   at NHibernate.Engine.ActionQueue.Execute(IExecutable executable)
   at NHibernate.Engine.ActionQueue.ExecuteActions(IList list)
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)
DEBUG [2011-04-06 08:39:43,819] - registering flush end
DEBUG [2011-04-06 08:39:43,819] - Rollback
DEBUG [2011-04-06 08:39:43,820] - IDbTransaction RolledBack
DEBUG [2011-04-06 08:39:43,821] - IDbTransaction disposed.
DEBUG [2011-04-06 08:39:43,822] - transaction completion
DEBUG [2011-04-06 08:39:43,822] - aggressively releasing database connection
DEBUG [2011-04-06 08:39:43,822] - Closing connection
DEBUG [2011-04-06 08:39:43,840] - [session-id=72c34c03-fe86-4849-9c2d-224434580508] opened session at timestamp: 634376759838, for session factory: [/09ba9b29f5234248aeccf14f6701c324]
DEBUG [2011-04-06 08:39:45,080] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:39:45,416] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 08:39:45,437] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-06 08:39:45,454] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-06 08:39:45,458] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 08:39:45,461] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-06 08:39:45,490] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-06 08:39:45,497] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 08:39:45,498] - throwQueryException() : no errors
DEBUG [2011-04-06 08:39:45,539] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:39:45,539] - throwQueryException() : no errors
DEBUG [2011-04-06 08:39:45,579] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:39:45,584] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 08:39:45,585] - named parameters: {}
DEBUG [2011-04-06 08:39:45,618] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:39:45,618] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 08:39:45,624] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:39:45,624] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:39:45,624] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:39:45,625] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:39:45,625] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:39:45,627] - processing result set
DEBUG [2011-04-06 08:39:45,627] - done processing result set (0 rows)
DEBUG [2011-04-06 08:39:45,627] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:39:45,627] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:39:45,627] - DataReader was closed after 2 ms
DEBUG [2011-04-06 08:39:45,627] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:39:45,627] - aggressively releasing database connection
DEBUG [2011-04-06 08:39:45,627] - Closing connection
DEBUG [2011-04-06 08:39:45,628] - total objects hydrated: 0
DEBUG [2011-04-06 08:39:45,629] - initializing non-lazy collections
DEBUG [2011-04-06 08:39:45,631] - after autocommit
DEBUG [2011-04-06 08:39:45,631] - transaction completion
DEBUG [2011-04-06 08:39:45,631] - aggressively releasing database connection
DEBUG [2011-04-06 08:40:32,721] - [session-id=e1fb68d9-06ae-405d-b26a-d62d63820dcb] opened session at timestamp: 634376760327, for session factory: [/09ba9b29f5234248aeccf14f6701c324]
DEBUG [2011-04-06 08:40:32,721] - Begin (Unspecified)
DEBUG [2011-04-06 08:40:32,721] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:40:32,722] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:40:32,722] - creating new proxy for entity
DEBUG [2011-04-06 08:40:32,723] - unsaved-value: 0
DEBUG [2011-04-06 08:40:32,723] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:40:32,723] - saving transient instance
DEBUG [2011-04-06 08:40:32,723] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-06 08:40:32,723] - executing insertions
DEBUG [2011-04-06 08:40:32,723] - Wrapped collection in role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:40:32,724] - executing identity-insert immediately
DEBUG [2011-04-06 08:40:32,724] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-06 08:40:32,724] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:40:32,724] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:40:32,724] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-06 08:40:32,724] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-06 08:40:32,724] - binding '1' to parameter: 1
DEBUG [2011-04-06 08:40:32,724] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 08:40:32,724] - Enlist Command
DEBUG [2011-04-06 08:40:32,725] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:40:32,725] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:40:32,725] - returning '2' as column: 
DEBUG [2011-04-06 08:40:32,725] - Natively generated identity: 2
DEBUG [2011-04-06 08:40:32,725] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:40:32,726] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:40:32,726] - DataReader was closed after 1 ms
DEBUG [2011-04-06 08:40:32,726] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:40:32,726] - Start Commit
DEBUG [2011-04-06 08:40:32,726] - flushing session
DEBUG [2011-04-06 08:40:32,726] - processing flush-time cascades
DEBUG [2011-04-06 08:40:32,726] - dirty checking collections
DEBUG [2011-04-06 08:40:32,726] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 08:40:32,726] - Collection found: [nhibernate_demo.Models.ChocolateBar.Features#2], was: [<unreferenced>] (initialized)
DEBUG [2011-04-06 08:40:32,726] - Processing unreferenced collections
DEBUG [2011-04-06 08:40:32,726] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 08:40:32,726] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-06 08:40:32,726] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections
DEBUG [2011-04-06 08:40:32,726] - listing entities:
DEBUG [2011-04-06 08:40:32,727] - nhibernate_demo.Models.ChocolateBar{'ID'='2', 'Features'='['nhibernate_demo.Models.Feature#0', 'nhibernate_demo.Models.Feature#0']', 'Name'='Mr. Big', 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-06 08:40:32,727] - executing flush
DEBUG [2011-04-06 08:40:32,727] - registering flush begin
DEBUG [2011-04-06 08:40:32,727] - Inserting collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-06 08:40:32,727] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:40:32,727] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:40:32,727] - binding '2' to parameter: 0
DEBUG [2011-04-06 08:40:32,727] - unsaved-value: 0
DEBUG [2011-04-06 08:40:32,770] - Closed IDbCommand, open IDbCommands: 0
ERROR [2011-04-06 08:40:32,796] - Could not synchronize database state with session
NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing. Type: nhibernate_demo.Models.Feature, Entity: nhibernate_demo.Models.Feature
   at NHibernate.Engine.ForeignKeys.GetEntityIdentifierIfNotUnsaved(String entityName, Object entity, ISessionImplementor session)
   at NHibernate.Type.EntityType.GetIdentifier(Object value, ISessionImplementor session)
   at NHibernate.Type.ManyToOneType.NullSafeSet(IDbCommand st, Object value, Int32 index, Boolean[] settable, ISessionImplementor session)
   at NHibernate.Persister.Collection.AbstractCollectionPersister.WriteElement(IDbCommand st, Object elt, Int32 i, ISessionImplementor session)
   at NHibernate.Persister.Collection.AbstractCollectionPersister.PerformInsert(Object ownerId, IPersistentCollection collection, IExpectation expectation, Object entry, Int32 index, Boolean useBatch, Boolean callable, ISessionImplementor session)
   at NHibernate.Persister.Collection.AbstractCollectionPersister.Recreate(IPersistentCollection collection, Object id, ISessionImplementor session)
   at NHibernate.Action.CollectionRecreateAction.Execute()
   at NHibernate.Engine.ActionQueue.Execute(IExecutable executable)
   at NHibernate.Engine.ActionQueue.ExecuteActions(IList list)
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)
DEBUG [2011-04-06 08:40:32,839] - registering flush end
DEBUG [2011-04-06 08:40:32,839] - Rollback
DEBUG [2011-04-06 08:40:32,839] - IDbTransaction RolledBack
DEBUG [2011-04-06 08:40:32,839] - IDbTransaction disposed.
DEBUG [2011-04-06 08:40:32,839] - transaction completion
DEBUG [2011-04-06 08:40:32,839] - aggressively releasing database connection
DEBUG [2011-04-06 08:40:32,839] - Closing connection
DEBUG [2011-04-06 08:40:32,851] - [session-id=2f7f2b43-4c93-4a0e-804f-d0bf2cae580f] opened session at timestamp: 634376760328, for session factory: [/09ba9b29f5234248aeccf14f6701c324]
DEBUG [2011-04-06 08:40:32,852] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:40:32,853] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:40:32,853] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 08:40:32,853] - named parameters: {}
DEBUG [2011-04-06 08:40:32,853] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:40:32,853] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 08:40:32,853] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:40:32,853] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:40:32,853] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:40:32,853] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:40:32,854] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:40:32,854] - processing result set
DEBUG [2011-04-06 08:40:32,854] - done processing result set (0 rows)
DEBUG [2011-04-06 08:40:32,854] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:40:32,854] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:40:32,854] - DataReader was closed after 0 ms
DEBUG [2011-04-06 08:40:32,854] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:40:32,854] - aggressively releasing database connection
DEBUG [2011-04-06 08:40:32,854] - Closing connection
DEBUG [2011-04-06 08:40:32,854] - total objects hydrated: 0
DEBUG [2011-04-06 08:40:32,854] - initializing non-lazy collections
DEBUG [2011-04-06 08:40:32,854] - after autocommit
DEBUG [2011-04-06 08:40:32,854] - transaction completion
DEBUG [2011-04-06 08:40:32,854] - aggressively releasing database connection
DEBUG [2011-04-06 08:40:49,740] - [session-id=098fe783-f494-4a2d-acc0-453d196e52a3] opened session at timestamp: 634376760497, for session factory: [/09ba9b29f5234248aeccf14f6701c324]
DEBUG [2011-04-06 08:41:07,259] - Begin (Unspecified)
DEBUG [2011-04-06 08:41:07,259] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:41:13,627] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:41:13,627] - creating new proxy for entity
DEBUG [2011-04-06 08:41:16,714] - unsaved-value: 0
DEBUG [2011-04-06 08:41:16,714] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:41:16,714] - saving transient instance
DEBUG [2011-04-06 08:41:16,715] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-06 08:41:16,715] - executing insertions
DEBUG [2011-04-06 08:41:16,715] - Wrapped collection in role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:41:16,715] - executing identity-insert immediately
DEBUG [2011-04-06 08:41:16,715] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-06 08:41:16,715] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:41:16,715] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:41:16,715] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-06 08:41:16,715] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-06 08:41:16,715] - binding '1' to parameter: 1
DEBUG [2011-04-06 08:41:16,715] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 08:41:16,715] - Enlist Command
DEBUG [2011-04-06 08:41:16,715] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:41:16,716] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:41:16,716] - returning '3' as column: 
DEBUG [2011-04-06 08:41:16,716] - Natively generated identity: 3
DEBUG [2011-04-06 08:41:16,716] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:41:16,716] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:41:16,716] - DataReader was closed after 0 ms
DEBUG [2011-04-06 08:41:16,716] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:41:17,586] - Start Commit
DEBUG [2011-04-06 08:41:17,586] - flushing session
DEBUG [2011-04-06 08:41:17,586] - processing flush-time cascades
DEBUG [2011-04-06 08:41:17,586] - dirty checking collections
DEBUG [2011-04-06 08:41:17,586] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 08:41:17,586] - Collection found: [nhibernate_demo.Models.ChocolateBar.Features#3], was: [<unreferenced>] (initialized)
DEBUG [2011-04-06 08:41:17,586] - Processing unreferenced collections
DEBUG [2011-04-06 08:41:17,586] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 08:41:17,586] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-06 08:41:17,586] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections
DEBUG [2011-04-06 08:41:17,586] - listing entities:
DEBUG [2011-04-06 08:41:17,587] - nhibernate_demo.Models.ChocolateBar{'ID'='3', 'Features'='['nhibernate_demo.Models.Feature#0', 'nhibernate_demo.Models.Feature#0']', 'Name'='Mr. Big', 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-06 08:41:17,587] - executing flush
DEBUG [2011-04-06 08:41:17,587] - registering flush begin
DEBUG [2011-04-06 08:41:17,587] - Inserting collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-06 08:41:17,587] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:41:17,587] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:41:17,587] - binding '3' to parameter: 0
DEBUG [2011-04-06 08:41:17,587] - unsaved-value: 0
DEBUG [2011-04-06 08:41:17,619] - Closed IDbCommand, open IDbCommands: 0
ERROR [2011-04-06 08:41:17,644] - Could not synchronize database state with session
NHibernate.TransientObjectException: object references an unsaved transient instance - save the transient instance before flushing. Type: nhibernate_demo.Models.Feature, Entity: nhibernate_demo.Models.Feature
   at NHibernate.Engine.ForeignKeys.GetEntityIdentifierIfNotUnsaved(String entityName, Object entity, ISessionImplementor session)
   at NHibernate.Type.EntityType.GetIdentifier(Object value, ISessionImplementor session)
   at NHibernate.Type.ManyToOneType.NullSafeSet(IDbCommand st, Object value, Int32 index, Boolean[] settable, ISessionImplementor session)
   at NHibernate.Persister.Collection.AbstractCollectionPersister.WriteElement(IDbCommand st, Object elt, Int32 i, ISessionImplementor session)
   at NHibernate.Persister.Collection.AbstractCollectionPersister.PerformInsert(Object ownerId, IPersistentCollection collection, IExpectation expectation, Object entry, Int32 index, Boolean useBatch, Boolean callable, ISessionImplementor session)
   at NHibernate.Persister.Collection.AbstractCollectionPersister.Recreate(IPersistentCollection collection, Object id, ISessionImplementor session)
   at NHibernate.Action.CollectionRecreateAction.Execute()
   at NHibernate.Engine.ActionQueue.Execute(IExecutable executable)
   at NHibernate.Engine.ActionQueue.ExecuteActions(IList list)
   at NHibernate.Engine.ActionQueue.ExecuteActions()
   at NHibernate.Event.Default.AbstractFlushingEventListener.PerformExecutions(IEventSource session)
DEBUG [2011-04-06 08:41:17,675] - [session-id=e1fb68d9-06ae-405d-b26a-d62d63820dcb] executing real Dispose(False)
DEBUG [2011-04-06 08:41:17,676] - [session-id=2f7f2b43-4c93-4a0e-804f-d0bf2cae580f] executing real Dispose(False)
DEBUG [2011-04-06 08:41:17,676] - [session-id=16208ed6-b357-4934-a9cd-7d1dfdbae9ed] executing real Dispose(False)
DEBUG [2011-04-06 08:41:17,707] - registering flush end
DEBUG [2011-04-06 08:41:28,012] - Rollback
DEBUG [2011-04-06 08:41:28,012] - IDbTransaction RolledBack
DEBUG [2011-04-06 08:41:28,012] - IDbTransaction disposed.
DEBUG [2011-04-06 08:41:28,012] - transaction completion
DEBUG [2011-04-06 08:41:28,013] - aggressively releasing database connection
DEBUG [2011-04-06 08:41:28,013] - Closing connection
DEBUG [2011-04-06 08:41:28,035] - [session-id=609cb874-06ba-45aa-ac75-001bf55eb547] opened session at timestamp: 634376760880, for session factory: [/09ba9b29f5234248aeccf14f6701c324]
DEBUG [2011-04-06 08:41:28,037] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:41:28,037] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:41:28,037] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 08:41:28,038] - named parameters: {}
DEBUG [2011-04-06 08:41:28,038] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:41:28,038] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 08:41:28,038] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:41:28,038] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:41:28,038] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:41:28,038] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:41:28,039] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:41:28,039] - processing result set
DEBUG [2011-04-06 08:41:28,039] - done processing result set (0 rows)
DEBUG [2011-04-06 08:41:28,039] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:41:28,039] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:41:28,039] - DataReader was closed after 0 ms
DEBUG [2011-04-06 08:41:28,039] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:41:28,039] - aggressively releasing database connection
DEBUG [2011-04-06 08:41:28,039] - Closing connection
DEBUG [2011-04-06 08:41:28,043] - total objects hydrated: 0
DEBUG [2011-04-06 08:41:28,043] - initializing non-lazy collections
DEBUG [2011-04-06 08:41:28,043] - after autocommit
DEBUG [2011-04-06 08:41:28,043] - transaction completion
DEBUG [2011-04-06 08:41:28,043] - aggressively releasing database connection
 INFO [2011-04-06 08:45:15,764] - Starting up
 INFO [2011-04-06 08:45:17,603] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 08:45:17,604] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 08:45:17,604] - Bytecode provider name : lcg
 INFO [2011-04-06 08:45:17,605] - Using reflection optimizer
DEBUG [2011-04-06 08:45:17,998] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag cascade="all" name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 08:45:18,158] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:45:18,212] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 08:45:18,250] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:45:18,295] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 08:45:18,298] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:45:18,308] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:45:18,316] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:45:18,317] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:45:18,318] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 08:45:18,318] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:45:18,318] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 08:45:18,319] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 08:45:18,320] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:45:18,320] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 08:45:18,320] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 08:45:18,320] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 08:45:18,326] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:45:18,329] - Running hbm2ddl schema update
 INFO [2011-04-06 08:45:18,329] - fetching database metadata
 INFO [2011-04-06 08:45:18,330] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:45:18,331] - Configuring ConnectionProvider
DEBUG [2011-04-06 08:45:18,334] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 08:45:18,345] - updating schema
 INFO [2011-04-06 08:45:18,354] - checking mappings queue
 INFO [2011-04-06 08:45:18,354] - processing one-to-many association mappings
DEBUG [2011-04-06 08:45:18,354] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 08:45:18,356] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 08:45:18,361] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 08:45:18,361] - processing one-to-one association property references
 INFO [2011-04-06 08:45:18,361] - processing foreign key constraints
DEBUG [2011-04-06 08:45:18,364] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:45:18,366] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:45:18,366] - processing filters (second pass)
 INFO [2011-04-06 08:45:18,407] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-06 08:45:18,408] - columns: id, name, chocolatierid
 INFO [2011-04-06 08:45:18,408] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-06 08:45:18,408] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-06 08:45:18,425] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-06 08:45:18,425] - columns: id, name
 INFO [2011-04-06 08:45:18,425] - foreign keys: 
 INFO [2011-04-06 08:45:18,425] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-06 08:45:18,431] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-06 08:45:18,432] - columns: id, name, chocolatebar_id
 INFO [2011-04-06 08:45:18,432] - foreign keys: fk1328745f39440519
 INFO [2011-04-06 08:45:18,432] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-06 08:45:18,450] - schema update complete
DEBUG [2011-04-06 08:45:18,451] - Closing connection
 INFO [2011-04-06 08:45:18,453] - checking mappings queue
 INFO [2011-04-06 08:45:18,453] - processing one-to-many association mappings
 INFO [2011-04-06 08:45:18,453] - processing one-to-one association property references
 INFO [2011-04-06 08:45:18,453] - processing foreign key constraints
DEBUG [2011-04-06 08:45:18,453] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:45:18,453] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:45:18,453] - processing filters (second pass)
 INFO [2011-04-06 08:45:18,486] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 08:45:18,521] - Using dialect defined converter
 INFO [2011-04-06 08:45:18,521] - Generate SQL with comments: disabled
 INFO [2011-04-06 08:45:18,521] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 08:45:18,521] - Configuring ConnectionProvider
 INFO [2011-04-06 08:45:18,522] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 08:45:18,522] - Optimize cache for minimal puts: False
 INFO [2011-04-06 08:45:18,522] - Connection release mode: auto
 INFO [2011-04-06 08:45:18,522] - Default batch fetch size: 1
 INFO [2011-04-06 08:45:18,522] - Statistics: disabled
 INFO [2011-04-06 08:45:18,522] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 08:45:18,523] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 08:45:18,525] - Query language substitutions: {}
 INFO [2011-04-06 08:45:18,525] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 08:45:18,525] - Wrap result sets: disabled
 INFO [2011-04-06 08:45:18,526] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 08:45:18,527] - Default entity-mode: Poco
 INFO [2011-04-06 08:45:18,527] - Named query checking : enabled
 INFO [2011-04-06 08:45:18,551] - building session factory
DEBUG [2011-04-06 08:45:18,551] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 08:45:18,552] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=localhost\sql2008r2;Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 08:45:18,553] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:45:18,556] - Closing connection
DEBUG [2011-04-06 08:45:18,632] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:45:18,637] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:45:18,652] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:45:18,684] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:45:18,684] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:45:18,685] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:45:18,685] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:18,686] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:18,686] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:18,722] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:45:18,723] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:45:18,723] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-06 08:45:18,723] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 08:45:18,774] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:45:18,774] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:45:18,774] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-06 08:45:18,774] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-06 08:45:18,774] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 08:45:18,774] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 08:45:18,774] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:45:18,816] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:45:18,817] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:45:18,817] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:45:18,817] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:45:18,817] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:45:18,829] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_1_, chocolateb0_.Name as Name0_1_, chocolateb0_.ChocolatierID as Chocolat3_0_1_, features1_.ChocolateBar_id as Chocolat3_3_, features1_.ID as ID3_, features1_.ID as ID2_0_, features1_.Name as Name2_0_ FROM [ChocolateBar] chocolateb0_ left outer join [Feature] features1_ on chocolateb0_.ID=features1_.ChocolateBar_id WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:45:18,830] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_1_, chocolateb0_.Name as Name0_1_, chocolateb0_.ChocolatierID as Chocolat3_0_1_, features1_.ChocolateBar_id as Chocolat3_3_, features1_.ID as ID3_, features1_.ID as ID2_0_, features1_.Name as Name2_0_ FROM [ChocolateBar] chocolateb0_ left outer join [Feature] features1_ on chocolateb0_.ID=features1_.ChocolateBar_id WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 08:45:18,831] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:45:18,831] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-06 08:45:18,831] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:45:18,831] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:45:18,831] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 08:45:18,831] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:45:18,831] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:18,831] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:45:18,831] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-06 08:45:18,831] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 08:45:18,831] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 08:45:18,831] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 08:45:18,831] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:45:18,831] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:45:18,831] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:45:18,832] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 08:45:18,832] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:45:18,832] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 08:45:18,837] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 08:45:18,839] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-06 08:45:18,839] - registered: 0fef36740d274bdfb4d371a3406dae36(unnamed)
 INFO [2011-04-06 08:45:18,840] - no name configured
DEBUG [2011-04-06 08:45:18,840] - Instantiated session factory
DEBUG [2011-04-06 08:45:18,846] - Checking 0 named HQL queries
DEBUG [2011-04-06 08:45:18,846] - Checking 0 named SQL queries
DEBUG [2011-04-06 08:45:18,861] - [session-id=43c76c10-dac2-487f-8b5f-8edc475bd0e9] opened session at timestamp: 634376763188, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 08:45:18,866] - Begin (Unspecified)
DEBUG [2011-04-06 08:45:18,867] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:45:18,876] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:18,877] - creating new proxy for entity
DEBUG [2011-04-06 08:45:19,066] - unsaved-value: 0
DEBUG [2011-04-06 08:45:19,066] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:45:19,066] - saving transient instance
DEBUG [2011-04-06 08:45:19,068] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
 INFO [2011-04-06 08:45:19,073] - processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:45:19,075] - done processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:45:19,075] - executing insertions
DEBUG [2011-04-06 08:45:19,084] - Wrapped collection in role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:45:19,091] - executing identity-insert immediately
DEBUG [2011-04-06 08:45:19,093] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-06 08:45:19,102] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:45:19,102] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:45:19,103] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-06 08:45:19,104] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-06 08:45:19,106] - binding '1' to parameter: 1
DEBUG [2011-04-06 08:45:19,110] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 08:45:19,112] - Enlist Command
DEBUG [2011-04-06 08:45:19,113] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:45:19,114] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:45:19,116] - returning '4' as column: 
DEBUG [2011-04-06 08:45:19,116] - Natively generated identity: 4
DEBUG [2011-04-06 08:45:19,117] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:45:19,117] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:45:19,117] - DataReader was closed after 5 ms
DEBUG [2011-04-06 08:45:19,118] - Closed IDbCommand, open IDbCommands: 0
 INFO [2011-04-06 08:45:19,123] - processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:45:19,126] - cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:45:19,127] - cascading to saveOrUpdate: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:19,129] - unsaved-value: 0
DEBUG [2011-04-06 08:45:19,129] - transient instance of: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:19,129] - saving transient instance
DEBUG [2011-04-06 08:45:19,129] - saving [nhibernate_demo.Models.Feature#<null>]
DEBUG [2011-04-06 08:45:19,129] - executing insertions
DEBUG [2011-04-06 08:45:19,130] - executing identity-insert immediately
DEBUG [2011-04-06 08:45:19,130] - Inserting entity: nhibernate_demo.Models.Feature (native id)
DEBUG [2011-04-06 08:45:19,130] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:45:19,130] - Building an IDbCommand object for the SqlString: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:45:19,130] - Dehydrating entity: [nhibernate_demo.Models.Feature#<null>]
DEBUG [2011-04-06 08:45:19,130] - binding 'nuts' to parameter: 0
DEBUG [2011-04-06 08:45:19,130] - INSERT INTO [Feature] (Name) VALUES (@p0); select SCOPE_IDENTITY();@p0 = 'nuts' [Type: String (4000)]
DEBUG [2011-04-06 08:45:19,130] - Enlist Command
DEBUG [2011-04-06 08:45:19,132] - ExecuteReader took 1 ms
DEBUG [2011-04-06 08:45:19,132] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:45:19,132] - returning '1' as column: 
DEBUG [2011-04-06 08:45:19,132] - Natively generated identity: 1
DEBUG [2011-04-06 08:45:19,132] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:45:19,132] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:45:19,132] - DataReader was closed after 2 ms
DEBUG [2011-04-06 08:45:19,132] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:45:19,134] - cascading to saveOrUpdate: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:19,134] - unsaved-value: 0
DEBUG [2011-04-06 08:45:19,134] - transient instance of: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:19,134] - saving transient instance
DEBUG [2011-04-06 08:45:19,134] - saving [nhibernate_demo.Models.Feature#<null>]
DEBUG [2011-04-06 08:45:19,134] - executing insertions
DEBUG [2011-04-06 08:45:19,134] - executing identity-insert immediately
DEBUG [2011-04-06 08:45:19,134] - Inserting entity: nhibernate_demo.Models.Feature (native id)
DEBUG [2011-04-06 08:45:19,134] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:45:19,134] - Building an IDbCommand object for the SqlString: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 08:45:19,134] - Dehydrating entity: [nhibernate_demo.Models.Feature#<null>]
DEBUG [2011-04-06 08:45:19,134] - binding 'wafer' to parameter: 0
DEBUG [2011-04-06 08:45:19,134] - INSERT INTO [Feature] (Name) VALUES (@p0); select SCOPE_IDENTITY();@p0 = 'wafer' [Type: String (4000)]
DEBUG [2011-04-06 08:45:19,134] - Enlist Command
DEBUG [2011-04-06 08:45:19,136] - ExecuteReader took 1 ms
DEBUG [2011-04-06 08:45:19,136] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:45:19,136] - returning '2' as column: 
DEBUG [2011-04-06 08:45:19,136] - Natively generated identity: 2
DEBUG [2011-04-06 08:45:19,136] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:45:19,136] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:45:19,136] - DataReader was closed after 1 ms
DEBUG [2011-04-06 08:45:19,136] - Closed IDbCommand, open IDbCommands: 0
 INFO [2011-04-06 08:45:19,136] - done cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 08:45:19,136] - done processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:45:19,137] - Start Commit
DEBUG [2011-04-06 08:45:19,141] - flushing session
DEBUG [2011-04-06 08:45:19,142] - processing flush-time cascades
 INFO [2011-04-06 08:45:19,143] - processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 08:45:19,143] - cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:45:19,143] - cascading to saveOrUpdate: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:19,143] - persistent instance of: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:19,144] - ignoring persistent instance
DEBUG [2011-04-06 08:45:19,144] - object already associated with session: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 08:45:19,144] - cascading to saveOrUpdate: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:19,144] - persistent instance of: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 08:45:19,144] - ignoring persistent instance
DEBUG [2011-04-06 08:45:19,144] - object already associated with session: [nhibernate_demo.Models.Feature#2]
 INFO [2011-04-06 08:45:19,144] - done cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 08:45:19,144] - done processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 08:45:19,145] - dirty checking collections
DEBUG [2011-04-06 08:45:19,147] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 08:45:19,157] - Collection found: [nhibernate_demo.Models.ChocolateBar.Features#4], was: [<unreferenced>] (initialized)
DEBUG [2011-04-06 08:45:19,161] - Processing unreferenced collections
DEBUG [2011-04-06 08:45:19,161] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 08:45:19,163] - Flushed: 0 insertions, 0 updates, 0 deletions to 3 objects
DEBUG [2011-04-06 08:45:19,163] - Flushed: 1 (re)creations, 0 updates, 0 removals to 1 collections
DEBUG [2011-04-06 08:45:19,163] - listing entities:
DEBUG [2011-04-06 08:45:19,171] - nhibernate_demo.Models.ChocolateBar{'ID'='4', 'Features'='['nhibernate_demo.Models.Feature#1', 'nhibernate_demo.Models.Feature#2']', 'Name'='Mr. Big', 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-06 08:45:19,172] - nhibernate_demo.Models.Feature{'ID'='1', 'Name'='nuts'}
DEBUG [2011-04-06 08:45:19,172] - nhibernate_demo.Models.Feature{'ID'='2', 'Name'='wafer'}
DEBUG [2011-04-06 08:45:19,172] - executing flush
DEBUG [2011-04-06 08:45:19,172] - registering flush begin
DEBUG [2011-04-06 08:45:19,177] - Inserting collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 08:45:19,180] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:45:19,180] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 08:45:19,180] - binding '4' to parameter: 0
DEBUG [2011-04-06 08:45:19,181] - binding '1' to parameter: 1
DEBUG [2011-04-06 08:45:19,182] - UPDATE [Feature] SET ChocolateBar_id = @p0 WHERE ID = @p1;@p0 = 4 [Type: Int32 (0)], @p1 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 08:45:19,182] - Enlist Command
DEBUG [2011-04-06 08:45:19,220] - ExecuteNonQuery took 38 ms
DEBUG [2011-04-06 08:45:19,221] - reusing command UPDATE [Feature] SET ChocolateBar_id = @p0 WHERE ID = @p1
DEBUG [2011-04-06 08:45:19,221] - binding '4' to parameter: 0
DEBUG [2011-04-06 08:45:19,221] - binding '2' to parameter: 1
DEBUG [2011-04-06 08:45:19,221] - UPDATE [Feature] SET ChocolateBar_id = @p0 WHERE ID = @p1;@p0 = 4 [Type: Int32 (0)], @p1 = 2 [Type: Int32 (0)]
DEBUG [2011-04-06 08:45:19,221] - Enlist Command
DEBUG [2011-04-06 08:45:19,222] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-06 08:45:19,222] - done inserting collection: 2 rows inserted
DEBUG [2011-04-06 08:45:19,224] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-06 08:45:19,225] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:45:19,225] - registering flush end
DEBUG [2011-04-06 08:45:19,227] - post flush
DEBUG [2011-04-06 08:45:19,229] - before transaction completion
DEBUG [2011-04-06 08:45:19,231] - IDbTransaction Committed
DEBUG [2011-04-06 08:45:19,232] - transaction completion
DEBUG [2011-04-06 08:45:19,232] - aggressively releasing database connection
DEBUG [2011-04-06 08:45:19,232] - Closing connection
DEBUG [2011-04-06 08:45:19,235] - IDbTransaction disposed.
DEBUG [2011-04-06 08:45:19,262] - [session-id=1d127253-0f2d-4897-b930-5fadf72773d2] opened session at timestamp: 634376763192, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 08:45:20,196] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:45:20,509] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 08:45:20,530] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-06 08:45:20,546] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-06 08:45:20,549] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 08:45:20,552] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-06 08:45:20,581] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-06 08:45:20,586] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 08:45:20,588] - throwQueryException() : no errors
DEBUG [2011-04-06 08:45:20,627] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:45:20,627] - throwQueryException() : no errors
DEBUG [2011-04-06 08:45:20,667] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 08:45:20,670] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 08:45:20,671] - named parameters: {}
DEBUG [2011-04-06 08:45:20,701] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:45:20,701] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 08:45:20,708] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:45:20,708] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 08:45:20,708] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:45:20,709] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:45:20,709] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:45:20,711] - processing result set
DEBUG [2011-04-06 08:45:20,711] - result set row: 0
DEBUG [2011-04-06 08:45:20,713] - returning '4' as column: ID0_
DEBUG [2011-04-06 08:45:20,714] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 08:45:20,719] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 08:45:20,722] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 08:45:20,722] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-06 08:45:20,722] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-06 08:45:20,728] - done processing result set (1 rows)
DEBUG [2011-04-06 08:45:20,728] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:45:20,728] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:45:20,728] - DataReader was closed after 19 ms
DEBUG [2011-04-06 08:45:20,728] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:45:20,728] - aggressively releasing database connection
DEBUG [2011-04-06 08:45:20,728] - Closing connection
DEBUG [2011-04-06 08:45:20,729] - total objects hydrated: 1
DEBUG [2011-04-06 08:45:20,733] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 08:45:20,735] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 08:45:20,739] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,739] - creating new proxy for entity
DEBUG [2011-04-06 08:45:20,742] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 08:45:20,743] - initializing non-lazy collections
DEBUG [2011-04-06 08:45:20,745] - after autocommit
DEBUG [2011-04-06 08:45:20,745] - transaction completion
DEBUG [2011-04-06 08:45:20,745] - aggressively releasing database connection
DEBUG [2011-04-06 08:45:20,751] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 08:45:20,751] - checking second-level cache
DEBUG [2011-04-06 08:45:20,752] - collection not cached
DEBUG [2011-04-06 08:45:20,754] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 08:45:20,754] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:45:20,754] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 08:45:20,754] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 08:45:20,755] - binding '4' to parameter: 0
 INFO [2011-04-06 08:45:20,755] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 08:45:20,755] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 08:45:20,755] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:45:20,848] - ExecuteReader took 93 ms
DEBUG [2011-04-06 08:45:20,848] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:45:20,849] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 08:45:20,851] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 08:45:20,853] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 08:45:20,854] - collection not yet initialized; initializing
DEBUG [2011-04-06 08:45:20,856] - processing result set
DEBUG [2011-04-06 08:45:20,856] - result set row: 0
DEBUG [2011-04-06 08:45:20,856] - returning '1' as column: ID2_0_
DEBUG [2011-04-06 08:45:20,857] - result row: EntityKey[nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 08:45:20,857] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 08:45:20,857] - Hydrating entity: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 08:45:20,857] - returning 'nuts' as column: Name2_0_
DEBUG [2011-04-06 08:45:20,858] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 08:45:20,858] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 08:45:20,858] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 08:45:20,858] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 08:45:20,858] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 08:45:20,858] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 08:45:20,859] - returning '1' as column: ID1_
DEBUG [2011-04-06 08:45:20,859] - loading entity: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 08:45:20,860] - attempting to resolve: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 08:45:20,863] - resolved object in session cache: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 08:45:20,863] - result set row: 1
DEBUG [2011-04-06 08:45:20,863] - returning '2' as column: ID2_0_
DEBUG [2011-04-06 08:45:20,863] - result row: EntityKey[nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 08:45:20,863] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 08:45:20,863] - Hydrating entity: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 08:45:20,863] - returning 'wafer' as column: Name2_0_
DEBUG [2011-04-06 08:45:20,863] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 08:45:20,863] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 08:45:20,864] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 08:45:20,864] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 08:45:20,864] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 08:45:20,864] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 08:45:20,864] - returning '2' as column: ID1_
DEBUG [2011-04-06 08:45:20,864] - loading entity: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 08:45:20,864] - attempting to resolve: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 08:45:20,864] - resolved object in session cache: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 08:45:20,864] - done processing result set (2 rows)
DEBUG [2011-04-06 08:45:20,864] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:45:20,864] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:45:20,864] - DataReader was closed after 109 ms
DEBUG [2011-04-06 08:45:20,864] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:45:20,864] - aggressively releasing database connection
DEBUG [2011-04-06 08:45:20,864] - Closing connection
DEBUG [2011-04-06 08:45:20,864] - total objects hydrated: 2
DEBUG [2011-04-06 08:45:20,864] - resolving associations for [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 08:45:20,864] - done materializing entity [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 08:45:20,864] - resolving associations for [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 08:45:20,864] - done materializing entity [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 08:45:20,868] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 08:45:20,868] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 08:45:20,868] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@2a95f5f]
DEBUG [2011-04-06 08:45:20,870] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:45:20,871] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@2a95f5f]
DEBUG [2011-04-06 08:45:20,873] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 08:45:20,873] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 08:45:20,874] - initializing non-lazy collections
DEBUG [2011-04-06 08:45:20,874] - done loading collection
DEBUG [2011-04-06 08:45:20,874] - collection initialized
DEBUG [2011-04-06 08:45:20,876] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,876] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,877] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,878] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,881] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,881] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 08:45:20,881] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 08:45:20,881] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 08:45:20,881] - binding '1' to parameter: 0
 INFO [2011-04-06 08:45:20,881] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 08:45:20,881] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 08:45:20,881] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 08:45:20,882] - ExecuteReader took 0 ms
DEBUG [2011-04-06 08:45:20,882] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 08:45:20,882] - processing result set
DEBUG [2011-04-06 08:45:20,882] - result set row: 0
DEBUG [2011-04-06 08:45:20,882] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,884] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,884] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,884] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 08:45:20,884] - done processing result set (1 rows)
DEBUG [2011-04-06 08:45:20,884] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 08:45:20,884] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 08:45:20,884] - DataReader was closed after 2 ms
DEBUG [2011-04-06 08:45:20,884] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 08:45:20,885] - aggressively releasing database connection
DEBUG [2011-04-06 08:45:20,885] - Closing connection
DEBUG [2011-04-06 08:45:20,885] - total objects hydrated: 1
DEBUG [2011-04-06 08:45:20,885] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,885] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 08:45:20,885] - initializing non-lazy collections
DEBUG [2011-04-06 08:45:20,885] - done entity load
DEBUG [2011-04-06 09:03:38,657] - [session-id=57d11884-8354-496b-921f-843d1662cc26] opened session at timestamp: 634376774186, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:03:38,659] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:03:38,660] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 09:03:38,660] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_1) -> chocolatie0_
DEBUG [2011-04-06 09:03:38,660] - Resolved :  <generated>_1 -> chocolatie0_.ID
DEBUG [2011-04-06 09:03:38,660] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 09:03:38,660] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-06 09:03:38,660] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-06 09:03:38,660] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 09:03:38,660] - throwQueryException() : no errors
DEBUG [2011-04-06 09:03:38,660] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:03:38,660] - throwQueryException() : no errors
DEBUG [2011-04-06 09:03:38,661] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:03:38,661] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 09:03:38,661] - named parameters: {}
DEBUG [2011-04-06 09:03:38,661] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:03:38,661] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 09:03:38,661] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:03:38,661] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:03:38,661] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:03:38,673] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:03:38,674] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:03:38,674] - processing result set
DEBUG [2011-04-06 09:03:38,674] - result set row: 0
DEBUG [2011-04-06 09:03:38,674] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:03:38,674] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:03:38,674] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:03:38,674] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:03:38,674] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 09:03:38,674] - done processing result set (1 rows)
DEBUG [2011-04-06 09:03:38,674] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:03:38,674] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:03:38,674] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:03:38,674] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:03:38,674] - aggressively releasing database connection
DEBUG [2011-04-06 09:03:38,674] - Closing connection
DEBUG [2011-04-06 09:03:38,674] - total objects hydrated: 1
DEBUG [2011-04-06 09:03:38,674] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:03:38,674] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:03:38,674] - initializing non-lazy collections
DEBUG [2011-04-06 09:03:38,674] - after autocommit
DEBUG [2011-04-06 09:03:38,674] - transaction completion
DEBUG [2011-04-06 09:03:38,674] - aggressively releasing database connection
DEBUG [2011-04-06 09:03:38,675] - [session-id=1042068b-23e8-4bf2-aca3-fdd5dd842bb6] opened session at timestamp: 634376774186, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:03:38,675] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,675] - creating new proxy for entity
DEBUG [2011-04-06 09:03:38,691] - after autocommit
DEBUG [2011-04-06 09:03:38,691] - transaction completion
DEBUG [2011-04-06 09:03:38,692] - aggressively releasing database connection
DEBUG [2011-04-06 09:03:38,718] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,718] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,718] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,718] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,718] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,718] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:03:38,718] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:03:38,718] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:03:38,718] - binding '4' to parameter: 0
 INFO [2011-04-06 09:03:38,718] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-06 09:03:38,718] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:03:38,718] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:03:38,731] - ExecuteReader took 12 ms
DEBUG [2011-04-06 09:03:38,731] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:03:38,731] - processing result set
DEBUG [2011-04-06 09:03:38,732] - result set row: 0
DEBUG [2011-04-06 09:03:38,732] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,732] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,732] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,732] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-06 09:03:38,732] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-06 09:03:38,732] - done processing result set (1 rows)
DEBUG [2011-04-06 09:03:38,732] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:03:38,732] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:03:38,732] - DataReader was closed after 13 ms
DEBUG [2011-04-06 09:03:38,732] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:03:38,732] - aggressively releasing database connection
DEBUG [2011-04-06 09:03:38,732] - Closing connection
DEBUG [2011-04-06 09:03:38,732] - total objects hydrated: 1
DEBUG [2011-04-06 09:03:38,732] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,732] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:03:38,732] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:03:38,732] - creating new proxy for entity
DEBUG [2011-04-06 09:03:38,732] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:03:38,732] - initializing non-lazy collections
DEBUG [2011-04-06 09:03:38,732] - done entity load
DEBUG [2011-04-06 09:03:39,499] - [session-id=1042068b-23e8-4bf2-aca3-fdd5dd842bb6] executing real Dispose(False)
DEBUG [2011-04-06 09:07:52,069] - [session-id=62d3fe4d-0b78-4fe0-a149-f7b9d632b78c] opened session at timestamp: 634376776720, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:07:52,070] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:07:52,070] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:07:52,070] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 09:07:52,070] - named parameters: {}
DEBUG [2011-04-06 09:07:52,070] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:07:52,070] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 09:07:52,070] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:07:52,070] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:07:52,070] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:07:52,071] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:07:52,071] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:07:52,071] - processing result set
DEBUG [2011-04-06 09:07:52,071] - result set row: 0
DEBUG [2011-04-06 09:07:52,071] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:07:52,071] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:07:52,071] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:07:52,071] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:07:52,071] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 09:07:52,071] - done processing result set (1 rows)
DEBUG [2011-04-06 09:07:52,071] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:07:52,071] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:07:52,071] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:07:52,072] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:07:52,072] - aggressively releasing database connection
DEBUG [2011-04-06 09:07:52,072] - Closing connection
DEBUG [2011-04-06 09:07:52,072] - total objects hydrated: 1
DEBUG [2011-04-06 09:07:52,072] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:07:52,072] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:07:52,072] - initializing non-lazy collections
DEBUG [2011-04-06 09:07:52,072] - after autocommit
DEBUG [2011-04-06 09:07:52,072] - transaction completion
DEBUG [2011-04-06 09:07:52,072] - aggressively releasing database connection
DEBUG [2011-04-06 09:07:52,072] - [session-id=def268c8-00d6-4c1b-8888-6407736f8284] opened session at timestamp: 634376776720, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:07:52,072] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,072] - creating new proxy for entity
DEBUG [2011-04-06 09:07:52,072] - after autocommit
DEBUG [2011-04-06 09:07:52,072] - transaction completion
DEBUG [2011-04-06 09:07:52,072] - aggressively releasing database connection
DEBUG [2011-04-06 09:07:52,786] - [session-id=62d3fe4d-0b78-4fe0-a149-f7b9d632b78c] executing real Dispose(False)
DEBUG [2011-04-06 09:07:52,799] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,799] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,799] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,799] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,799] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,799] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:07:52,799] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:07:52,799] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:07:52,799] - binding '4' to parameter: 0
 INFO [2011-04-06 09:07:52,799] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-06 09:07:52,800] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:07:52,800] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:07:52,800] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:07:52,800] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:07:52,801] - processing result set
DEBUG [2011-04-06 09:07:52,801] - result set row: 0
DEBUG [2011-04-06 09:07:52,801] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,801] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,801] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,801] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-06 09:07:52,801] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-06 09:07:52,801] - done processing result set (1 rows)
DEBUG [2011-04-06 09:07:52,801] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:07:52,801] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:07:52,801] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:07:52,801] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:07:52,801] - aggressively releasing database connection
DEBUG [2011-04-06 09:07:52,801] - Closing connection
DEBUG [2011-04-06 09:07:52,801] - total objects hydrated: 1
DEBUG [2011-04-06 09:07:52,801] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,801] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:07:52,801] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:07:52,801] - creating new proxy for entity
DEBUG [2011-04-06 09:07:52,802] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:07:52,802] - initializing non-lazy collections
DEBUG [2011-04-06 09:07:52,802] - done entity load
DEBUG [2011-04-06 09:07:52,802] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:07:52,802] - checking second-level cache
DEBUG [2011-04-06 09:07:52,802] - collection not cached
DEBUG [2011-04-06 09:07:52,802] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:07:52,802] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:07:52,802] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:07:52,802] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:07:52,802] - binding '4' to parameter: 0
 INFO [2011-04-06 09:07:52,802] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:07:52,802] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:07:52,802] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:07:52,803] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:07:52,803] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:07:52,803] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:07:52,803] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:07:52,803] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:07:52,803] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:07:52,803] - processing result set
DEBUG [2011-04-06 09:07:52,803] - result set row: 0
DEBUG [2011-04-06 09:07:52,803] - returning '1' as column: ID2_0_
DEBUG [2011-04-06 09:07:52,803] - result row: EntityKey[nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:07:52,803] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:07:52,803] - Hydrating entity: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:07:52,803] - returning 'nuts' as column: Name2_0_
DEBUG [2011-04-06 09:07:52,803] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:07:52,803] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:07:52,804] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:07:52,804] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:07:52,804] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:07:52,804] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:07:52,804] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:07:52,804] - loading entity: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:07:52,804] - attempting to resolve: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:07:52,804] - resolved object in session cache: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:07:52,804] - result set row: 1
DEBUG [2011-04-06 09:07:52,804] - returning '2' as column: ID2_0_
DEBUG [2011-04-06 09:07:52,804] - result row: EntityKey[nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:07:52,804] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:07:52,804] - Hydrating entity: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:07:52,804] - returning 'wafer' as column: Name2_0_
DEBUG [2011-04-06 09:07:52,804] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:07:52,804] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:07:52,804] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:07:52,804] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:07:52,804] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:07:52,804] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:07:52,804] - returning '2' as column: ID1_
DEBUG [2011-04-06 09:07:52,804] - loading entity: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:07:52,804] - attempting to resolve: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:07:52,804] - resolved object in session cache: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:07:52,804] - done processing result set (2 rows)
DEBUG [2011-04-06 09:07:52,804] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:07:52,804] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:07:52,804] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:07:52,804] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:07:52,804] - aggressively releasing database connection
DEBUG [2011-04-06 09:07:52,804] - Closing connection
DEBUG [2011-04-06 09:07:52,804] - total objects hydrated: 2
DEBUG [2011-04-06 09:07:52,804] - resolving associations for [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:07:52,804] - done materializing entity [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:07:52,804] - resolving associations for [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:07:52,804] - done materializing entity [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:07:52,804] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:07:52,804] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:07:52,804] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@23b2994]
DEBUG [2011-04-06 09:07:52,804] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:07:52,804] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@23b2994]
DEBUG [2011-04-06 09:07:52,804] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:07:52,804] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:07:52,805] - initializing non-lazy collections
DEBUG [2011-04-06 09:07:52,805] - done loading collection
DEBUG [2011-04-06 09:07:52,805] - collection initialized
DEBUG [2011-04-06 09:08:45,703] - [session-id=f4b7943e-d3ff-488a-bc12-c351ecb8c472] opened session at timestamp: 634376777257, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:08:45,703] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:08:45,703] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:08:45,703] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 09:08:45,703] - named parameters: {}
DEBUG [2011-04-06 09:08:45,703] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:08:45,704] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 09:08:45,704] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:08:45,704] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:08:45,704] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:08:45,705] - ExecuteReader took 1 ms
DEBUG [2011-04-06 09:08:45,705] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:08:45,705] - processing result set
DEBUG [2011-04-06 09:08:45,705] - result set row: 0
DEBUG [2011-04-06 09:08:45,705] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:08:45,705] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:08:45,705] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:08:45,705] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:08:45,706] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 09:08:45,706] - done processing result set (1 rows)
DEBUG [2011-04-06 09:08:45,706] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:08:45,706] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:08:45,706] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:08:45,706] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:08:45,706] - aggressively releasing database connection
DEBUG [2011-04-06 09:08:45,706] - Closing connection
DEBUG [2011-04-06 09:08:45,706] - total objects hydrated: 1
DEBUG [2011-04-06 09:08:45,706] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:08:45,706] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:08:45,706] - initializing non-lazy collections
DEBUG [2011-04-06 09:08:45,706] - after autocommit
DEBUG [2011-04-06 09:08:45,706] - transaction completion
DEBUG [2011-04-06 09:08:45,706] - aggressively releasing database connection
DEBUG [2011-04-06 09:08:45,706] - [session-id=38b55c86-f085-4a04-a1aa-41bee8010fa2] opened session at timestamp: 634376777257, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:08:45,706] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:45,706] - creating new proxy for entity
DEBUG [2011-04-06 09:08:45,706] - after autocommit
DEBUG [2011-04-06 09:08:45,706] - transaction completion
DEBUG [2011-04-06 09:08:45,706] - aggressively releasing database connection
DEBUG [2011-04-06 09:08:45,716] - [session-id=f4b7943e-d3ff-488a-bc12-c351ecb8c472] executing real Dispose(False)
DEBUG [2011-04-06 09:08:46,215] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,215] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,215] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,215] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,215] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,215] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:08:46,215] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:08:46,215] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:08:46,215] - binding '4' to parameter: 0
 INFO [2011-04-06 09:08:46,215] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-06 09:08:46,215] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:08:46,215] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:08:46,216] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:08:46,216] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:08:46,216] - processing result set
DEBUG [2011-04-06 09:08:46,216] - result set row: 0
DEBUG [2011-04-06 09:08:46,216] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,216] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,216] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,216] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-06 09:08:46,216] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-06 09:08:46,216] - done processing result set (1 rows)
DEBUG [2011-04-06 09:08:46,216] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:08:46,216] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:08:46,216] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:08:46,216] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:08:46,216] - aggressively releasing database connection
DEBUG [2011-04-06 09:08:46,216] - Closing connection
DEBUG [2011-04-06 09:08:46,216] - total objects hydrated: 1
DEBUG [2011-04-06 09:08:46,216] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,217] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:08:46,217] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:08:46,217] - creating new proxy for entity
DEBUG [2011-04-06 09:08:46,217] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:08:46,217] - initializing non-lazy collections
DEBUG [2011-04-06 09:08:46,217] - done entity load
DEBUG [2011-04-06 09:08:46,217] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:08:46,217] - checking second-level cache
DEBUG [2011-04-06 09:08:46,217] - collection not cached
DEBUG [2011-04-06 09:08:46,217] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:08:46,217] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:08:46,217] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:08:46,217] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:08:46,217] - binding '4' to parameter: 0
 INFO [2011-04-06 09:08:46,217] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:08:46,217] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:08:46,217] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:08:46,218] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:08:46,218] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:08:46,218] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:08:46,218] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:08:46,218] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:08:46,218] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:08:46,218] - processing result set
DEBUG [2011-04-06 09:08:46,218] - result set row: 0
DEBUG [2011-04-06 09:08:46,218] - returning '1' as column: ID2_0_
DEBUG [2011-04-06 09:08:46,218] - result row: EntityKey[nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:08:46,218] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:08:46,218] - Hydrating entity: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:08:46,218] - returning 'nuts' as column: Name2_0_
DEBUG [2011-04-06 09:08:46,219] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:08:46,219] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:08:46,219] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:08:46,219] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:08:46,219] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:08:46,219] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:08:46,219] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:08:46,219] - loading entity: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:08:46,219] - attempting to resolve: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:08:46,219] - resolved object in session cache: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:08:46,219] - result set row: 1
DEBUG [2011-04-06 09:08:46,219] - returning '2' as column: ID2_0_
DEBUG [2011-04-06 09:08:46,219] - result row: EntityKey[nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:08:46,219] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:08:46,219] - Hydrating entity: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:08:46,219] - returning 'wafer' as column: Name2_0_
DEBUG [2011-04-06 09:08:46,219] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:08:46,219] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:08:46,219] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:08:46,219] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:08:46,219] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:08:46,219] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:08:46,219] - returning '2' as column: ID1_
DEBUG [2011-04-06 09:08:46,219] - loading entity: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:08:46,219] - attempting to resolve: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:08:46,219] - resolved object in session cache: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:08:46,219] - done processing result set (2 rows)
DEBUG [2011-04-06 09:08:46,219] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:08:46,219] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:08:46,219] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:08:46,219] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:08:46,219] - aggressively releasing database connection
DEBUG [2011-04-06 09:08:46,219] - Closing connection
DEBUG [2011-04-06 09:08:46,219] - total objects hydrated: 2
DEBUG [2011-04-06 09:08:46,219] - resolving associations for [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:08:46,219] - done materializing entity [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:08:46,219] - resolving associations for [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:08:46,219] - done materializing entity [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:08:46,219] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:08:46,219] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:08:46,219] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@5e80d0]
DEBUG [2011-04-06 09:08:46,219] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:08:46,219] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@5e80d0]
DEBUG [2011-04-06 09:08:46,219] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:08:46,220] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:08:46,220] - initializing non-lazy collections
DEBUG [2011-04-06 09:08:46,220] - done loading collection
DEBUG [2011-04-06 09:08:46,220] - collection initialized
DEBUG [2011-04-06 09:11:31,249] - [session-id=955ea4a8-bb6b-457c-bfe0-6b9b039c2adc] opened session at timestamp: 634376778912, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:11:31,249] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:11:31,249] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:11:31,249] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 09:11:31,249] - named parameters: {}
DEBUG [2011-04-06 09:11:31,250] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:11:31,250] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 09:11:31,250] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:11:31,250] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:11:31,250] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:11:31,251] - [session-id=43c76c10-dac2-487f-8b5f-8edc475bd0e9] executing real Dispose(False)
DEBUG [2011-04-06 09:11:31,252] - [session-id=def268c8-00d6-4c1b-8888-6407736f8284] executing real Dispose(False)
DEBUG [2011-04-06 09:11:31,252] - [session-id=38b55c86-f085-4a04-a1aa-41bee8010fa2] executing real Dispose(False)
DEBUG [2011-04-06 09:11:31,252] - ExecuteReader took 2 ms
DEBUG [2011-04-06 09:11:31,252] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:11:31,252] - processing result set
DEBUG [2011-04-06 09:11:31,252] - result set row: 0
DEBUG [2011-04-06 09:11:31,253] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:11:31,253] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:31,253] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:31,253] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:31,253] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 09:11:31,253] - done processing result set (1 rows)
DEBUG [2011-04-06 09:11:31,253] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:11:31,253] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:11:31,253] - DataReader was closed after 3 ms
DEBUG [2011-04-06 09:11:31,253] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:11:31,253] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:31,253] - Closing connection
DEBUG [2011-04-06 09:11:31,253] - total objects hydrated: 1
DEBUG [2011-04-06 09:11:31,253] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:31,253] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:31,253] - initializing non-lazy collections
DEBUG [2011-04-06 09:11:31,253] - after autocommit
DEBUG [2011-04-06 09:11:31,253] - transaction completion
DEBUG [2011-04-06 09:11:31,253] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:31,253] - [session-id=584055bf-e615-468d-b976-48c76fc71079] opened session at timestamp: 634376778912, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:11:31,253] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,253] - creating new proxy for entity
DEBUG [2011-04-06 09:11:31,253] - after autocommit
DEBUG [2011-04-06 09:11:31,253] - transaction completion
DEBUG [2011-04-06 09:11:31,253] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:31,294] - [session-id=955ea4a8-bb6b-457c-bfe0-6b9b039c2adc] executing real Dispose(False)
DEBUG [2011-04-06 09:11:31,881] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,881] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,881] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,881] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,881] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,881] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:11:31,881] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:11:31,881] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:11:31,881] - binding '4' to parameter: 0
 INFO [2011-04-06 09:11:31,881] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-06 09:11:31,881] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:11:31,881] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:11:31,882] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:11:31,882] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:11:31,882] - processing result set
DEBUG [2011-04-06 09:11:31,882] - result set row: 0
DEBUG [2011-04-06 09:11:31,882] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,882] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,882] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,882] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-06 09:11:31,882] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-06 09:11:31,882] - done processing result set (1 rows)
DEBUG [2011-04-06 09:11:31,882] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:11:31,882] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:11:31,882] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:11:31,882] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:11:31,882] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:31,882] - Closing connection
DEBUG [2011-04-06 09:11:31,882] - total objects hydrated: 1
DEBUG [2011-04-06 09:11:31,882] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,882] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:31,883] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:31,883] - creating new proxy for entity
DEBUG [2011-04-06 09:11:31,883] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:31,883] - initializing non-lazy collections
DEBUG [2011-04-06 09:11:31,883] - done entity load
DEBUG [2011-04-06 09:11:31,883] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:31,883] - checking second-level cache
DEBUG [2011-04-06 09:11:31,883] - collection not cached
DEBUG [2011-04-06 09:11:31,883] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:31,883] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:11:31,883] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:11:31,883] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:11:31,883] - binding '4' to parameter: 0
 INFO [2011-04-06 09:11:31,883] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:11:31,883] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:11:31,883] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:11:31,884] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:11:31,884] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:11:31,884] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:31,884] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:11:31,884] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:11:31,884] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:11:31,884] - processing result set
DEBUG [2011-04-06 09:11:31,884] - result set row: 0
DEBUG [2011-04-06 09:11:31,884] - returning '1' as column: ID2_0_
DEBUG [2011-04-06 09:11:31,884] - result row: EntityKey[nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:11:31,884] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:11:31,884] - Hydrating entity: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:11:31,884] - returning 'nuts' as column: Name2_0_
DEBUG [2011-04-06 09:11:31,884] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:11:31,884] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:31,884] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:11:31,884] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:11:31,884] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:11:31,884] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:11:31,884] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:11:31,884] - loading entity: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:11:31,884] - attempting to resolve: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:11:31,884] - resolved object in session cache: [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:11:31,884] - result set row: 1
DEBUG [2011-04-06 09:11:31,884] - returning '2' as column: ID2_0_
DEBUG [2011-04-06 09:11:31,884] - result row: EntityKey[nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:11:31,884] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:11:31,884] - Hydrating entity: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:11:31,884] - returning 'wafer' as column: Name2_0_
DEBUG [2011-04-06 09:11:31,884] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:11:31,884] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:31,884] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:11:31,884] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:11:31,884] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:11:31,884] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:11:31,884] - returning '2' as column: ID1_
DEBUG [2011-04-06 09:11:31,884] - loading entity: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:11:31,885] - attempting to resolve: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:11:31,885] - resolved object in session cache: [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:11:31,885] - done processing result set (2 rows)
DEBUG [2011-04-06 09:11:31,885] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:11:31,885] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:11:31,885] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:11:31,885] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:11:31,885] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:31,885] - Closing connection
DEBUG [2011-04-06 09:11:31,885] - total objects hydrated: 2
DEBUG [2011-04-06 09:11:31,885] - resolving associations for [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:11:31,885] - done materializing entity [nhibernate_demo.Models.Feature#1]
DEBUG [2011-04-06 09:11:31,885] - resolving associations for [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:11:31,885] - done materializing entity [nhibernate_demo.Models.Feature#2]
DEBUG [2011-04-06 09:11:31,885] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:11:31,885] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:11:31,885] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@1ab341]
DEBUG [2011-04-06 09:11:31,885] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:11:31,885] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@1ab341]
DEBUG [2011-04-06 09:11:31,885] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:31,885] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:11:31,885] - initializing non-lazy collections
DEBUG [2011-04-06 09:11:31,885] - done loading collection
DEBUG [2011-04-06 09:11:31,885] - collection initialized
DEBUG [2011-04-06 09:11:50,206] - [session-id=feee19d4-4194-4007-8707-6dda2f98aa75] opened session at timestamp: 634376779102, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:11:50,207] - Begin (Unspecified)
DEBUG [2011-04-06 09:11:50,207] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:11:50,207] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,207] - creating new proxy for entity
DEBUG [2011-04-06 09:11:50,208] - unsaved-value: 0
DEBUG [2011-04-06 09:11:50,208] - detached instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:11:50,208] - updating detached instance
DEBUG [2011-04-06 09:11:50,209] - updating [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:50,211] - collection dereferenced while transient [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:50,211] - updating [nhibernate_demo.Models.ChocolateBar#4]
 INFO [2011-04-06 09:11:50,212] - processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:11:50,212] - cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:11:50,212] - done cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:11:50,212] - done processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:11:50,212] - Start Commit
DEBUG [2011-04-06 09:11:50,212] - flushing session
DEBUG [2011-04-06 09:11:50,212] - processing flush-time cascades
 INFO [2011-04-06 09:11:50,212] - processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:11:50,212] - cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:11:50,212] - done cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:11:50,212] - done processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:11:50,212] - dirty checking collections
DEBUG [2011-04-06 09:11:50,212] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 09:11:50,212] - Wrapped collection in role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:11:50,215] - Updating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:50,216] - Collection found: [nhibernate_demo.Models.ChocolateBar.Features#4], was: [<unreferenced>] (initialized)
DEBUG [2011-04-06 09:11:50,216] - Processing unreferenced collections
DEBUG [2011-04-06 09:11:50,216] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 09:11:50,216] - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
DEBUG [2011-04-06 09:11:50,216] - Flushed: 1 (re)creations, 0 updates, 1 removals to 1 collections
DEBUG [2011-04-06 09:11:50,216] - listing entities:
DEBUG [2011-04-06 09:11:50,216] - nhibernate_demo.Models.ChocolateBar{'ID'='4', 'Features'='[]', 'Name'='Mr. Big', 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-06 09:11:50,216] - executing flush
DEBUG [2011-04-06 09:11:50,216] - registering flush begin
DEBUG [2011-04-06 09:11:50,225] - Updating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:50,225] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:11:50,225] - Building an IDbCommand object for the SqlString: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 09:11:50,225] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:50,225] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-06 09:11:50,225] - binding '1' to parameter: 1
DEBUG [2011-04-06 09:11:50,226] - binding '4' to parameter: 2
DEBUG [2011-04-06 09:11:50,226] - UPDATE [ChocolateBar] SET Name = @p0, ChocolatierID = @p1 WHERE ID = @p2;@p0 = 'Mr. Big' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)], @p2 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:11:50,226] - Enlist Command
DEBUG [2011-04-06 09:11:50,232] - ExecuteNonQuery took 5 ms
DEBUG [2011-04-06 09:11:50,233] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-06 09:11:50,233] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:11:50,236] - Deleting collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:50,236] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:11:50,236] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 09:11:50,236] - binding '4' to parameter: 0
DEBUG [2011-04-06 09:11:50,236] - UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = @p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:11:50,236] - Enlist Command
DEBUG [2011-04-06 09:11:50,241] - ExecuteNonQuery took 4 ms
DEBUG [2011-04-06 09:11:50,241] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:11:50,241] - done deleting collection
DEBUG [2011-04-06 09:11:50,242] - Inserting collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:50,242] - collection was empty
DEBUG [2011-04-06 09:11:50,242] - registering flush end
DEBUG [2011-04-06 09:11:50,242] - post flush
DEBUG [2011-04-06 09:11:50,242] - before transaction completion
DEBUG [2011-04-06 09:11:50,244] - IDbTransaction Committed
DEBUG [2011-04-06 09:11:50,244] - transaction completion
DEBUG [2011-04-06 09:11:50,244] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:50,244] - Closing connection
DEBUG [2011-04-06 09:11:50,244] - IDbTransaction disposed.
DEBUG [2011-04-06 09:11:50,257] - [session-id=feee19d4-4194-4007-8707-6dda2f98aa75] executing real Dispose(False)
DEBUG [2011-04-06 09:11:50,257] - [session-id=3f3f4224-7455-409d-b6d6-22d4cb5450a5] opened session at timestamp: 634376779102, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:11:50,264] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:11:50,264] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:11:50,265] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 09:11:50,265] - named parameters: {}
DEBUG [2011-04-06 09:11:50,265] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:11:50,265] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 09:11:50,265] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:11:50,265] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:11:50,265] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:11:50,268] - ExecuteReader took 2 ms
DEBUG [2011-04-06 09:11:50,268] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:11:50,268] - processing result set
DEBUG [2011-04-06 09:11:50,268] - result set row: 0
DEBUG [2011-04-06 09:11:50,268] - returning '4' as column: ID0_
DEBUG [2011-04-06 09:11:50,268] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:50,268] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:50,268] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:50,268] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-06 09:11:50,268] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-06 09:11:50,268] - done processing result set (1 rows)
DEBUG [2011-04-06 09:11:50,268] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:11:50,268] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:11:50,268] - DataReader was closed after 3 ms
DEBUG [2011-04-06 09:11:50,268] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:11:50,268] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:50,268] - Closing connection
DEBUG [2011-04-06 09:11:50,268] - total objects hydrated: 1
DEBUG [2011-04-06 09:11:50,268] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:50,268] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:50,268] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,268] - creating new proxy for entity
DEBUG [2011-04-06 09:11:50,269] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:11:50,269] - initializing non-lazy collections
DEBUG [2011-04-06 09:11:50,269] - after autocommit
DEBUG [2011-04-06 09:11:50,269] - transaction completion
DEBUG [2011-04-06 09:11:50,269] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:50,269] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:50,269] - checking second-level cache
DEBUG [2011-04-06 09:11:50,269] - collection not cached
DEBUG [2011-04-06 09:11:50,269] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:50,269] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:11:50,269] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:11:50,269] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:11:50,269] - binding '4' to parameter: 0
 INFO [2011-04-06 09:11:50,269] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:11:50,269] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:11:50,269] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:11:50,270] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:11:50,270] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:11:50,270] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:50,270] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:11:50,270] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:11:50,270] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:11:50,270] - processing result set
DEBUG [2011-04-06 09:11:50,270] - done processing result set (0 rows)
DEBUG [2011-04-06 09:11:50,270] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:11:50,270] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:11:50,270] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:11:50,270] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:11:50,270] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:50,270] - Closing connection
DEBUG [2011-04-06 09:11:50,270] - total objects hydrated: 0
DEBUG [2011-04-06 09:11:50,270] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:11:50,270] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:11:50,270] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@2408611]
DEBUG [2011-04-06 09:11:50,270] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:11:50,270] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@2408611]
DEBUG [2011-04-06 09:11:50,270] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:11:50,270] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:11:50,270] - initializing non-lazy collections
DEBUG [2011-04-06 09:11:50,270] - done loading collection
DEBUG [2011-04-06 09:11:50,270] - collection initialized
DEBUG [2011-04-06 09:11:50,270] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,270] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,270] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,270] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,271] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,271] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:11:50,271] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:11:50,271] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 09:11:50,271] - binding '1' to parameter: 0
 INFO [2011-04-06 09:11:50,271] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 09:11:50,271] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 09:11:50,271] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:11:50,271] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:11:50,271] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:11:50,271] - processing result set
DEBUG [2011-04-06 09:11:50,271] - result set row: 0
DEBUG [2011-04-06 09:11:50,271] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,272] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,272] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,272] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 09:11:50,272] - done processing result set (1 rows)
DEBUG [2011-04-06 09:11:50,272] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:11:50,272] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:11:50,272] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:11:50,272] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:11:50,272] - aggressively releasing database connection
DEBUG [2011-04-06 09:11:50,272] - Closing connection
DEBUG [2011-04-06 09:11:50,272] - total objects hydrated: 1
DEBUG [2011-04-06 09:11:50,272] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,272] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:11:50,272] - initializing non-lazy collections
DEBUG [2011-04-06 09:11:50,272] - done entity load
DEBUG [2011-04-06 09:12:32,021] - [session-id=584055bf-e615-468d-b976-48c76fc71079] executing real Dispose(False)
DEBUG [2011-04-06 09:12:32,021] - [session-id=3f3f4224-7455-409d-b6d6-22d4cb5450a5] executing real Dispose(False)
DEBUG [2011-04-06 09:12:32,022] - [session-id=06bf4328-4d5f-455c-b9c9-6d05953f0736] opened session at timestamp: 634376779520, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:12:32,022] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:12:32,022] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:12:32,022] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 09:12:32,022] - named parameters: {}
DEBUG [2011-04-06 09:12:32,022] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:12:32,022] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 09:12:32,022] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:12:32,022] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:12:32,022] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:12:32,075] - ExecuteReader took 52 ms
DEBUG [2011-04-06 09:12:32,075] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:12:32,075] - processing result set
DEBUG [2011-04-06 09:12:32,075] - result set row: 0
DEBUG [2011-04-06 09:12:32,075] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:12:32,075] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:32,075] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:32,075] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:32,075] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 09:12:32,075] - done processing result set (1 rows)
DEBUG [2011-04-06 09:12:32,075] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:12:32,075] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:12:32,075] - DataReader was closed after 53 ms
DEBUG [2011-04-06 09:12:32,075] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:12:32,075] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:32,075] - Closing connection
DEBUG [2011-04-06 09:12:32,076] - total objects hydrated: 1
DEBUG [2011-04-06 09:12:32,076] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:32,076] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:32,076] - initializing non-lazy collections
DEBUG [2011-04-06 09:12:32,076] - after autocommit
DEBUG [2011-04-06 09:12:32,076] - transaction completion
DEBUG [2011-04-06 09:12:32,076] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:32,076] - [session-id=757d57cc-a855-4b0c-9766-3805752f4616] opened session at timestamp: 634376779520, for session factory: [/0fef36740d274bdfb4d371a3406dae36]
DEBUG [2011-04-06 09:12:32,076] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,076] - creating new proxy for entity
DEBUG [2011-04-06 09:12:32,076] - after autocommit
DEBUG [2011-04-06 09:12:32,076] - transaction completion
DEBUG [2011-04-06 09:12:32,076] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:32,078] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,078] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,078] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,078] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,078] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,078] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:12:32,078] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:12:32,078] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:12:32,078] - binding '4' to parameter: 0
 INFO [2011-04-06 09:12:32,078] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-06 09:12:32,078] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:12:32,078] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:12:32,079] - ExecuteReader took 1 ms
DEBUG [2011-04-06 09:12:32,080] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:12:32,080] - processing result set
DEBUG [2011-04-06 09:12:32,080] - result set row: 0
DEBUG [2011-04-06 09:12:32,080] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,080] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,080] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,080] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-06 09:12:32,080] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-06 09:12:32,080] - done processing result set (1 rows)
DEBUG [2011-04-06 09:12:32,080] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:12:32,080] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:12:32,080] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:12:32,080] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:12:32,080] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:32,080] - Closing connection
DEBUG [2011-04-06 09:12:32,080] - total objects hydrated: 1
DEBUG [2011-04-06 09:12:32,080] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,080] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:32,080] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:32,080] - creating new proxy for entity
DEBUG [2011-04-06 09:12:32,080] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:32,080] - initializing non-lazy collections
DEBUG [2011-04-06 09:12:32,080] - done entity load
DEBUG [2011-04-06 09:12:32,080] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:32,080] - checking second-level cache
DEBUG [2011-04-06 09:12:32,080] - collection not cached
DEBUG [2011-04-06 09:12:32,080] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:32,080] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:12:32,080] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:12:32,080] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:12:32,080] - binding '4' to parameter: 0
 INFO [2011-04-06 09:12:32,080] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:12:32,081] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:12:32,081] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:12:32,081] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:12:32,081] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:12:32,081] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:32,081] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:12:32,081] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:12:32,081] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:12:32,081] - processing result set
DEBUG [2011-04-06 09:12:32,081] - done processing result set (0 rows)
DEBUG [2011-04-06 09:12:32,081] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:12:32,081] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:12:32,081] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:12:32,081] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:12:32,081] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:32,081] - Closing connection
DEBUG [2011-04-06 09:12:32,081] - total objects hydrated: 0
DEBUG [2011-04-06 09:12:32,081] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:12:32,081] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:12:32,082] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@1bb93cc]
DEBUG [2011-04-06 09:12:32,082] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:12:32,082] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@1bb93cc]
DEBUG [2011-04-06 09:12:32,082] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:32,082] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:12:32,082] - initializing non-lazy collections
DEBUG [2011-04-06 09:12:32,082] - done loading collection
DEBUG [2011-04-06 09:12:32,082] - collection initialized
DEBUG [2011-04-06 09:12:32,201] - [session-id=757d57cc-a855-4b0c-9766-3805752f4616] executing real Dispose(False)
DEBUG [2011-04-06 09:12:32,201] - [session-id=06bf4328-4d5f-455c-b9c9-6d05953f0736] executing real Dispose(False)
 INFO [2011-04-06 09:12:39,270] - Starting up
 INFO [2011-04-06 09:12:45,839] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 09:12:45,840] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 09:12:45,849] - Bytecode provider name : lcg
 INFO [2011-04-06 09:12:45,850] - Using reflection optimizer
DEBUG [2011-04-06 09:12:46,287] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag cascade="all" name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 09:12:46,443] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:12:46,499] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 09:12:46,539] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 09:12:46,580] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 09:12:46,584] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 09:12:46,593] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:12:46,603] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 09:12:46,604] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:12:46,605] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 09:12:46,605] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 09:12:46,605] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 09:12:46,607] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 09:12:46,608] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:12:46,608] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 09:12:46,608] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 09:12:46,608] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 09:12:46,613] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:12:46,615] - Running hbm2ddl schema update
 INFO [2011-04-06 09:12:46,616] - fetching database metadata
 INFO [2011-04-06 09:12:46,617] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 09:12:46,618] - Configuring ConnectionProvider
DEBUG [2011-04-06 09:12:46,620] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 09:12:46,651] - updating schema
 INFO [2011-04-06 09:12:46,659] - checking mappings queue
 INFO [2011-04-06 09:12:46,659] - processing one-to-many association mappings
DEBUG [2011-04-06 09:12:46,660] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:12:46,661] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 09:12:46,668] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 09:12:46,668] - processing one-to-one association property references
 INFO [2011-04-06 09:12:46,668] - processing foreign key constraints
DEBUG [2011-04-06 09:12:46,670] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:12:46,672] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:12:46,672] - processing filters (second pass)
 INFO [2011-04-06 09:12:46,706] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-06 09:12:46,707] - columns: id, name, chocolatierid
 INFO [2011-04-06 09:12:46,707] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-06 09:12:46,708] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-06 09:12:46,728] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-06 09:12:46,728] - columns: id, name
 INFO [2011-04-06 09:12:46,728] - foreign keys: 
 INFO [2011-04-06 09:12:46,728] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-06 09:12:46,736] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-06 09:12:46,736] - columns: id, name, chocolatebar_id
 INFO [2011-04-06 09:12:46,736] - foreign keys: fk1328745f39440519
 INFO [2011-04-06 09:12:46,736] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-06 09:12:46,755] - schema update complete
DEBUG [2011-04-06 09:12:46,756] - Closing connection
 INFO [2011-04-06 09:12:46,758] - checking mappings queue
 INFO [2011-04-06 09:12:46,758] - processing one-to-many association mappings
 INFO [2011-04-06 09:12:46,758] - processing one-to-one association property references
 INFO [2011-04-06 09:12:46,758] - processing foreign key constraints
DEBUG [2011-04-06 09:12:46,758] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:12:46,758] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:12:46,758] - processing filters (second pass)
 INFO [2011-04-06 09:12:46,793] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:12:46,825] - Using dialect defined converter
 INFO [2011-04-06 09:12:46,825] - Generate SQL with comments: disabled
 INFO [2011-04-06 09:12:46,825] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 09:12:46,825] - Configuring ConnectionProvider
 INFO [2011-04-06 09:12:46,826] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 09:12:46,827] - Optimize cache for minimal puts: False
 INFO [2011-04-06 09:12:46,827] - Connection release mode: auto
 INFO [2011-04-06 09:12:46,827] - Default batch fetch size: 1
 INFO [2011-04-06 09:12:46,827] - Statistics: disabled
 INFO [2011-04-06 09:12:46,827] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 09:12:46,827] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 09:12:46,829] - Query language substitutions: {}
 INFO [2011-04-06 09:12:46,830] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 09:12:46,830] - Wrap result sets: disabled
 INFO [2011-04-06 09:12:46,831] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 09:12:46,831] - Default entity-mode: Poco
 INFO [2011-04-06 09:12:46,831] - Named query checking : enabled
 INFO [2011-04-06 09:12:46,858] - building session factory
DEBUG [2011-04-06 09:12:46,858] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 09:12:46,859] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=localhost\sql2008r2;Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 09:12:46,860] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:12:46,863] - Closing connection
DEBUG [2011-04-06 09:12:46,953] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:12:46,959] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:12:46,977] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:12:47,014] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:12:47,015] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:12:47,015] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:12:47,016] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:12:47,016] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:12:47,016] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:12:47,050] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:12:47,051] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 09:12:47,051] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-06 09:12:47,051] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 09:12:47,102] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:12:47,102] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 09:12:47,102] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-06 09:12:47,103] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-06 09:12:47,103] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 09:12:47,103] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 09:12:47,103] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:12:47,144] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:12:47,145] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:12:47,145] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:12:47,145] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:12:47,145] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:12:47,157] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_1_, chocolateb0_.Name as Name0_1_, chocolateb0_.ChocolatierID as Chocolat3_0_1_, features1_.ChocolateBar_id as Chocolat3_3_, features1_.ID as ID3_, features1_.ID as ID2_0_, features1_.Name as Name2_0_ FROM [ChocolateBar] chocolateb0_ left outer join [Feature] features1_ on chocolateb0_.ID=features1_.ChocolateBar_id WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:12:47,157] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_1_, chocolateb0_.Name as Name0_1_, chocolateb0_.ChocolatierID as Chocolat3_0_1_, features1_.ChocolateBar_id as Chocolat3_3_, features1_.ID as ID3_, features1_.ID as ID2_0_, features1_.Name as Name2_0_ FROM [ChocolateBar] chocolateb0_ left outer join [Feature] features1_ on chocolateb0_.ID=features1_.ChocolateBar_id WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:12:47,158] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:12:47,158] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 09:12:47,158] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-06 09:12:47,158] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 09:12:47,158] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 09:12:47,158] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 09:12:47,158] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:12:47,158] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:12:47,158] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:12:47,158] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:12:47,158] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:12:47,158] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:12:47,158] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:12:47,158] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:12:47,158] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:12:47,158] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 09:12:47,158] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-06 09:12:47,158] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 09:12:47,158] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 09:12:47,158] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 09:12:47,159] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:12:47,159] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:12:47,159] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:12:47,159] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 09:12:47,159] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 09:12:47,159] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 09:12:47,159] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:12:47,159] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:12:47,165] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:12:47,167] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-06 09:12:47,167] - registered: 605184dede3347ce98ddbcda87742f36(unnamed)
 INFO [2011-04-06 09:12:47,167] - no name configured
DEBUG [2011-04-06 09:12:47,167] - Instantiated session factory
DEBUG [2011-04-06 09:12:47,172] - Checking 0 named HQL queries
DEBUG [2011-04-06 09:12:47,173] - Checking 0 named SQL queries
DEBUG [2011-04-06 09:12:47,188] - [session-id=d5d4a834-4d1a-4150-8130-8865c6613f93] opened session at timestamp: 634376779671, for session factory: [/605184dede3347ce98ddbcda87742f36]
DEBUG [2011-04-06 09:12:47,192] - Begin (Unspecified)
DEBUG [2011-04-06 09:12:47,193] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:12:47,202] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:47,203] - creating new proxy for entity
DEBUG [2011-04-06 09:12:47,398] - unsaved-value: 0
DEBUG [2011-04-06 09:12:47,398] - detached instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:12:47,399] - updating detached instance
DEBUG [2011-04-06 09:12:47,400] - updating [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:47,406] - collection dereferenced while transient [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:47,412] - updating [nhibernate_demo.Models.ChocolateBar#4]
 INFO [2011-04-06 09:12:47,413] - processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:12:47,417] - cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:12:47,418] - done cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:12:47,418] - done processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:12:47,420] - Start Commit
DEBUG [2011-04-06 09:12:47,423] - flushing session
DEBUG [2011-04-06 09:12:47,424] - processing flush-time cascades
 INFO [2011-04-06 09:12:47,427] - processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:12:47,427] - cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:12:47,427] - done cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:12:47,427] - done processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:12:47,427] - dirty checking collections
DEBUG [2011-04-06 09:12:47,428] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 09:12:47,438] - Wrapped collection in role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:12:47,443] - Updating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:47,451] - Collection found: [nhibernate_demo.Models.ChocolateBar.Features#4], was: [<unreferenced>] (initialized)
DEBUG [2011-04-06 09:12:47,454] - Processing unreferenced collections
DEBUG [2011-04-06 09:12:47,454] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 09:12:47,455] - Flushed: 0 insertions, 1 updates, 0 deletions to 1 objects
DEBUG [2011-04-06 09:12:47,455] - Flushed: 1 (re)creations, 0 updates, 1 removals to 1 collections
DEBUG [2011-04-06 09:12:47,456] - listing entities:
DEBUG [2011-04-06 09:12:47,466] - nhibernate_demo.Models.ChocolateBar{'ID'='4', 'Features'='[]', 'Name'='Mr. Big', 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-06 09:12:47,466] - executing flush
DEBUG [2011-04-06 09:12:47,467] - registering flush begin
DEBUG [2011-04-06 09:12:47,478] - Updating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:47,487] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:12:47,487] - Building an IDbCommand object for the SqlString: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 09:12:47,488] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:47,489] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-06 09:12:47,491] - binding '1' to parameter: 1
DEBUG [2011-04-06 09:12:47,491] - binding '4' to parameter: 2
DEBUG [2011-04-06 09:12:47,496] - UPDATE [ChocolateBar] SET Name = @p0, ChocolatierID = @p1 WHERE ID = @p2;@p0 = 'Mr. Big' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)], @p2 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:12:47,497] - Enlist Command
DEBUG [2011-04-06 09:12:47,498] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-06 09:12:47,503] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-06 09:12:47,505] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:12:47,508] - Deleting collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:47,509] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:12:47,509] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 09:12:47,509] - binding '4' to parameter: 0
DEBUG [2011-04-06 09:12:47,509] - UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = @p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:12:47,509] - Enlist Command
DEBUG [2011-04-06 09:12:47,510] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-06 09:12:47,510] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:12:47,510] - done deleting collection
DEBUG [2011-04-06 09:12:47,514] - Inserting collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:47,514] - collection was empty
DEBUG [2011-04-06 09:12:47,517] - registering flush end
DEBUG [2011-04-06 09:12:47,519] - post flush
DEBUG [2011-04-06 09:12:47,521] - before transaction completion
DEBUG [2011-04-06 09:12:47,521] - IDbTransaction Committed
DEBUG [2011-04-06 09:12:47,523] - transaction completion
DEBUG [2011-04-06 09:12:47,523] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:47,523] - Closing connection
DEBUG [2011-04-06 09:12:47,526] - IDbTransaction disposed.
DEBUG [2011-04-06 09:12:47,562] - [session-id=87baab85-a327-48f9-a5fd-9c1e1afcbc8f] opened session at timestamp: 634376779675, for session factory: [/605184dede3347ce98ddbcda87742f36]
DEBUG [2011-04-06 09:12:48,484] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:12:48,777] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 09:12:48,797] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-06 09:12:48,814] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-06 09:12:48,817] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 09:12:48,821] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-06 09:12:48,847] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-06 09:12:48,854] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 09:12:48,855] - throwQueryException() : no errors
DEBUG [2011-04-06 09:12:48,894] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:12:48,894] - throwQueryException() : no errors
DEBUG [2011-04-06 09:12:48,931] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:12:48,934] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 09:12:48,936] - named parameters: {}
DEBUG [2011-04-06 09:12:48,961] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:12:48,961] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 09:12:48,968] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:12:48,969] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:12:48,970] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:12:48,970] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:12:48,971] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:12:48,973] - processing result set
DEBUG [2011-04-06 09:12:48,973] - result set row: 0
DEBUG [2011-04-06 09:12:48,975] - returning '4' as column: ID0_
DEBUG [2011-04-06 09:12:48,977] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:48,984] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:48,986] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:48,986] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-06 09:12:48,986] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-06 09:12:48,990] - done processing result set (1 rows)
DEBUG [2011-04-06 09:12:48,990] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:12:48,990] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:12:48,990] - DataReader was closed after 20 ms
DEBUG [2011-04-06 09:12:48,990] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:12:48,991] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:48,991] - Closing connection
DEBUG [2011-04-06 09:12:48,992] - total objects hydrated: 1
DEBUG [2011-04-06 09:12:48,995] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:48,998] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:49,001] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,001] - creating new proxy for entity
DEBUG [2011-04-06 09:12:49,004] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:12:49,005] - initializing non-lazy collections
DEBUG [2011-04-06 09:12:49,008] - after autocommit
DEBUG [2011-04-06 09:12:49,008] - transaction completion
DEBUG [2011-04-06 09:12:49,008] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:49,014] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:49,014] - checking second-level cache
DEBUG [2011-04-06 09:12:49,015] - collection not cached
DEBUG [2011-04-06 09:12:49,017] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:49,017] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:12:49,017] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:12:49,017] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:12:49,017] - binding '4' to parameter: 0
 INFO [2011-04-06 09:12:49,017] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:12:49,017] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:12:49,018] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:12:49,018] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:12:49,018] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:12:49,018] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:49,020] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:12:49,023] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:12:49,023] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:12:49,025] - processing result set
DEBUG [2011-04-06 09:12:49,026] - done processing result set (0 rows)
DEBUG [2011-04-06 09:12:49,026] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:12:49,026] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:12:49,026] - DataReader was closed after 7 ms
DEBUG [2011-04-06 09:12:49,026] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:12:49,026] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:49,026] - Closing connection
DEBUG [2011-04-06 09:12:49,026] - total objects hydrated: 0
DEBUG [2011-04-06 09:12:49,030] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:12:49,030] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:12:49,030] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@11410e3]
DEBUG [2011-04-06 09:12:49,032] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:12:49,034] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@11410e3]
DEBUG [2011-04-06 09:12:49,038] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:12:49,038] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:12:49,039] - initializing non-lazy collections
DEBUG [2011-04-06 09:12:49,039] - done loading collection
DEBUG [2011-04-06 09:12:49,039] - collection initialized
DEBUG [2011-04-06 09:12:49,041] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,043] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,044] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,045] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,047] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,048] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:12:49,048] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:12:49,048] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 09:12:49,048] - binding '1' to parameter: 0
 INFO [2011-04-06 09:12:49,048] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 09:12:49,048] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 09:12:49,048] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:12:49,048] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:12:49,049] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:12:49,049] - processing result set
DEBUG [2011-04-06 09:12:49,049] - result set row: 0
DEBUG [2011-04-06 09:12:49,049] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,049] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,049] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,049] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 09:12:49,050] - done processing result set (1 rows)
DEBUG [2011-04-06 09:12:49,050] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:12:49,050] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:12:49,050] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:12:49,050] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:12:49,050] - aggressively releasing database connection
DEBUG [2011-04-06 09:12:49,050] - Closing connection
DEBUG [2011-04-06 09:12:49,050] - total objects hydrated: 1
DEBUG [2011-04-06 09:12:49,050] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,050] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:12:49,050] - initializing non-lazy collections
DEBUG [2011-04-06 09:12:49,050] - done entity load
DEBUG [2011-04-06 09:12:49,534] - [session-id=d5d4a834-4d1a-4150-8130-8865c6613f93] executing real Dispose(False)
DEBUG [2011-04-06 09:13:13,987] - [session-id=a38f350f-f2f3-4e04-92a7-dd4079b55893] opened session at timestamp: 634376779939, for session factory: [/605184dede3347ce98ddbcda87742f36]
DEBUG [2011-04-06 09:13:13,988] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:13:13,989] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 09:13:13,989] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_1) -> chocolatie0_
DEBUG [2011-04-06 09:13:13,989] - Resolved :  <generated>_1 -> chocolatie0_.ID
DEBUG [2011-04-06 09:13:13,989] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 09:13:13,993] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-06 09:13:13,994] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-06 09:13:13,994] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 09:13:13,994] - throwQueryException() : no errors
DEBUG [2011-04-06 09:13:13,994] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:13:13,994] - throwQueryException() : no errors
DEBUG [2011-04-06 09:13:13,995] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:13:13,995] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 09:13:13,995] - named parameters: {}
DEBUG [2011-04-06 09:13:13,995] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:13,995] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 09:13:13,995] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:13:13,995] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:13:13,995] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:13:13,996] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:13:13,996] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:13:13,996] - processing result set
DEBUG [2011-04-06 09:13:13,996] - result set row: 0
DEBUG [2011-04-06 09:13:13,996] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:13:13,996] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:13,996] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:13,996] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:13,996] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 09:13:13,996] - done processing result set (1 rows)
DEBUG [2011-04-06 09:13:13,996] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:13:13,996] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:13:13,996] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:13:13,996] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:13,996] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:13,996] - Closing connection
DEBUG [2011-04-06 09:13:13,996] - total objects hydrated: 1
DEBUG [2011-04-06 09:13:13,996] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:13,996] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:13,996] - initializing non-lazy collections
DEBUG [2011-04-06 09:13:13,997] - after autocommit
DEBUG [2011-04-06 09:13:13,997] - transaction completion
DEBUG [2011-04-06 09:13:13,997] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:13,997] - [session-id=ba1bd767-695c-413d-8f91-d51241a20543] opened session at timestamp: 634376779939, for session factory: [/605184dede3347ce98ddbcda87742f36]
DEBUG [2011-04-06 09:13:13,998] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:13,998] - creating new proxy for entity
DEBUG [2011-04-06 09:13:14,016] - after autocommit
DEBUG [2011-04-06 09:13:14,016] - transaction completion
DEBUG [2011-04-06 09:13:14,016] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:14,026] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,026] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,026] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,026] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,026] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,026] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:14,026] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:13:14,026] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:13:14,026] - binding '4' to parameter: 0
 INFO [2011-04-06 09:13:14,026] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-06 09:13:14,026] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:13:14,026] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:13:14,028] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:13:14,028] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:13:14,028] - processing result set
DEBUG [2011-04-06 09:13:14,028] - result set row: 0
DEBUG [2011-04-06 09:13:14,028] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,029] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,029] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,029] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-06 09:13:14,029] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-06 09:13:14,029] - done processing result set (1 rows)
DEBUG [2011-04-06 09:13:14,029] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:13:14,029] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:13:14,029] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:13:14,029] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:14,029] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:14,029] - Closing connection
DEBUG [2011-04-06 09:13:14,029] - total objects hydrated: 1
DEBUG [2011-04-06 09:13:14,029] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,029] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:14,029] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:14,029] - creating new proxy for entity
DEBUG [2011-04-06 09:13:14,030] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:14,030] - initializing non-lazy collections
DEBUG [2011-04-06 09:13:14,030] - done entity load
DEBUG [2011-04-06 09:13:14,030] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:14,030] - checking second-level cache
DEBUG [2011-04-06 09:13:14,030] - collection not cached
DEBUG [2011-04-06 09:13:14,030] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:14,030] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:14,030] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:13:14,030] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:13:14,031] - binding '4' to parameter: 0
 INFO [2011-04-06 09:13:14,031] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:13:14,031] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:13:14,031] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:13:14,033] - ExecuteReader took 2 ms
DEBUG [2011-04-06 09:13:14,033] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:13:14,033] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:14,033] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:13:14,033] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:13:14,033] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:13:14,033] - processing result set
DEBUG [2011-04-06 09:13:14,033] - done processing result set (0 rows)
DEBUG [2011-04-06 09:13:14,033] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:13:14,033] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:13:14,033] - DataReader was closed after 2 ms
DEBUG [2011-04-06 09:13:14,033] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:14,033] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:14,033] - Closing connection
DEBUG [2011-04-06 09:13:14,033] - total objects hydrated: 0
DEBUG [2011-04-06 09:13:14,033] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:13:14,033] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:13:14,033] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@2f21ddb]
DEBUG [2011-04-06 09:13:14,034] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:13:14,034] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@2f21ddb]
DEBUG [2011-04-06 09:13:14,034] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:14,034] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:13:14,034] - initializing non-lazy collections
DEBUG [2011-04-06 09:13:14,034] - done loading collection
DEBUG [2011-04-06 09:13:14,034] - collection initialized
 INFO [2011-04-06 09:13:23,783] - Starting up
 INFO [2011-04-06 09:13:31,664] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 09:13:31,666] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 09:13:31,667] - Bytecode provider name : lcg
 INFO [2011-04-06 09:13:31,668] - Using reflection optimizer
DEBUG [2011-04-06 09:13:32,067] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag cascade="all" name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 09:13:32,228] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:13:32,282] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 09:13:32,330] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 09:13:32,371] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 09:13:32,376] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 09:13:32,386] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:13:32,395] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 09:13:32,396] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:13:32,396] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 09:13:32,396] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 09:13:32,396] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 09:13:32,398] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 09:13:32,399] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:13:32,399] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 09:13:32,399] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 09:13:32,399] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 09:13:32,403] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:13:32,406] - Running hbm2ddl schema update
 INFO [2011-04-06 09:13:32,406] - fetching database metadata
 INFO [2011-04-06 09:13:32,407] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 09:13:32,409] - Configuring ConnectionProvider
DEBUG [2011-04-06 09:13:32,411] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 09:13:32,423] - updating schema
 INFO [2011-04-06 09:13:32,431] - checking mappings queue
 INFO [2011-04-06 09:13:32,432] - processing one-to-many association mappings
DEBUG [2011-04-06 09:13:32,432] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:13:32,433] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 09:13:32,439] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 09:13:32,439] - processing one-to-one association property references
 INFO [2011-04-06 09:13:32,439] - processing foreign key constraints
DEBUG [2011-04-06 09:13:32,442] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:13:32,444] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:13:32,444] - processing filters (second pass)
 INFO [2011-04-06 09:13:32,475] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-06 09:13:32,476] - columns: id, name, chocolatierid
 INFO [2011-04-06 09:13:32,476] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-06 09:13:32,476] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-06 09:13:32,491] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-06 09:13:32,491] - columns: id, name
 INFO [2011-04-06 09:13:32,491] - foreign keys: 
 INFO [2011-04-06 09:13:32,491] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-06 09:13:32,498] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-06 09:13:32,498] - columns: id, name, chocolatebar_id
 INFO [2011-04-06 09:13:32,498] - foreign keys: fk1328745f39440519
 INFO [2011-04-06 09:13:32,498] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-06 09:13:32,517] - schema update complete
DEBUG [2011-04-06 09:13:32,518] - Closing connection
 INFO [2011-04-06 09:13:32,519] - checking mappings queue
 INFO [2011-04-06 09:13:32,519] - processing one-to-many association mappings
 INFO [2011-04-06 09:13:32,519] - processing one-to-one association property references
 INFO [2011-04-06 09:13:32,519] - processing foreign key constraints
DEBUG [2011-04-06 09:13:32,519] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:13:32,519] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:13:32,519] - processing filters (second pass)
 INFO [2011-04-06 09:13:32,552] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:13:32,583] - Using dialect defined converter
 INFO [2011-04-06 09:13:32,584] - Generate SQL with comments: disabled
 INFO [2011-04-06 09:13:32,584] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 09:13:32,584] - Configuring ConnectionProvider
 INFO [2011-04-06 09:13:32,584] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 09:13:32,585] - Optimize cache for minimal puts: False
 INFO [2011-04-06 09:13:32,585] - Connection release mode: auto
 INFO [2011-04-06 09:13:32,585] - Default batch fetch size: 1
 INFO [2011-04-06 09:13:32,585] - Statistics: disabled
 INFO [2011-04-06 09:13:32,585] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 09:13:32,586] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 09:13:32,587] - Query language substitutions: {}
 INFO [2011-04-06 09:13:32,588] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 09:13:32,588] - Wrap result sets: disabled
 INFO [2011-04-06 09:13:32,589] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 09:13:32,589] - Default entity-mode: Poco
 INFO [2011-04-06 09:13:32,589] - Named query checking : enabled
 INFO [2011-04-06 09:13:32,613] - building session factory
DEBUG [2011-04-06 09:13:32,614] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 09:13:32,615] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=localhost\sql2008r2;Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 09:13:32,616] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:13:32,619] - Closing connection
DEBUG [2011-04-06 09:13:32,698] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:13:32,704] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:13:32,719] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:13:32,755] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:13:32,755] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:13:32,756] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:13:32,756] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:32,756] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:32,757] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:32,791] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:13:32,792] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 09:13:32,792] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-06 09:13:32,792] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 09:13:32,846] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:13:32,846] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 09:13:32,846] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-06 09:13:32,846] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-06 09:13:32,846] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 09:13:32,846] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 09:13:32,846] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:13:32,891] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:13:32,892] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:13:32,892] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:13:32,892] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:13:32,892] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:13:32,904] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_1_, chocolateb0_.Name as Name0_1_, chocolateb0_.ChocolatierID as Chocolat3_0_1_, features1_.ChocolateBar_id as Chocolat3_3_, features1_.ID as ID3_, features1_.ID as ID2_0_, features1_.Name as Name2_0_ FROM [ChocolateBar] chocolateb0_ left outer join [Feature] features1_ on chocolateb0_.ID=features1_.ChocolateBar_id WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:13:32,905] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_1_, chocolateb0_.Name as Name0_1_, chocolateb0_.ChocolatierID as Chocolat3_0_1_, features1_.ChocolateBar_id as Chocolat3_3_, features1_.ID as ID3_, features1_.ID as ID2_0_, features1_.Name as Name2_0_ FROM [ChocolateBar] chocolateb0_ left outer join [Feature] features1_ on chocolateb0_.ID=features1_.ChocolateBar_id WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:13:32,906] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:13:32,906] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 09:13:32,906] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-06 09:13:32,906] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 09:13:32,906] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 09:13:32,906] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 09:13:32,906] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:13:32,906] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:13:32,906] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:13:32,906] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:13:32,906] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:13:32,906] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:13:32,906] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:13:32,906] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:13:32,906] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:32,906] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 09:13:32,906] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-06 09:13:32,906] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 09:13:32,906] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 09:13:32,906] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 09:13:32,906] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:13:32,907] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:13:32,907] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:13:32,907] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 09:13:32,907] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 09:13:32,907] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 09:13:32,907] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:13:32,907] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:13:32,912] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:13:32,914] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-06 09:13:32,914] - registered: e72f274a22d34c9a9223fd6863ec0c3a(unnamed)
 INFO [2011-04-06 09:13:32,914] - no name configured
DEBUG [2011-04-06 09:13:32,914] - Instantiated session factory
DEBUG [2011-04-06 09:13:32,923] - Checking 0 named HQL queries
DEBUG [2011-04-06 09:13:32,923] - Checking 0 named SQL queries
DEBUG [2011-04-06 09:13:32,937] - [session-id=0d7d3741-2d08-4c39-8e3b-7a7d26e36825] opened session at timestamp: 634376780129, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:13:32,942] - Begin (Unspecified)
DEBUG [2011-04-06 09:13:32,943] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:13:32,951] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:32,952] - creating new proxy for entity
DEBUG [2011-04-06 09:13:33,144] - unsaved-value: 0
DEBUG [2011-04-06 09:13:33,144] - detached instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:13:33,144] - updating detached instance
DEBUG [2011-04-06 09:13:33,146] - updating [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:33,151] - collection dereferenced while transient [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:33,155] - updating [nhibernate_demo.Models.ChocolateBar#4]
 INFO [2011-04-06 09:13:33,156] - processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:13:33,159] - cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:13:33,160] - cascading to saveOrUpdate: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:33,162] - unsaved-value: 0
DEBUG [2011-04-06 09:13:33,162] - transient instance of: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:33,162] - saving transient instance
DEBUG [2011-04-06 09:13:33,164] - saving [nhibernate_demo.Models.Feature#<null>]
DEBUG [2011-04-06 09:13:33,167] - executing insertions
DEBUG [2011-04-06 09:13:33,172] - executing identity-insert immediately
DEBUG [2011-04-06 09:13:33,174] - Inserting entity: nhibernate_demo.Models.Feature (native id)
DEBUG [2011-04-06 09:13:33,187] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:33,187] - Building an IDbCommand object for the SqlString: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:13:33,189] - Dehydrating entity: [nhibernate_demo.Models.Feature#<null>]
DEBUG [2011-04-06 09:13:33,190] - binding 'nuget' to parameter: 0
DEBUG [2011-04-06 09:13:33,196] - INSERT INTO [Feature] (Name) VALUES (@p0); select SCOPE_IDENTITY();@p0 = 'nuget' [Type: String (4000)]
DEBUG [2011-04-06 09:13:33,197] - Enlist Command
DEBUG [2011-04-06 09:13:33,197] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:13:33,198] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:13:33,200] - returning '3' as column: 
DEBUG [2011-04-06 09:13:33,200] - Natively generated identity: 3
DEBUG [2011-04-06 09:13:33,202] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:13:33,202] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:13:33,202] - DataReader was closed after 5 ms
DEBUG [2011-04-06 09:13:33,203] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:33,209] - cascading to saveOrUpdate: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:33,209] - unsaved-value: 0
DEBUG [2011-04-06 09:13:33,209] - transient instance of: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:33,209] - saving transient instance
DEBUG [2011-04-06 09:13:33,209] - saving [nhibernate_demo.Models.Feature#<null>]
DEBUG [2011-04-06 09:13:33,209] - executing insertions
DEBUG [2011-04-06 09:13:33,209] - executing identity-insert immediately
DEBUG [2011-04-06 09:13:33,209] - Inserting entity: nhibernate_demo.Models.Feature (native id)
DEBUG [2011-04-06 09:13:33,209] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:33,209] - Building an IDbCommand object for the SqlString: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:13:33,209] - Dehydrating entity: [nhibernate_demo.Models.Feature#<null>]
DEBUG [2011-04-06 09:13:33,209] - binding 'nuts' to parameter: 0
DEBUG [2011-04-06 09:13:33,210] - INSERT INTO [Feature] (Name) VALUES (@p0); select SCOPE_IDENTITY();@p0 = 'nuts' [Type: String (4000)]
DEBUG [2011-04-06 09:13:33,210] - Enlist Command
DEBUG [2011-04-06 09:13:33,210] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:13:33,210] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:13:33,210] - returning '4' as column: 
DEBUG [2011-04-06 09:13:33,210] - Natively generated identity: 4
DEBUG [2011-04-06 09:13:33,211] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:13:33,211] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:13:33,211] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:13:33,211] - Closed IDbCommand, open IDbCommands: 0
 INFO [2011-04-06 09:13:33,211] - done cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:13:33,211] - done processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:13:33,212] - Start Commit
DEBUG [2011-04-06 09:13:33,216] - flushing session
DEBUG [2011-04-06 09:13:33,217] - processing flush-time cascades
 INFO [2011-04-06 09:13:33,219] - processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:13:33,220] - cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:13:33,220] - cascading to saveOrUpdate: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:33,220] - persistent instance of: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:33,220] - ignoring persistent instance
DEBUG [2011-04-06 09:13:33,220] - object already associated with session: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:13:33,220] - cascading to saveOrUpdate: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:33,221] - persistent instance of: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:13:33,221] - ignoring persistent instance
DEBUG [2011-04-06 09:13:33,221] - object already associated with session: [nhibernate_demo.Models.Feature#4]
 INFO [2011-04-06 09:13:33,221] - done cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:13:33,221] - done processing cascade NHibernate.Engine.CascadingAction+SaveUpdateCascadingAction for: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:13:33,221] - dirty checking collections
DEBUG [2011-04-06 09:13:33,222] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 09:13:33,233] - Wrapped collection in role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:13:33,237] - Updating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:33,243] - Collection found: [nhibernate_demo.Models.ChocolateBar.Features#4], was: [<unreferenced>] (initialized)
DEBUG [2011-04-06 09:13:33,249] - Processing unreferenced collections
DEBUG [2011-04-06 09:13:33,249] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 09:13:33,250] - Flushed: 0 insertions, 1 updates, 0 deletions to 3 objects
DEBUG [2011-04-06 09:13:33,250] - Flushed: 1 (re)creations, 0 updates, 1 removals to 1 collections
DEBUG [2011-04-06 09:13:33,251] - listing entities:
DEBUG [2011-04-06 09:13:33,262] - nhibernate_demo.Models.ChocolateBar{'ID'='4', 'Features'='['nhibernate_demo.Models.Feature#3', 'nhibernate_demo.Models.Feature#4']', 'Name'='Mr. Big', 'Chocolatier'='nhibernate_demo.Models.Chocolatier#1'}
DEBUG [2011-04-06 09:13:33,262] - nhibernate_demo.Models.Feature{'ID'='3', 'Name'='nuget'}
DEBUG [2011-04-06 09:13:33,262] - nhibernate_demo.Models.Feature{'ID'='4', 'Name'='nuts'}
DEBUG [2011-04-06 09:13:33,262] - executing flush
DEBUG [2011-04-06 09:13:33,263] - registering flush begin
DEBUG [2011-04-06 09:13:33,278] - Updating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:33,280] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:33,280] - Building an IDbCommand object for the SqlString: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 09:13:33,280] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:33,280] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-06 09:13:33,283] - binding '1' to parameter: 1
DEBUG [2011-04-06 09:13:33,284] - binding '4' to parameter: 2
DEBUG [2011-04-06 09:13:33,285] - UPDATE [ChocolateBar] SET Name = @p0, ChocolatierID = @p1 WHERE ID = @p2;@p0 = 'Mr. Big' [Type: String (4000)], @p1 = 1 [Type: Int32 (0)], @p2 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:13:33,285] - Enlist Command
DEBUG [2011-04-06 09:13:33,285] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-06 09:13:33,288] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-06 09:13:33,289] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:33,292] - Deleting collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:33,293] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:33,293] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 09:13:33,293] - binding '4' to parameter: 0
DEBUG [2011-04-06 09:13:33,294] - UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = @p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:13:33,294] - Enlist Command
DEBUG [2011-04-06 09:13:33,294] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-06 09:13:33,294] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:33,294] - done deleting collection
DEBUG [2011-04-06 09:13:33,298] - Inserting collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:33,300] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:33,300] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 09:13:33,300] - binding '4' to parameter: 0
DEBUG [2011-04-06 09:13:33,300] - binding '3' to parameter: 1
DEBUG [2011-04-06 09:13:33,300] - UPDATE [Feature] SET ChocolateBar_id = @p0 WHERE ID = @p1;@p0 = 4 [Type: Int32 (0)], @p1 = 3 [Type: Int32 (0)]
DEBUG [2011-04-06 09:13:33,300] - Enlist Command
DEBUG [2011-04-06 09:13:33,301] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-06 09:13:33,301] - reusing command UPDATE [Feature] SET ChocolateBar_id = @p0 WHERE ID = @p1
DEBUG [2011-04-06 09:13:33,301] - binding '4' to parameter: 0
DEBUG [2011-04-06 09:13:33,301] - binding '4' to parameter: 1
DEBUG [2011-04-06 09:13:33,301] - UPDATE [Feature] SET ChocolateBar_id = @p0 WHERE ID = @p1;@p0 = 4 [Type: Int32 (0)], @p1 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:13:33,301] - Enlist Command
DEBUG [2011-04-06 09:13:33,302] - ExecuteNonQuery took 0 ms
DEBUG [2011-04-06 09:13:33,302] - done inserting collection: 2 rows inserted
DEBUG [2011-04-06 09:13:33,304] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-06 09:13:33,304] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:33,304] - registering flush end
DEBUG [2011-04-06 09:13:33,306] - post flush
DEBUG [2011-04-06 09:13:33,308] - before transaction completion
DEBUG [2011-04-06 09:13:33,310] - IDbTransaction Committed
DEBUG [2011-04-06 09:13:33,311] - transaction completion
DEBUG [2011-04-06 09:13:33,312] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:33,312] - Closing connection
DEBUG [2011-04-06 09:13:33,315] - IDbTransaction disposed.
DEBUG [2011-04-06 09:13:33,327] - [session-id=add69c92-3861-4fb8-b872-0316f26eb4bd] opened session at timestamp: 634376780133, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:13:34,427] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:13:34,790] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 09:13:34,809] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-06 09:13:34,828] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-06 09:13:34,832] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 09:13:34,835] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-06 09:13:34,864] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-06 09:13:34,870] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 09:13:34,871] - throwQueryException() : no errors
DEBUG [2011-04-06 09:13:34,910] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:13:34,910] - throwQueryException() : no errors
DEBUG [2011-04-06 09:13:34,947] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:13:34,951] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 09:13:34,952] - named parameters: {}
DEBUG [2011-04-06 09:13:34,976] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:34,976] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 09:13:34,983] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:13:34,983] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:13:34,983] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:13:34,984] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:13:34,984] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:13:34,986] - processing result set
DEBUG [2011-04-06 09:13:34,986] - result set row: 0
DEBUG [2011-04-06 09:13:34,987] - returning '4' as column: ID0_
DEBUG [2011-04-06 09:13:34,989] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:34,994] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:34,997] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:34,997] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-06 09:13:34,997] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-06 09:13:35,000] - done processing result set (1 rows)
DEBUG [2011-04-06 09:13:35,000] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:13:35,000] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:13:35,000] - DataReader was closed after 17 ms
DEBUG [2011-04-06 09:13:35,000] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:35,001] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:35,001] - Closing connection
DEBUG [2011-04-06 09:13:35,002] - total objects hydrated: 1
DEBUG [2011-04-06 09:13:35,005] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:35,008] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:35,012] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,012] - creating new proxy for entity
DEBUG [2011-04-06 09:13:35,015] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:13:35,016] - initializing non-lazy collections
DEBUG [2011-04-06 09:13:35,018] - after autocommit
DEBUG [2011-04-06 09:13:35,018] - transaction completion
DEBUG [2011-04-06 09:13:35,018] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:35,025] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:35,025] - checking second-level cache
DEBUG [2011-04-06 09:13:35,026] - collection not cached
DEBUG [2011-04-06 09:13:35,029] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:35,030] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:35,030] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:13:35,030] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:13:35,030] - binding '4' to parameter: 0
 INFO [2011-04-06 09:13:35,030] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:13:35,030] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:13:35,030] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:13:35,031] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:13:35,031] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:13:35,032] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:35,033] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:13:35,035] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:13:35,036] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:13:35,038] - processing result set
DEBUG [2011-04-06 09:13:35,039] - result set row: 0
DEBUG [2011-04-06 09:13:35,039] - returning '3' as column: ID2_0_
DEBUG [2011-04-06 09:13:35,039] - result row: EntityKey[nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:13:35,039] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:13:35,039] - Hydrating entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:13:35,039] - returning 'nuget' as column: Name2_0_
DEBUG [2011-04-06 09:13:35,040] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:13:35,040] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:35,040] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:13:35,040] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:13:35,042] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:13:35,042] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:13:35,043] - returning '3' as column: ID1_
DEBUG [2011-04-06 09:13:35,043] - loading entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:13:35,044] - attempting to resolve: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:13:35,047] - resolved object in session cache: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:13:35,047] - result set row: 1
DEBUG [2011-04-06 09:13:35,047] - returning '4' as column: ID2_0_
DEBUG [2011-04-06 09:13:35,047] - result row: EntityKey[nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:13:35,047] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:13:35,047] - Hydrating entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:13:35,047] - returning 'nuts' as column: Name2_0_
DEBUG [2011-04-06 09:13:35,048] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:13:35,048] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:35,048] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:13:35,048] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:13:35,048] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:13:35,048] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:13:35,048] - returning '4' as column: ID1_
DEBUG [2011-04-06 09:13:35,048] - loading entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:13:35,048] - attempting to resolve: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:13:35,048] - resolved object in session cache: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:13:35,048] - done processing result set (2 rows)
DEBUG [2011-04-06 09:13:35,048] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:13:35,048] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:13:35,048] - DataReader was closed after 17 ms
DEBUG [2011-04-06 09:13:35,048] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:35,048] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:35,048] - Closing connection
DEBUG [2011-04-06 09:13:35,048] - total objects hydrated: 2
DEBUG [2011-04-06 09:13:35,048] - resolving associations for [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:13:35,048] - done materializing entity [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:13:35,049] - resolving associations for [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:13:35,049] - done materializing entity [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:13:35,052] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:13:35,052] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:13:35,053] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@2445527]
DEBUG [2011-04-06 09:13:35,054] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:13:35,055] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@2445527]
DEBUG [2011-04-06 09:13:35,057] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:13:35,057] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:13:35,059] - initializing non-lazy collections
DEBUG [2011-04-06 09:13:35,059] - done loading collection
DEBUG [2011-04-06 09:13:35,059] - collection initialized
DEBUG [2011-04-06 09:13:35,060] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,060] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,062] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,063] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,065] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,065] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:13:35,065] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:13:35,065] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 09:13:35,065] - binding '1' to parameter: 0
 INFO [2011-04-06 09:13:35,065] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 09:13:35,065] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 09:13:35,065] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:13:35,066] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:13:35,066] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:13:35,067] - processing result set
DEBUG [2011-04-06 09:13:35,067] - result set row: 0
DEBUG [2011-04-06 09:13:35,067] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,067] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,067] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,067] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 09:13:35,067] - done processing result set (1 rows)
DEBUG [2011-04-06 09:13:35,067] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:13:35,067] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:13:35,067] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:13:35,067] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:13:35,067] - aggressively releasing database connection
DEBUG [2011-04-06 09:13:35,067] - Closing connection
DEBUG [2011-04-06 09:13:35,067] - total objects hydrated: 1
DEBUG [2011-04-06 09:13:35,067] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,068] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:13:35,068] - initializing non-lazy collections
DEBUG [2011-04-06 09:13:35,068] - done entity load
DEBUG [2011-04-06 09:13:35,629] - [session-id=0d7d3741-2d08-4c39-8e3b-7a7d26e36825] executing real Dispose(False)
DEBUG [2011-04-06 09:38:27,110] - [session-id=aa7e83d1-50fc-4b08-8cd2-ad5991f206e4] opened session at timestamp: 634376795071, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:38:27,111] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:38:27,113] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 09:38:27,113] - FromClause{level=1} :  nhibernate_demo.Models.Chocolatier (<generated>_1) -> chocolatie0_
DEBUG [2011-04-06 09:38:27,113] - Resolved :  <generated>_1 -> chocolatie0_.ID
DEBUG [2011-04-06 09:38:27,113] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 09:38:27,113] - processQuery() : ( SELECT ( {select clause} chocolatie0_.ID ) ( FromClause{level=1} [Chocolatier] chocolatie0_ ) )
DEBUG [2011-04-06 09:38:27,113] - Using FROM fragment [[Chocolatier] chocolatie0_]
DEBUG [2011-04-06 09:38:27,113] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 09:38:27,113] - throwQueryException() : no errors
DEBUG [2011-04-06 09:38:27,113] - SQL: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:38:27,113] - throwQueryException() : no errors
DEBUG [2011-04-06 09:38:27,114] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:38:27,114] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 09:38:27,114] - named parameters: {}
DEBUG [2011-04-06 09:38:27,114] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:38:27,114] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 09:38:27,114] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:38:27,114] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:38:27,114] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:38:27,124] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:38:27,124] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:38:27,124] - processing result set
DEBUG [2011-04-06 09:38:27,124] - result set row: 0
DEBUG [2011-04-06 09:38:27,124] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:38:27,124] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:27,124] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:27,124] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:27,124] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 09:38:27,124] - done processing result set (1 rows)
DEBUG [2011-04-06 09:38:27,124] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:38:27,124] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:38:27,124] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:38:27,124] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:38:27,124] - aggressively releasing database connection
DEBUG [2011-04-06 09:38:27,124] - Closing connection
DEBUG [2011-04-06 09:38:27,125] - total objects hydrated: 1
DEBUG [2011-04-06 09:38:27,125] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:27,125] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:27,125] - initializing non-lazy collections
DEBUG [2011-04-06 09:38:27,125] - after autocommit
DEBUG [2011-04-06 09:38:27,125] - transaction completion
DEBUG [2011-04-06 09:38:27,125] - aggressively releasing database connection
DEBUG [2011-04-06 09:38:27,126] - [session-id=d0d1eb94-727b-4d45-bbd8-43556dc85d3a] opened session at timestamp: 634376795071, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:38:27,126] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,126] - creating new proxy for entity
DEBUG [2011-04-06 09:38:27,142] - after autocommit
DEBUG [2011-04-06 09:38:27,142] - transaction completion
DEBUG [2011-04-06 09:38:27,142] - aggressively releasing database connection
DEBUG [2011-04-06 09:38:27,153] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,153] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,153] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,153] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,153] - loading entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,153] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:38:27,153] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:38:27,153] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:38:27,153] - binding '4' to parameter: 0
 INFO [2011-04-06 09:38:27,153] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-06 09:38:27,153] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:38:27,153] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:38:27,154] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:38:27,154] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:38:27,154] - processing result set
DEBUG [2011-04-06 09:38:27,154] - result set row: 0
DEBUG [2011-04-06 09:38:27,154] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,154] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,154] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,154] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-06 09:38:27,154] - returning '1' as column: Chocolat3_0_0_
DEBUG [2011-04-06 09:38:27,154] - done processing result set (1 rows)
DEBUG [2011-04-06 09:38:27,154] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:38:27,154] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:38:27,154] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:38:27,154] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:38:27,154] - aggressively releasing database connection
DEBUG [2011-04-06 09:38:27,154] - Closing connection
DEBUG [2011-04-06 09:38:27,154] - total objects hydrated: 1
DEBUG [2011-04-06 09:38:27,154] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,154] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:27,154] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:27,154] - creating new proxy for entity
DEBUG [2011-04-06 09:38:27,155] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:27,155] - initializing non-lazy collections
DEBUG [2011-04-06 09:38:27,155] - done entity load
DEBUG [2011-04-06 09:38:27,155] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:27,155] - checking second-level cache
DEBUG [2011-04-06 09:38:27,155] - collection not cached
DEBUG [2011-04-06 09:38:27,155] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:27,155] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:38:27,155] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:38:27,155] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:38:27,155] - binding '4' to parameter: 0
 INFO [2011-04-06 09:38:27,155] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:38:27,156] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:38:27,156] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:38:27,156] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:38:27,156] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:38:27,156] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:27,156] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:38:27,156] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:38:27,157] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:38:27,157] - processing result set
DEBUG [2011-04-06 09:38:27,157] - result set row: 0
DEBUG [2011-04-06 09:38:27,157] - returning '3' as column: ID2_0_
DEBUG [2011-04-06 09:38:27,157] - result row: EntityKey[nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:27,157] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:27,157] - Hydrating entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:27,157] - returning 'nuget' as column: Name2_0_
DEBUG [2011-04-06 09:38:27,157] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:38:27,157] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:27,157] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:38:27,157] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:38:27,157] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:38:27,157] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:38:27,157] - returning '3' as column: ID1_
DEBUG [2011-04-06 09:38:27,157] - loading entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:27,157] - attempting to resolve: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:27,157] - resolved object in session cache: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:27,157] - result set row: 1
DEBUG [2011-04-06 09:38:27,157] - returning '4' as column: ID2_0_
DEBUG [2011-04-06 09:38:27,157] - result row: EntityKey[nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:27,157] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:27,157] - Hydrating entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:27,157] - returning 'nuts' as column: Name2_0_
DEBUG [2011-04-06 09:38:27,157] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:38:27,157] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:27,157] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:38:27,157] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:38:27,157] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:38:27,157] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:38:27,157] - returning '4' as column: ID1_
DEBUG [2011-04-06 09:38:27,157] - loading entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:27,157] - attempting to resolve: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:27,157] - resolved object in session cache: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:27,157] - done processing result set (2 rows)
DEBUG [2011-04-06 09:38:27,157] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:38:27,157] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:38:27,157] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:38:27,157] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:38:27,157] - aggressively releasing database connection
DEBUG [2011-04-06 09:38:27,157] - Closing connection
DEBUG [2011-04-06 09:38:27,157] - total objects hydrated: 2
DEBUG [2011-04-06 09:38:27,157] - resolving associations for [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:27,157] - done materializing entity [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:27,158] - resolving associations for [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:27,158] - done materializing entity [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:27,158] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:38:27,158] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:38:27,158] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@3df8cec]
DEBUG [2011-04-06 09:38:27,158] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:38:27,158] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@3df8cec]
DEBUG [2011-04-06 09:38:27,158] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:27,158] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:38:27,158] - initializing non-lazy collections
DEBUG [2011-04-06 09:38:27,158] - done loading collection
DEBUG [2011-04-06 09:38:27,158] - collection initialized
DEBUG [2011-04-06 09:38:31,713] - [session-id=58c5e746-3d98-4788-b301-39b3d01af1f4] opened session at timestamp: 634376795117, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:38:31,715] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:38:31,716] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:38:31,716] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 09:38:31,716] - named parameters: {}
DEBUG [2011-04-06 09:38:31,716] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:38:31,716] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 09:38:31,716] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:38:31,716] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:38:31,716] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:38:31,716] - [session-id=d0d1eb94-727b-4d45-bbd8-43556dc85d3a] executing real Dispose(False)
DEBUG [2011-04-06 09:38:31,717] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:38:31,717] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:38:31,717] - processing result set
DEBUG [2011-04-06 09:38:31,717] - result set row: 0
DEBUG [2011-04-06 09:38:31,717] - returning '4' as column: ID0_
DEBUG [2011-04-06 09:38:31,717] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:31,717] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:31,717] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:31,717] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-06 09:38:31,717] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-06 09:38:31,717] - done processing result set (1 rows)
DEBUG [2011-04-06 09:38:31,717] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:38:31,717] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:38:31,717] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:38:31,717] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:38:31,717] - aggressively releasing database connection
DEBUG [2011-04-06 09:38:31,717] - Closing connection
DEBUG [2011-04-06 09:38:31,717] - total objects hydrated: 1
DEBUG [2011-04-06 09:38:31,717] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:31,717] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:31,717] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,717] - creating new proxy for entity
DEBUG [2011-04-06 09:38:31,718] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:38:31,718] - initializing non-lazy collections
DEBUG [2011-04-06 09:38:31,718] - after autocommit
DEBUG [2011-04-06 09:38:31,718] - transaction completion
DEBUG [2011-04-06 09:38:31,718] - aggressively releasing database connection
DEBUG [2011-04-06 09:38:31,718] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:31,718] - checking second-level cache
DEBUG [2011-04-06 09:38:31,718] - collection not cached
DEBUG [2011-04-06 09:38:31,718] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:31,718] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:38:31,718] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:38:31,718] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:38:31,718] - binding '4' to parameter: 0
 INFO [2011-04-06 09:38:31,718] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:38:31,718] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:38:31,718] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:38:31,720] - ExecuteReader took 1 ms
DEBUG [2011-04-06 09:38:31,720] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:38:31,720] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:31,720] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:38:31,720] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:38:31,720] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:38:31,720] - processing result set
DEBUG [2011-04-06 09:38:31,720] - result set row: 0
DEBUG [2011-04-06 09:38:31,720] - returning '3' as column: ID2_0_
DEBUG [2011-04-06 09:38:31,720] - result row: EntityKey[nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:31,720] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:31,720] - Hydrating entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:31,720] - returning 'nuget' as column: Name2_0_
DEBUG [2011-04-06 09:38:31,720] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:38:31,720] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:31,720] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:38:31,720] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:38:31,720] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:38:31,720] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:38:31,720] - returning '3' as column: ID1_
DEBUG [2011-04-06 09:38:31,720] - loading entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:31,721] - attempting to resolve: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:31,721] - resolved object in session cache: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:31,721] - result set row: 1
DEBUG [2011-04-06 09:38:31,721] - returning '4' as column: ID2_0_
DEBUG [2011-04-06 09:38:31,721] - result row: EntityKey[nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:31,721] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:31,721] - Hydrating entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:31,721] - returning 'nuts' as column: Name2_0_
DEBUG [2011-04-06 09:38:31,721] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:38:31,721] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:31,721] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:38:31,721] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:38:31,721] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:38:31,721] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:38:31,721] - returning '4' as column: ID1_
DEBUG [2011-04-06 09:38:31,721] - loading entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:31,721] - attempting to resolve: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:31,721] - resolved object in session cache: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:31,721] - done processing result set (2 rows)
DEBUG [2011-04-06 09:38:31,721] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:38:31,721] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:38:31,721] - DataReader was closed after 2 ms
DEBUG [2011-04-06 09:38:31,721] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:38:31,721] - aggressively releasing database connection
DEBUG [2011-04-06 09:38:31,721] - Closing connection
DEBUG [2011-04-06 09:38:31,721] - total objects hydrated: 2
DEBUG [2011-04-06 09:38:31,721] - resolving associations for [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:31,721] - done materializing entity [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:38:31,721] - resolving associations for [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:31,721] - done materializing entity [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:38:31,721] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:38:31,721] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:38:31,721] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@1af9cf9]
DEBUG [2011-04-06 09:38:31,721] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:38:31,721] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@1af9cf9]
DEBUG [2011-04-06 09:38:31,721] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:38:31,721] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:38:31,721] - initializing non-lazy collections
DEBUG [2011-04-06 09:38:31,721] - done loading collection
DEBUG [2011-04-06 09:38:31,721] - collection initialized
DEBUG [2011-04-06 09:38:31,721] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,721] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,721] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,721] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,721] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,722] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:38:31,722] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:38:31,722] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 09:38:31,722] - binding '1' to parameter: 0
 INFO [2011-04-06 09:38:31,722] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 09:38:31,722] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 09:38:31,722] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:38:31,724] - ExecuteReader took 2 ms
DEBUG [2011-04-06 09:38:31,724] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:38:31,724] - processing result set
DEBUG [2011-04-06 09:38:31,724] - result set row: 0
DEBUG [2011-04-06 09:38:31,724] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,724] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,724] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,724] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 09:38:31,724] - done processing result set (1 rows)
DEBUG [2011-04-06 09:38:31,725] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:38:31,725] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:38:31,725] - DataReader was closed after 2 ms
DEBUG [2011-04-06 09:38:31,725] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:38:31,725] - aggressively releasing database connection
DEBUG [2011-04-06 09:38:31,725] - Closing connection
DEBUG [2011-04-06 09:38:31,725] - total objects hydrated: 1
DEBUG [2011-04-06 09:38:31,725] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,725] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:38:31,725] - initializing non-lazy collections
DEBUG [2011-04-06 09:38:31,725] - done entity load
DEBUG [2011-04-06 09:38:33,984] - [session-id=067f2205-85a1-4639-aa96-4c5e4e378598] opened session at timestamp: 634376795139, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:38:33,993] - [session-id=58c5e746-3d98-4788-b301-39b3d01af1f4] executing real Dispose(False)
DEBUG [2011-04-06 09:39:20,074] - [session-id=80357443-7147-46bb-a39e-e0843ffda78e] opened session at timestamp: 634376795600, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:39:20,601] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:39:20,602] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:39:20,602] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 09:39:20,602] - named parameters: {}
DEBUG [2011-04-06 09:39:20,602] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:39:20,602] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 09:39:20,602] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:39:20,602] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:39:20,602] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:39:20,603] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:39:20,603] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:39:20,603] - processing result set
DEBUG [2011-04-06 09:39:20,603] - result set row: 0
DEBUG [2011-04-06 09:39:20,603] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:39:20,603] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:20,603] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:20,603] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:20,603] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 09:39:20,603] - done processing result set (1 rows)
DEBUG [2011-04-06 09:39:20,603] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:39:20,603] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:39:20,603] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:39:20,603] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:39:20,603] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:20,603] - Closing connection
DEBUG [2011-04-06 09:39:20,603] - total objects hydrated: 1
DEBUG [2011-04-06 09:39:20,603] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:20,603] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:20,603] - initializing non-lazy collections
DEBUG [2011-04-06 09:39:20,603] - after autocommit
DEBUG [2011-04-06 09:39:20,603] - transaction completion
DEBUG [2011-04-06 09:39:20,603] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:20,609] - [session-id=067f2205-85a1-4639-aa96-4c5e4e378598] executing real Dispose(False)
DEBUG [2011-04-06 09:39:22,171] - [session-id=2725050f-77db-42ff-a52f-1e1ff3ec569d] opened session at timestamp: 634376795621, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:39:22,172] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,172] - creating new proxy for entity
DEBUG [2011-04-06 09:39:22,172] - after autocommit
DEBUG [2011-04-06 09:39:22,172] - transaction completion
DEBUG [2011-04-06 09:39:22,172] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:22,231] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,231] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,232] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,232] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,232] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,232] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:39:22,232] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:39:22,232] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 09:39:22,232] - binding '1' to parameter: 0
 INFO [2011-04-06 09:39:22,232] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 09:39:22,232] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 09:39:22,232] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:39:22,232] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:39:22,233] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:39:22,233] - processing result set
DEBUG [2011-04-06 09:39:22,233] - result set row: 0
DEBUG [2011-04-06 09:39:22,233] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,233] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,233] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,233] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 09:39:22,233] - done processing result set (1 rows)
DEBUG [2011-04-06 09:39:22,233] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:39:22,233] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:39:22,233] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:39:22,233] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:39:22,233] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:22,233] - Closing connection
DEBUG [2011-04-06 09:39:22,233] - total objects hydrated: 1
DEBUG [2011-04-06 09:39:22,233] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,233] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:22,233] - initializing non-lazy collections
DEBUG [2011-04-06 09:39:22,233] - done entity load
DEBUG [2011-04-06 09:39:31,341] - [session-id=7ea38a79-5848-4579-9100-b7e6f97a4a3f] opened session at timestamp: 634376795713, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:39:31,342] - Begin (Unspecified)
DEBUG [2011-04-06 09:39:31,342] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:39:31,343] - unsaved-value: 0
DEBUG [2011-04-06 09:39:31,343] - transient instance of: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:39:31,343] - saving transient instance
DEBUG [2011-04-06 09:39:31,343] - saving [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-06 09:39:31,343] - executing insertions
DEBUG [2011-04-06 09:39:31,343] - executing identity-insert immediately
DEBUG [2011-04-06 09:39:31,343] - Inserting entity: nhibernate_demo.Models.Chocolatier (native id)
DEBUG [2011-04-06 09:39:31,343] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:39:31,343] - Building an IDbCommand object for the SqlString: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:39:31,343] - Dehydrating entity: [nhibernate_demo.Models.Chocolatier#<null>]
DEBUG [2011-04-06 09:39:31,343] - binding 'Cadbury' to parameter: 0
DEBUG [2011-04-06 09:39:31,343] - INSERT INTO [Chocolatier] (Name) VALUES (@p0); select SCOPE_IDENTITY();@p0 = 'Cadbury' [Type: String (4000)]
DEBUG [2011-04-06 09:39:31,343] - Enlist Command
DEBUG [2011-04-06 09:39:31,344] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:39:31,344] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:39:31,344] - returning '3' as column: 
DEBUG [2011-04-06 09:39:31,344] - Natively generated identity: 3
DEBUG [2011-04-06 09:39:31,344] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:39:31,344] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:39:31,344] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:39:31,344] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:39:31,344] - Start Commit
DEBUG [2011-04-06 09:39:31,344] - flushing session
DEBUG [2011-04-06 09:39:31,344] - processing flush-time cascades
DEBUG [2011-04-06 09:39:31,344] - dirty checking collections
DEBUG [2011-04-06 09:39:31,344] - Flushing entities and processing referenced collections
DEBUG [2011-04-06 09:39:31,344] - Processing unreferenced collections
DEBUG [2011-04-06 09:39:31,344] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-06 09:39:31,344] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-06 09:39:31,344] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-06 09:39:31,344] - listing entities:
DEBUG [2011-04-06 09:39:31,344] - nhibernate_demo.Models.Chocolatier{'ID'='3', 'Name'='Cadbury'}
DEBUG [2011-04-06 09:39:31,344] - executing flush
DEBUG [2011-04-06 09:39:31,344] - registering flush begin
DEBUG [2011-04-06 09:39:31,344] - registering flush end
DEBUG [2011-04-06 09:39:31,344] - post flush
DEBUG [2011-04-06 09:39:31,344] - before transaction completion
DEBUG [2011-04-06 09:39:31,345] - IDbTransaction Committed
DEBUG [2011-04-06 09:39:31,345] - transaction completion
DEBUG [2011-04-06 09:39:31,345] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:31,345] - Closing connection
DEBUG [2011-04-06 09:39:31,346] - IDbTransaction disposed.
DEBUG [2011-04-06 09:39:31,387] - [session-id=7ea38a79-5848-4579-9100-b7e6f97a4a3f] executing real Dispose(False)
DEBUG [2011-04-06 09:39:31,387] - [session-id=e457b3bc-69d0-4781-b7c8-af439c2890c9] opened session at timestamp: 634376795713, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:39:31,388] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:39:31,389] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier])
DEBUG [2011-04-06 09:39:31,389] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.Chocolatier]
DEBUG [2011-04-06 09:39:31,389] - named parameters: {}
DEBUG [2011-04-06 09:39:31,389] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:39:31,389] - Building an IDbCommand object for the SqlString: select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
 INFO [2011-04-06 09:39:31,389] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:39:31,389] - select chocolatie0_.ID as ID1_, chocolatie0_.Name as Name1_ from [Chocolatier] chocolatie0_
DEBUG [2011-04-06 09:39:31,389] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:39:31,390] - ExecuteReader took 1 ms
DEBUG [2011-04-06 09:39:31,390] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:39:31,390] - processing result set
DEBUG [2011-04-06 09:39:31,390] - result set row: 0
DEBUG [2011-04-06 09:39:31,390] - returning '1' as column: ID1_
DEBUG [2011-04-06 09:39:31,390] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:31,390] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:31,390] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:31,391] - returning 'Hershey' as column: Name1_
DEBUG [2011-04-06 09:39:31,391] - result set row: 1
DEBUG [2011-04-06 09:39:31,391] - returning '3' as column: ID1_
DEBUG [2011-04-06 09:39:31,391] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#3]
DEBUG [2011-04-06 09:39:31,391] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#3]
DEBUG [2011-04-06 09:39:31,391] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#3]
DEBUG [2011-04-06 09:39:31,391] - returning 'Cadbury' as column: Name1_
DEBUG [2011-04-06 09:39:31,391] - done processing result set (2 rows)
DEBUG [2011-04-06 09:39:31,391] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:39:31,391] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:39:31,391] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:39:31,391] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:39:31,391] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:31,391] - Closing connection
DEBUG [2011-04-06 09:39:31,391] - total objects hydrated: 2
DEBUG [2011-04-06 09:39:31,391] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:31,391] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:31,391] - resolving associations for [nhibernate_demo.Models.Chocolatier#3]
DEBUG [2011-04-06 09:39:31,391] - done materializing entity [nhibernate_demo.Models.Chocolatier#3]
DEBUG [2011-04-06 09:39:31,391] - initializing non-lazy collections
DEBUG [2011-04-06 09:39:31,391] - after autocommit
DEBUG [2011-04-06 09:39:31,391] - transaction completion
DEBUG [2011-04-06 09:39:31,391] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:34,157] - [session-id=dee93f07-2420-4fe6-8702-6d234197dcbf] opened session at timestamp: 634376795741, for session factory: [/e72f274a22d34c9a9223fd6863ec0c3a]
DEBUG [2011-04-06 09:39:34,162] - [session-id=e457b3bc-69d0-4781-b7c8-af439c2890c9] executing real Dispose(False)
DEBUG [2011-04-06 09:39:34,179] - [session-id=80357443-7147-46bb-a39e-e0843ffda78e] executing real Dispose(False)
DEBUG [2011-04-06 09:39:34,179] - [session-id=2725050f-77db-42ff-a52f-1e1ff3ec569d] executing real Dispose(False)
DEBUG [2011-04-06 09:39:34,689] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:39:34,689] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:39:34,689] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 09:39:34,689] - named parameters: {}
DEBUG [2011-04-06 09:39:34,689] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:39:34,689] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 09:39:34,689] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:39:34,689] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:39:34,689] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:39:34,690] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:39:34,691] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:39:34,691] - processing result set
DEBUG [2011-04-06 09:39:34,691] - result set row: 0
DEBUG [2011-04-06 09:39:34,691] - returning '4' as column: ID0_
DEBUG [2011-04-06 09:39:34,691] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:39:34,691] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:39:34,691] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:39:34,691] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-06 09:39:34,691] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-06 09:39:34,691] - done processing result set (1 rows)
DEBUG [2011-04-06 09:39:34,691] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:39:34,691] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:39:34,691] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:39:34,691] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:39:34,691] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:34,691] - Closing connection
DEBUG [2011-04-06 09:39:34,691] - total objects hydrated: 1
DEBUG [2011-04-06 09:39:34,691] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:39:34,691] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:39:34,691] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,691] - creating new proxy for entity
DEBUG [2011-04-06 09:39:34,691] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:39:34,691] - initializing non-lazy collections
DEBUG [2011-04-06 09:39:34,691] - after autocommit
DEBUG [2011-04-06 09:39:34,691] - transaction completion
DEBUG [2011-04-06 09:39:34,691] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:34,692] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:39:34,692] - checking second-level cache
DEBUG [2011-04-06 09:39:34,692] - collection not cached
DEBUG [2011-04-06 09:39:34,692] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:39:34,692] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:39:34,692] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:39:34,692] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:39:34,692] - binding '4' to parameter: 0
 INFO [2011-04-06 09:39:34,692] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:39:34,692] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:39:34,692] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:39:34,693] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:39:34,693] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:39:34,693] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:39:34,693] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:39:34,693] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:39:34,693] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:39:34,693] - processing result set
DEBUG [2011-04-06 09:39:34,693] - result set row: 0
DEBUG [2011-04-06 09:39:34,693] - returning '3' as column: ID2_0_
DEBUG [2011-04-06 09:39:34,693] - result row: EntityKey[nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:39:34,693] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:39:34,693] - Hydrating entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:39:34,693] - returning 'nuget' as column: Name2_0_
DEBUG [2011-04-06 09:39:34,693] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:39:34,693] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:39:34,693] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:39:34,693] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:39:34,693] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:39:34,693] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:39:34,693] - returning '3' as column: ID1_
DEBUG [2011-04-06 09:39:34,693] - loading entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:39:34,693] - attempting to resolve: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:39:34,693] - resolved object in session cache: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:39:34,693] - result set row: 1
DEBUG [2011-04-06 09:39:34,693] - returning '4' as column: ID2_0_
DEBUG [2011-04-06 09:39:34,693] - result row: EntityKey[nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:39:34,693] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:39:34,693] - Hydrating entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:39:34,694] - returning 'nuts' as column: Name2_0_
DEBUG [2011-04-06 09:39:34,694] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:39:34,694] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:39:34,694] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:39:34,694] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:39:34,694] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:39:34,694] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:39:34,694] - returning '4' as column: ID1_
DEBUG [2011-04-06 09:39:34,694] - loading entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:39:34,694] - attempting to resolve: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:39:34,694] - resolved object in session cache: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:39:34,694] - done processing result set (2 rows)
DEBUG [2011-04-06 09:39:34,694] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:39:34,694] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:39:34,694] - DataReader was closed after 1 ms
DEBUG [2011-04-06 09:39:34,694] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:39:34,694] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:34,694] - Closing connection
DEBUG [2011-04-06 09:39:34,694] - total objects hydrated: 2
DEBUG [2011-04-06 09:39:34,694] - resolving associations for [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:39:34,694] - done materializing entity [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:39:34,694] - resolving associations for [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:39:34,694] - done materializing entity [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:39:34,694] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:39:34,694] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:39:34,694] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@ef759b]
DEBUG [2011-04-06 09:39:34,694] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:39:34,694] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@ef759b]
DEBUG [2011-04-06 09:39:34,694] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:39:34,694] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:39:34,694] - initializing non-lazy collections
DEBUG [2011-04-06 09:39:34,694] - done loading collection
DEBUG [2011-04-06 09:39:34,694] - collection initialized
DEBUG [2011-04-06 09:39:34,694] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,694] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,694] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,694] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,694] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,694] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:39:34,694] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:39:34,694] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 09:39:34,695] - binding '1' to parameter: 0
 INFO [2011-04-06 09:39:34,695] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 09:39:34,695] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 09:39:34,695] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:39:34,695] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:39:34,695] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:39:34,695] - processing result set
DEBUG [2011-04-06 09:39:34,695] - result set row: 0
DEBUG [2011-04-06 09:39:34,695] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,695] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,695] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,695] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 09:39:34,695] - done processing result set (1 rows)
DEBUG [2011-04-06 09:39:34,695] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:39:34,696] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:39:34,696] - DataReader was closed after 0 ms
DEBUG [2011-04-06 09:39:34,696] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:39:34,696] - aggressively releasing database connection
DEBUG [2011-04-06 09:39:34,696] - Closing connection
DEBUG [2011-04-06 09:39:34,696] - total objects hydrated: 1
DEBUG [2011-04-06 09:39:34,696] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,696] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:39:34,696] - initializing non-lazy collections
DEBUG [2011-04-06 09:39:34,696] - done entity load
 INFO [2011-04-06 09:46:46,816] - Starting up
 INFO [2011-04-06 09:48:47,676] - Starting up
 INFO [2011-04-06 09:48:48,329] - Startup complete
 INFO [2011-04-06 09:48:49,318] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-06 09:48:49,319] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-06 09:48:49,319] - Bytecode provider name : lcg
 INFO [2011-04-06 09:48:49,320] - Using reflection optimizer
DEBUG [2011-04-06 09:48:49,708] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag cascade="all" name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-06 09:48:49,869] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:48:49,924] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-06 09:48:49,961] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 09:48:50,005] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-06 09:48:50,010] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 09:48:50,019] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:48:50,029] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 09:48:50,030] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:48:50,031] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-06 09:48:50,031] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 09:48:50,031] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-06 09:48:50,032] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-06 09:48:50,033] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:48:50,033] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-06 09:48:50,033] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-06 09:48:50,033] - Mapped property: Name -> Name, type: String
 INFO [2011-04-06 09:48:50,038] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:48:50,040] - Running hbm2ddl schema update
 INFO [2011-04-06 09:48:50,041] - fetching database metadata
 INFO [2011-04-06 09:48:50,042] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 09:48:50,043] - Configuring ConnectionProvider
DEBUG [2011-04-06 09:48:50,045] - Obtaining IDbConnection from Driver
 INFO [2011-04-06 09:48:50,056] - updating schema
 INFO [2011-04-06 09:48:50,065] - checking mappings queue
 INFO [2011-04-06 09:48:50,065] - processing one-to-many association mappings
DEBUG [2011-04-06 09:48:50,065] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-06 09:48:50,067] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-06 09:48:50,072] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-06 09:48:50,072] - processing one-to-one association property references
 INFO [2011-04-06 09:48:50,073] - processing foreign key constraints
DEBUG [2011-04-06 09:48:50,075] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:48:50,077] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:48:50,077] - processing filters (second pass)
 INFO [2011-04-06 09:48:50,108] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-06 09:48:50,109] - columns: id, name, chocolatierid
 INFO [2011-04-06 09:48:50,109] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-06 09:48:50,109] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-06 09:48:50,126] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-06 09:48:50,126] - columns: id, name
 INFO [2011-04-06 09:48:50,126] - foreign keys: 
 INFO [2011-04-06 09:48:50,126] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-06 09:48:50,133] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-06 09:48:50,133] - columns: id, name, chocolatebar_id
 INFO [2011-04-06 09:48:50,133] - foreign keys: fk1328745f39440519
 INFO [2011-04-06 09:48:50,133] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-06 09:48:50,153] - schema update complete
DEBUG [2011-04-06 09:48:50,153] - Closing connection
 INFO [2011-04-06 09:48:50,154] - checking mappings queue
 INFO [2011-04-06 09:48:50,154] - processing one-to-many association mappings
 INFO [2011-04-06 09:48:50,154] - processing one-to-one association property references
 INFO [2011-04-06 09:48:50,154] - processing foreign key constraints
DEBUG [2011-04-06 09:48:50,154] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:48:50,154] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-06 09:48:50,155] - processing filters (second pass)
 INFO [2011-04-06 09:48:50,189] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-06 09:48:50,220] - Using dialect defined converter
 INFO [2011-04-06 09:48:50,220] - Generate SQL with comments: disabled
 INFO [2011-04-06 09:48:50,220] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-06 09:48:50,221] - Configuring ConnectionProvider
 INFO [2011-04-06 09:48:50,221] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-06 09:48:50,222] - Optimize cache for minimal puts: False
 INFO [2011-04-06 09:48:50,222] - Connection release mode: auto
 INFO [2011-04-06 09:48:50,222] - Default batch fetch size: 1
 INFO [2011-04-06 09:48:50,222] - Statistics: disabled
 INFO [2011-04-06 09:48:50,222] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-06 09:48:50,222] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-06 09:48:50,225] - Query language substitutions: {}
 INFO [2011-04-06 09:48:50,226] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-06 09:48:50,226] - Wrap result sets: disabled
 INFO [2011-04-06 09:48:50,227] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-06 09:48:50,227] - Default entity-mode: Poco
 INFO [2011-04-06 09:48:50,227] - Named query checking : enabled
 INFO [2011-04-06 09:48:50,251] - building session factory
DEBUG [2011-04-06 09:48:50,252] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-06 09:48:50,252] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=localhost\sql2008r2;Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-06 09:48:50,254] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:48:50,257] - Closing connection
DEBUG [2011-04-06 09:48:50,333] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:48:50,338] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:48:50,356] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:48:50,390] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:48:50,390] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:48:50,390] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:48:50,391] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:48:50,391] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:48:50,392] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:48:50,426] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:48:50,426] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-06 09:48:50,426] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-06 09:48:50,426] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-06 09:48:50,477] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-06 09:48:50,477] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 09:48:50,477] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-06 09:48:50,477] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-06 09:48:50,477] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-06 09:48:50,477] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-06 09:48:50,477] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:48:50,521] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:48:50,522] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:48:50,522] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:48:50,522] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:48:50,522] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:48:50,537] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_1_, chocolateb0_.Name as Name0_1_, chocolateb0_.ChocolatierID as Chocolat3_0_1_, features1_.ChocolateBar_id as Chocolat3_3_, features1_.ID as ID3_, features1_.ID as ID2_0_, features1_.Name as Name2_0_ FROM [ChocolateBar] chocolateb0_ left outer join [Feature] features1_ on chocolateb0_.ID=features1_.ChocolateBar_id WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:48:50,537] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_1_, chocolateb0_.Name as Name0_1_, chocolateb0_.ChocolatierID as Chocolat3_0_1_, features1_.ChocolateBar_id as Chocolat3_3_, features1_.ID as ID3_, features1_.ID as ID2_0_, features1_.Name as Name2_0_ FROM [ChocolateBar] chocolateb0_ left outer join [Feature] features1_ on chocolateb0_.ID=features1_.ChocolateBar_id WHERE chocolateb0_.ID=?
DEBUG [2011-04-06 09:48:50,538] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-06 09:48:50,538] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 09:48:50,538] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-06 09:48:50,538] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 09:48:50,538] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 09:48:50,538] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-06 09:48:50,538] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:48:50,538] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:48:50,538] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:48:50,538] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:48:50,538] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:48:50,538] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:48:50,538] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:48:50,538] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:48:50,538] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-06 09:48:50,538] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 09:48:50,538] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-06 09:48:50,538] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-06 09:48:50,538] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-06 09:48:50,538] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-06 09:48:50,538] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-06 09:48:50,539] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:48:50,539] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:48:50,539] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 09:48:50,539] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 09:48:50,539] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-06 09:48:50,539] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:48:50,539] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-06 09:48:50,546] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:48:50,547] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-06 09:48:50,548] - registered: a234edcb590b4b19b433d1420889794d(unnamed)
 INFO [2011-04-06 09:48:50,548] - no name configured
DEBUG [2011-04-06 09:48:50,548] - Instantiated session factory
DEBUG [2011-04-06 09:48:50,553] - Checking 0 named HQL queries
DEBUG [2011-04-06 09:48:50,553] - Checking 0 named SQL queries
DEBUG [2011-04-06 09:48:50,570] - [session-id=ce68cd70-3be5-41bf-b76d-74c1e83f35ae] opened session at timestamp: 634376801305, for session factory: [/a234edcb590b4b19b433d1420889794d]
DEBUG [2011-04-06 09:48:51,558] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:48:51,910] - select << begin [level=1, statement=select]
DEBUG [2011-04-06 09:48:51,930] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-06 09:48:51,948] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-06 09:48:51,951] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-06 09:48:51,954] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-06 09:48:51,980] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-06 09:48:51,987] - select >> end [level=1, statement=select]
DEBUG [2011-04-06 09:48:51,988] - throwQueryException() : no errors
DEBUG [2011-04-06 09:48:52,028] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:48:52,028] - throwQueryException() : no errors
DEBUG [2011-04-06 09:48:52,069] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-06 09:48:52,072] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-06 09:48:52,074] - named parameters: {}
DEBUG [2011-04-06 09:48:52,105] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:48:52,105] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-06 09:48:52,112] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:48:52,116] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-06 09:48:52,116] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:48:52,118] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:48:52,119] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:48:52,120] - processing result set
DEBUG [2011-04-06 09:48:52,120] - result set row: 0
DEBUG [2011-04-06 09:48:52,124] - returning '4' as column: ID0_
DEBUG [2011-04-06 09:48:52,128] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:48:52,135] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:48:52,141] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:48:52,142] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-06 09:48:52,142] - returning '1' as column: Chocolat3_0_
DEBUG [2011-04-06 09:48:52,145] - done processing result set (1 rows)
DEBUG [2011-04-06 09:48:52,146] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:48:52,147] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:48:52,147] - DataReader was closed after 29 ms
DEBUG [2011-04-06 09:48:52,147] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:48:52,149] - aggressively releasing database connection
DEBUG [2011-04-06 09:48:52,149] - Closing connection
DEBUG [2011-04-06 09:48:52,150] - total objects hydrated: 1
DEBUG [2011-04-06 09:48:52,153] - resolving associations for [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:48:52,157] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:48:52,167] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,168] - creating new proxy for entity
DEBUG [2011-04-06 09:48:52,355] - done materializing entity [nhibernate_demo.Models.ChocolateBar#4]
DEBUG [2011-04-06 09:48:52,356] - initializing non-lazy collections
DEBUG [2011-04-06 09:48:52,359] - after autocommit
DEBUG [2011-04-06 09:48:52,360] - transaction completion
DEBUG [2011-04-06 09:48:52,360] - aggressively releasing database connection
DEBUG [2011-04-06 09:48:52,370] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:48:52,370] - checking second-level cache
DEBUG [2011-04-06 09:48:52,371] - collection not cached
DEBUG [2011-04-06 09:48:52,374] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:48:52,376] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:48:52,376] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-06 09:48:52,377] - BindParameters(Positional0:NHibernate.Type.Int32Type) 4 -> [0]
DEBUG [2011-04-06 09:48:52,377] - binding '4' to parameter: 0
 INFO [2011-04-06 09:48:52,377] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-06 09:48:52,378] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 4 [Type: Int32 (0)]
DEBUG [2011-04-06 09:48:52,378] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:48:52,379] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:48:52,379] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:48:52,379] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:48:52,381] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-06 09:48:52,383] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:48:52,384] - collection not yet initialized; initializing
DEBUG [2011-04-06 09:48:52,387] - processing result set
DEBUG [2011-04-06 09:48:52,387] - result set row: 0
DEBUG [2011-04-06 09:48:52,387] - returning '3' as column: ID2_0_
DEBUG [2011-04-06 09:48:52,387] - result row: EntityKey[nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:48:52,387] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:48:52,388] - Hydrating entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:48:52,388] - returning 'nuget' as column: Name2_0_
DEBUG [2011-04-06 09:48:52,388] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:48:52,389] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:48:52,389] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:48:52,389] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:48:52,389] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:48:52,389] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:48:52,389] - returning '3' as column: ID1_
DEBUG [2011-04-06 09:48:52,390] - loading entity: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:48:52,391] - attempting to resolve: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:48:52,393] - resolved object in session cache: [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:48:52,393] - result set row: 1
DEBUG [2011-04-06 09:48:52,393] - returning '4' as column: ID2_0_
DEBUG [2011-04-06 09:48:52,393] - result row: EntityKey[nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:48:52,393] - Initializing object from DataReader: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:48:52,393] - Hydrating entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:48:52,393] - returning 'nuts' as column: Name2_0_
DEBUG [2011-04-06 09:48:52,393] - returning '4' as column: Chocolat3_1_
DEBUG [2011-04-06 09:48:52,393] - found row of collection: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:48:52,393] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#4]]
DEBUG [2011-04-06 09:48:52,393] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:48:52,393] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:48:52,394] - found loading collection bound to current result set processing; reading row
DEBUG [2011-04-06 09:48:52,394] - returning '4' as column: ID1_
DEBUG [2011-04-06 09:48:52,394] - loading entity: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:48:52,394] - attempting to resolve: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:48:52,394] - resolved object in session cache: [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:48:52,394] - done processing result set (2 rows)
DEBUG [2011-04-06 09:48:52,394] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:48:52,394] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:48:52,394] - DataReader was closed after 15 ms
DEBUG [2011-04-06 09:48:52,394] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:48:52,394] - aggressively releasing database connection
DEBUG [2011-04-06 09:48:52,394] - Closing connection
DEBUG [2011-04-06 09:48:52,394] - total objects hydrated: 2
DEBUG [2011-04-06 09:48:52,394] - resolving associations for [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:48:52,395] - done materializing entity [nhibernate_demo.Models.Feature#3]
DEBUG [2011-04-06 09:48:52,395] - resolving associations for [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:48:52,395] - done materializing entity [nhibernate_demo.Models.Feature#4]
DEBUG [2011-04-06 09:48:52,398] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] in any result-set context
DEBUG [2011-04-06 09:48:52,398] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#4]] not located in load context
DEBUG [2011-04-06 09:48:52,398] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@3677995]
DEBUG [2011-04-06 09:48:52,400] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:48:52,401] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#4]>@3677995]
DEBUG [2011-04-06 09:48:52,404] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#4]
DEBUG [2011-04-06 09:48:52,404] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-06 09:48:52,405] - initializing non-lazy collections
DEBUG [2011-04-06 09:48:52,405] - done loading collection
DEBUG [2011-04-06 09:48:52,405] - collection initialized
DEBUG [2011-04-06 09:48:52,407] - initializing proxy: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,407] - attempting to resolve: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,408] - object not resolved in any cache: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,409] - Fetching entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,411] - loading entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,412] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-06 09:48:52,412] - Building an IDbCommand object for the SqlString: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-06 09:48:52,412] - BindParameters(Positional0:NHibernate.Type.Int32Type) 1 -> [0]
DEBUG [2011-04-06 09:48:52,412] - binding '1' to parameter: 0
 INFO [2011-04-06 09:48:52,412] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0
DEBUG [2011-04-06 09:48:52,412] - SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=@p0;@p0 = 1 [Type: Int32 (0)]
DEBUG [2011-04-06 09:48:52,412] - Obtaining IDbConnection from Driver
DEBUG [2011-04-06 09:48:52,413] - ExecuteReader took 0 ms
DEBUG [2011-04-06 09:48:52,413] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-06 09:48:52,413] - processing result set
DEBUG [2011-04-06 09:48:52,413] - result set row: 0
DEBUG [2011-04-06 09:48:52,413] - result row: EntityKey[nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,414] - Initializing object from DataReader: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,414] - Hydrating entity: [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,414] - returning 'Hershey' as column: Name1_0_
DEBUG [2011-04-06 09:48:52,414] - done processing result set (1 rows)
DEBUG [2011-04-06 09:48:52,415] - running NHybridDataReader.Dispose()
DEBUG [2011-04-06 09:48:52,415] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-06 09:48:52,415] - DataReader was closed after 2 ms
DEBUG [2011-04-06 09:48:52,415] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-06 09:48:52,415] - aggressively releasing database connection
DEBUG [2011-04-06 09:48:52,415] - Closing connection
DEBUG [2011-04-06 09:48:52,415] - total objects hydrated: 1
DEBUG [2011-04-06 09:48:52,415] - resolving associations for [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,415] - done materializing entity [nhibernate_demo.Models.Chocolatier#1]
DEBUG [2011-04-06 09:48:52,415] - initializing non-lazy collections
DEBUG [2011-04-06 09:48:52,415] - done entity load
