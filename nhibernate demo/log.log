 INFO [2011-04-05 21:07:07,787] - Starting up
 INFO [2011-04-05 21:07:08,886] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:07:08,887] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:07:08,887] - Bytecode provider name : lcg
 INFO [2011-04-05 21:07:08,888] - Using reflection optimizer
 INFO [2011-04-05 21:07:08,973] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:07:08,991] - checking mappings queue
 INFO [2011-04-05 21:07:08,992] - processing one-to-many association mappings
 INFO [2011-04-05 21:07:08,992] - processing one-to-one association property references
 INFO [2011-04-05 21:07:08,992] - processing foreign key constraints
 INFO [2011-04-05 21:07:08,992] - processing filters (second pass)
 INFO [2011-04-05 21:07:08,999] - checking mappings queue
 INFO [2011-04-05 21:07:08,999] - processing one-to-many association mappings
 INFO [2011-04-05 21:07:08,999] - processing one-to-one association property references
 INFO [2011-04-05 21:07:08,999] - processing foreign key constraints
 INFO [2011-04-05 21:07:08,999] - processing filters (second pass)
 INFO [2011-04-05 21:07:09,000] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:07:09,000] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:07:09,002] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:07:09,011] - Closing connection
DEBUG [2011-04-05 21:07:09,011] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:07:09,012] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:07:09,014] - Running hbm2ddl schema update
 INFO [2011-04-05 21:07:09,014] - fetching database metadata
 INFO [2011-04-05 21:07:09,014] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:07:09,014] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:07:09,015] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:07:09,016] - updating schema
 INFO [2011-04-05 21:07:09,020] - checking mappings queue
 INFO [2011-04-05 21:07:09,020] - processing one-to-many association mappings
 INFO [2011-04-05 21:07:09,020] - processing one-to-one association property references
 INFO [2011-04-05 21:07:09,020] - processing foreign key constraints
 INFO [2011-04-05 21:07:09,020] - processing filters (second pass)
 INFO [2011-04-05 21:07:09,020] - schema update complete
DEBUG [2011-04-05 21:07:09,020] - Closing connection
 INFO [2011-04-05 21:07:09,021] - checking mappings queue
 INFO [2011-04-05 21:07:09,021] - processing one-to-many association mappings
 INFO [2011-04-05 21:07:09,021] - processing one-to-one association property references
 INFO [2011-04-05 21:07:09,021] - processing foreign key constraints
 INFO [2011-04-05 21:07:09,021] - processing filters (second pass)
 INFO [2011-04-05 21:07:09,035] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:07:09,058] - Using dialect defined converter
 INFO [2011-04-05 21:07:09,058] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:07:09,058] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:07:09,058] - Configuring ConnectionProvider
 INFO [2011-04-05 21:07:09,059] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:07:09,059] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:07:09,059] - Connection release mode: auto
 INFO [2011-04-05 21:07:09,059] - Default batch fetch size: 1
 INFO [2011-04-05 21:07:09,059] - Statistics: disabled
 INFO [2011-04-05 21:07:09,059] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:07:09,059] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:07:09,061] - Query language substitutions: {}
 INFO [2011-04-05 21:07:09,061] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:07:09,061] - Wrap result sets: disabled
 INFO [2011-04-05 21:07:09,062] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:07:09,062] - Default entity-mode: Poco
 INFO [2011-04-05 21:07:09,062] - Named query checking : enabled
 INFO [2011-04-05 21:07:09,080] - building session factory
DEBUG [2011-04-05 21:07:09,081] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:07:09,081] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:07:09,082] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:07:09,091] - Closing connection
DEBUG [2011-04-05 21:07:09,093] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:07:09,093] - registered: a40c6c9d56364b669ae4d551a325fafa(unnamed)
 INFO [2011-04-05 21:07:09,094] - no name configured
DEBUG [2011-04-05 21:07:09,094] - Instantiated session factory
DEBUG [2011-04-05 21:07:09,098] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:07:09,098] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:07:09,110] - [session-id=d812917c-24db-4fe8-8005-4ca73c07cb75] opened session at timestamp: 634376344290, for session factory: [/a40c6c9d56364b669ae4d551a325fafa]
DEBUG [2011-04-05 21:07:09,951] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:07:10,234] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:07:10,236] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:07:10,237] - named parameters: {}
DEBUG [2011-04-05 21:07:10,238] - after autocommit
DEBUG [2011-04-05 21:07:10,238] - transaction completion
DEBUG [2011-04-05 21:07:10,239] - aggressively releasing database connection
 INFO [2011-04-05 21:34:30,741] - Starting up
 INFO [2011-04-05 21:34:31,835] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:34:31,836] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:34:31,837] - Bytecode provider name : lcg
 INFO [2011-04-05 21:34:31,837] - Using reflection optimizer
 INFO [2011-04-05 21:35:16,817] - Starting up
 INFO [2011-04-05 21:35:17,858] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:35:17,859] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:35:17,859] - Bytecode provider name : lcg
 INFO [2011-04-05 21:35:17,860] - Using reflection optimizer
 INFO [2011-04-05 21:35:17,945] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:35:17,963] - checking mappings queue
 INFO [2011-04-05 21:35:17,963] - processing one-to-many association mappings
 INFO [2011-04-05 21:35:17,963] - processing one-to-one association property references
 INFO [2011-04-05 21:35:17,963] - processing foreign key constraints
 INFO [2011-04-05 21:35:17,963] - processing filters (second pass)
 INFO [2011-04-05 21:35:17,969] - checking mappings queue
 INFO [2011-04-05 21:35:17,969] - processing one-to-many association mappings
 INFO [2011-04-05 21:35:17,969] - processing one-to-one association property references
 INFO [2011-04-05 21:35:17,969] - processing foreign key constraints
 INFO [2011-04-05 21:35:17,969] - processing filters (second pass)
 INFO [2011-04-05 21:35:17,970] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:35:17,971] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:35:17,972] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:35:17,980] - Closing connection
DEBUG [2011-04-05 21:35:17,980] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:35:17,982] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:35:17,983] - Running hbm2ddl schema update
 INFO [2011-04-05 21:35:17,983] - fetching database metadata
 INFO [2011-04-05 21:35:17,984] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:35:17,984] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:35:17,984] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:35:17,985] - updating schema
 INFO [2011-04-05 21:35:17,989] - checking mappings queue
 INFO [2011-04-05 21:35:17,989] - processing one-to-many association mappings
 INFO [2011-04-05 21:35:17,989] - processing one-to-one association property references
 INFO [2011-04-05 21:35:17,989] - processing foreign key constraints
 INFO [2011-04-05 21:35:17,989] - processing filters (second pass)
 INFO [2011-04-05 21:35:17,989] - schema update complete
DEBUG [2011-04-05 21:35:17,989] - Closing connection
 INFO [2011-04-05 21:35:17,990] - checking mappings queue
 INFO [2011-04-05 21:35:17,990] - processing one-to-many association mappings
 INFO [2011-04-05 21:35:17,990] - processing one-to-one association property references
 INFO [2011-04-05 21:35:17,990] - processing foreign key constraints
 INFO [2011-04-05 21:35:17,990] - processing filters (second pass)
 INFO [2011-04-05 21:35:18,004] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:35:18,027] - Using dialect defined converter
 INFO [2011-04-05 21:35:18,027] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:35:18,028] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:35:18,028] - Configuring ConnectionProvider
 INFO [2011-04-05 21:35:18,028] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:35:18,028] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:35:18,028] - Connection release mode: auto
 INFO [2011-04-05 21:35:18,028] - Default batch fetch size: 1
 INFO [2011-04-05 21:35:18,028] - Statistics: disabled
 INFO [2011-04-05 21:35:18,028] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:35:18,029] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:35:18,030] - Query language substitutions: {}
 INFO [2011-04-05 21:35:18,031] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:35:18,031] - Wrap result sets: disabled
 INFO [2011-04-05 21:35:18,032] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:35:18,032] - Default entity-mode: Poco
 INFO [2011-04-05 21:35:18,032] - Named query checking : enabled
 INFO [2011-04-05 21:35:18,051] - building session factory
DEBUG [2011-04-05 21:35:18,051] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:35:18,052] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:35:18,053] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:35:18,062] - Closing connection
DEBUG [2011-04-05 21:35:18,065] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:35:18,065] - registered: 1377d827222e4fa3a51ff69579142b79(unnamed)
 INFO [2011-04-05 21:35:18,065] - no name configured
DEBUG [2011-04-05 21:35:18,065] - Instantiated session factory
DEBUG [2011-04-05 21:35:18,070] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:35:18,070] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:35:18,082] - [session-id=726926f0-6898-43fc-b6f3-9badfb103e83] opened session at timestamp: 634376361180, for session factory: [/1377d827222e4fa3a51ff69579142b79]
DEBUG [2011-04-05 21:35:18,741] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:35:18,967] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:35:18,969] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:35:18,970] - named parameters: {}
DEBUG [2011-04-05 21:35:18,971] - after autocommit
DEBUG [2011-04-05 21:35:18,971] - transaction completion
DEBUG [2011-04-05 21:35:18,972] - aggressively releasing database connection
 INFO [2011-04-05 21:36:22,327] - Starting up
 INFO [2011-04-05 21:36:23,366] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:36:23,367] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:36:23,367] - Bytecode provider name : lcg
 INFO [2011-04-05 21:36:23,368] - Using reflection optimizer
 INFO [2011-04-05 21:36:23,457] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:36:23,474] - checking mappings queue
 INFO [2011-04-05 21:36:23,475] - processing one-to-many association mappings
 INFO [2011-04-05 21:36:23,475] - processing one-to-one association property references
 INFO [2011-04-05 21:36:23,475] - processing foreign key constraints
 INFO [2011-04-05 21:36:23,475] - processing filters (second pass)
 INFO [2011-04-05 21:36:23,481] - checking mappings queue
 INFO [2011-04-05 21:36:23,481] - processing one-to-many association mappings
 INFO [2011-04-05 21:36:23,481] - processing one-to-one association property references
 INFO [2011-04-05 21:36:23,481] - processing foreign key constraints
 INFO [2011-04-05 21:36:23,481] - processing filters (second pass)
 INFO [2011-04-05 21:36:23,482] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:36:23,482] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:36:23,484] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:36:23,492] - Closing connection
DEBUG [2011-04-05 21:36:23,492] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:36:23,493] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:36:23,495] - Running hbm2ddl schema update
 INFO [2011-04-05 21:36:23,495] - fetching database metadata
 INFO [2011-04-05 21:36:23,495] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:36:23,495] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:36:23,495] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:36:23,497] - updating schema
 INFO [2011-04-05 21:36:23,501] - checking mappings queue
 INFO [2011-04-05 21:36:23,501] - processing one-to-many association mappings
 INFO [2011-04-05 21:36:23,501] - processing one-to-one association property references
 INFO [2011-04-05 21:36:23,501] - processing foreign key constraints
 INFO [2011-04-05 21:36:23,501] - processing filters (second pass)
 INFO [2011-04-05 21:36:23,501] - schema update complete
DEBUG [2011-04-05 21:36:23,501] - Closing connection
 INFO [2011-04-05 21:36:23,502] - checking mappings queue
 INFO [2011-04-05 21:36:23,502] - processing one-to-many association mappings
 INFO [2011-04-05 21:36:23,502] - processing one-to-one association property references
 INFO [2011-04-05 21:36:23,502] - processing foreign key constraints
 INFO [2011-04-05 21:36:23,502] - processing filters (second pass)
 INFO [2011-04-05 21:36:23,515] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:36:23,538] - Using dialect defined converter
 INFO [2011-04-05 21:36:23,538] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:36:23,538] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:36:23,539] - Configuring ConnectionProvider
 INFO [2011-04-05 21:36:23,539] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:36:23,539] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:36:23,539] - Connection release mode: auto
 INFO [2011-04-05 21:36:23,539] - Default batch fetch size: 1
 INFO [2011-04-05 21:36:23,539] - Statistics: disabled
 INFO [2011-04-05 21:36:23,539] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:36:23,540] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:36:23,541] - Query language substitutions: {}
 INFO [2011-04-05 21:36:23,542] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:36:23,542] - Wrap result sets: disabled
 INFO [2011-04-05 21:36:23,542] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:36:23,543] - Default entity-mode: Poco
 INFO [2011-04-05 21:36:23,543] - Named query checking : enabled
 INFO [2011-04-05 21:36:23,561] - building session factory
DEBUG [2011-04-05 21:36:23,562] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:36:23,562] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:36:23,563] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:36:23,572] - Closing connection
DEBUG [2011-04-05 21:36:23,574] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:36:23,575] - registered: c96d471232d4424586626f73352b5999(unnamed)
 INFO [2011-04-05 21:36:23,575] - no name configured
DEBUG [2011-04-05 21:36:23,575] - Instantiated session factory
DEBUG [2011-04-05 21:36:23,580] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:36:23,580] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:36:23,592] - [session-id=47558960-2755-4b5d-b837-a81d9d22ed39] opened session at timestamp: 634376361835, for session factory: [/c96d471232d4424586626f73352b5999]
DEBUG [2011-04-05 21:36:24,313] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:36:24,528] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:36:24,531] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:36:24,532] - named parameters: {}
DEBUG [2011-04-05 21:36:24,532] - after autocommit
DEBUG [2011-04-05 21:36:24,533] - transaction completion
DEBUG [2011-04-05 21:36:24,534] - aggressively releasing database connection
DEBUG [2011-04-05 21:36:33,519] - [session-id=3421d60c-0269-4dbb-beef-c91b4e075dbd] opened session at timestamp: 634376361935, for session factory: [/c96d471232d4424586626f73352b5999]
DEBUG [2011-04-05 21:36:33,520] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:36:33,520] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:36:33,521] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:36:33,521] - named parameters: {}
DEBUG [2011-04-05 21:36:33,521] - after autocommit
DEBUG [2011-04-05 21:36:33,521] - transaction completion
DEBUG [2011-04-05 21:36:33,521] - aggressively releasing database connection
DEBUG [2011-04-05 21:38:13,365] - [session-id=6af39c50-cb87-4cf7-82ee-37d193d69502] opened session at timestamp: 634376362933, for session factory: [/c96d471232d4424586626f73352b5999]
DEBUG [2011-04-05 21:38:13,368] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:38:13,368] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:38:13,368] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:38:13,368] - named parameters: {}
DEBUG [2011-04-05 21:38:13,368] - after autocommit
DEBUG [2011-04-05 21:38:13,368] - transaction completion
DEBUG [2011-04-05 21:38:13,368] - aggressively releasing database connection
DEBUG [2011-04-05 21:38:13,426] - [session-id=3421d60c-0269-4dbb-beef-c91b4e075dbd] executing real Dispose(False)
DEBUG [2011-04-05 21:38:13,426] - [session-id=6af39c50-cb87-4cf7-82ee-37d193d69502] executing real Dispose(False)
 INFO [2011-04-05 21:38:26,286] - Starting up
 INFO [2011-04-05 21:41:01,926] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:41:01,926] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:41:01,927] - Bytecode provider name : lcg
 INFO [2011-04-05 21:41:01,928] - Using reflection optimizer
 INFO [2011-04-05 21:41:23,564] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:41:23,585] - checking mappings queue
 INFO [2011-04-05 21:41:23,585] - processing one-to-many association mappings
 INFO [2011-04-05 21:41:23,586] - processing one-to-one association property references
 INFO [2011-04-05 21:41:23,586] - processing foreign key constraints
 INFO [2011-04-05 21:41:23,586] - processing filters (second pass)
 INFO [2011-04-05 21:41:23,590] - checking mappings queue
 INFO [2011-04-05 21:41:23,590] - processing one-to-many association mappings
 INFO [2011-04-05 21:41:23,590] - processing one-to-one association property references
 INFO [2011-04-05 21:41:23,590] - processing foreign key constraints
 INFO [2011-04-05 21:41:23,590] - processing filters (second pass)
 INFO [2011-04-05 21:41:23,590] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:41:23,591] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:41:23,592] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:41:23,600] - Closing connection
DEBUG [2011-04-05 21:41:23,600] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:41:23,601] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:41:23,602] - Running hbm2ddl schema update
 INFO [2011-04-05 21:41:23,602] - fetching database metadata
 INFO [2011-04-05 21:41:23,603] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:41:23,603] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:41:23,603] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:41:23,605] - updating schema
 INFO [2011-04-05 21:41:23,606] - checking mappings queue
 INFO [2011-04-05 21:41:23,606] - processing one-to-many association mappings
 INFO [2011-04-05 21:41:23,606] - processing one-to-one association property references
 INFO [2011-04-05 21:41:23,606] - processing foreign key constraints
 INFO [2011-04-05 21:41:23,606] - processing filters (second pass)
 INFO [2011-04-05 21:41:23,606] - schema update complete
DEBUG [2011-04-05 21:41:23,606] - Closing connection
 INFO [2011-04-05 21:41:23,607] - checking mappings queue
 INFO [2011-04-05 21:41:23,607] - processing one-to-many association mappings
 INFO [2011-04-05 21:41:23,607] - processing one-to-one association property references
 INFO [2011-04-05 21:41:23,607] - processing foreign key constraints
 INFO [2011-04-05 21:41:23,607] - processing filters (second pass)
 INFO [2011-04-05 21:41:23,613] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:41:23,632] - Using dialect defined converter
 INFO [2011-04-05 21:41:23,632] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:41:23,632] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:41:23,632] - Configuring ConnectionProvider
 INFO [2011-04-05 21:41:23,632] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:41:23,633] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:41:23,633] - Connection release mode: auto
 INFO [2011-04-05 21:41:23,633] - Default batch fetch size: 1
 INFO [2011-04-05 21:41:23,633] - Statistics: disabled
 INFO [2011-04-05 21:41:23,633] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:41:23,634] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:41:23,635] - Query language substitutions: {}
 INFO [2011-04-05 21:41:23,635] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:41:23,636] - Wrap result sets: disabled
 INFO [2011-04-05 21:41:23,636] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:41:23,637] - Default entity-mode: Poco
 INFO [2011-04-05 21:41:23,637] - Named query checking : enabled
 INFO [2011-04-05 21:41:23,652] - building session factory
DEBUG [2011-04-05 21:41:23,653] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:41:23,653] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:41:23,654] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:41:23,663] - Closing connection
DEBUG [2011-04-05 21:41:23,665] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:41:23,666] - registered: 657e7e60cf92464ea1ed85afeba5ecec(unnamed)
 INFO [2011-04-05 21:41:23,666] - no name configured
DEBUG [2011-04-05 21:41:23,666] - Instantiated session factory
DEBUG [2011-04-05 21:41:23,669] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:41:23,669] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:41:23,682] - [session-id=1ed47e1b-0e77-451b-b59e-bfde47cd07e0] opened session at timestamp: 634376364836, for session factory: [/657e7e60cf92464ea1ed85afeba5ecec]
DEBUG [2011-04-05 21:41:24,351] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:41:24,567] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:41:24,569] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:41:24,570] - named parameters: {}
DEBUG [2011-04-05 21:41:24,571] - after autocommit
DEBUG [2011-04-05 21:41:24,572] - transaction completion
DEBUG [2011-04-05 21:41:24,572] - aggressively releasing database connection
 INFO [2011-04-05 21:41:33,824] - Starting up
 INFO [2011-04-05 21:41:42,304] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:41:42,304] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:41:42,305] - Bytecode provider name : lcg
 INFO [2011-04-05 21:41:42,306] - Using reflection optimizer
 INFO [2011-04-05 21:43:27,834] - Starting up
 INFO [2011-04-05 21:43:28,871] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:43:28,872] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:43:28,872] - Bytecode provider name : lcg
 INFO [2011-04-05 21:43:28,873] - Using reflection optimizer
 INFO [2011-04-05 21:51:03,868] - Starting up
 INFO [2011-04-05 21:51:10,797] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:51:10,798] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:51:10,798] - Bytecode provider name : lcg
 INFO [2011-04-05 21:51:10,799] - Using reflection optimizer
DEBUG [2011-04-05 21:51:11,064] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 21:51:11,199] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:11,244] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 21:51:11,271] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:51:11,299] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 21:51:11,301] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 21:51:11,309] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:11,316] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 21:51:11,316] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:11,317] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 21:51:11,317] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:51:11,317] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 21:51:11,318] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 21:51:11,319] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:11,319] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 21:51:11,319] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:51:11,319] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 21:51:15,354] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:15,359] - checking mappings queue
 INFO [2011-04-05 21:51:15,359] - processing one-to-many association mappings
DEBUG [2011-04-05 21:51:15,360] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 21:51:15,361] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 21:51:15,365] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 21:51:15,365] - processing one-to-one association property references
 INFO [2011-04-05 21:51:15,365] - processing foreign key constraints
DEBUG [2011-04-05 21:51:15,367] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:15,386] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:51:15,386] - processing filters (second pass)
 INFO [2011-04-05 21:51:15,403] - checking mappings queue
 INFO [2011-04-05 21:51:15,403] - processing one-to-many association mappings
 INFO [2011-04-05 21:51:15,403] - processing one-to-one association property references
 INFO [2011-04-05 21:51:15,403] - processing foreign key constraints
DEBUG [2011-04-05 21:51:15,403] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:15,403] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:51:15,403] - processing filters (second pass)
 INFO [2011-04-05 21:51:15,421] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:51:15,421] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:51:15,422] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:51:15,431] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[FK6A71DC85364F3BA]') AND parent_object_id = OBJECT_ID('[ChocolateBar]'))
alter table [ChocolateBar]  drop constraint FK6A71DC85364F3BA

DEBUG [2011-04-05 21:51:15,435] - SQL Batch: if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[FK6A71DC85364F3BA]') AND parent_object_id = OBJECT_ID('[ChocolateBar]'))
alter table [ChocolateBar]  drop constraint FK6A71DC85364F3BA
DEBUG [2011-04-05 21:51:15,530] - 
    if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[FK1328745F39440519]') AND parent_object_id = OBJECT_ID('[Feature]'))
alter table [Feature]  drop constraint FK1328745F39440519

DEBUG [2011-04-05 21:51:15,530] - SQL Batch: if exists (select 1 from sys.objects where object_id = OBJECT_ID(N'[FK1328745F39440519]') AND parent_object_id = OBJECT_ID('[Feature]'))
alter table [Feature]  drop constraint FK1328745F39440519
DEBUG [2011-04-05 21:51:15,560] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'[ChocolateBar]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [ChocolateBar]
DEBUG [2011-04-05 21:51:15,560] - SQL Batch: if exists (select * from dbo.sysobjects where id = object_id(N'[ChocolateBar]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [ChocolateBar]
DEBUG [2011-04-05 21:51:15,664] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'[Chocolatier]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [Chocolatier]
DEBUG [2011-04-05 21:51:15,664] - SQL Batch: if exists (select * from dbo.sysobjects where id = object_id(N'[Chocolatier]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [Chocolatier]
DEBUG [2011-04-05 21:51:15,670] - 
    if exists (select * from dbo.sysobjects where id = object_id(N'[Feature]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [Feature]
DEBUG [2011-04-05 21:51:15,670] - SQL Batch: if exists (select * from dbo.sysobjects where id = object_id(N'[Feature]') and OBJECTPROPERTY(id, N'IsUserTable') = 1) drop table [Feature]
DEBUG [2011-04-05 21:51:15,678] - 
    create table [ChocolateBar] (
        ID INT IDENTITY NOT NULL,
       Name NVARCHAR(255) null,
       ChocolatierID INT null,
       primary key (ID)
    )
DEBUG [2011-04-05 21:51:15,678] - SQL Batch: create table [ChocolateBar] (ID INT IDENTITY NOT NULL, Name NVARCHAR(255) null, ChocolatierID INT null, primary key (ID))
DEBUG [2011-04-05 21:51:15,810] - 
    create table [Chocolatier] (
        ID INT IDENTITY NOT NULL,
       Name NVARCHAR(255) null,
       primary key (ID)
    )
DEBUG [2011-04-05 21:51:15,810] - SQL Batch: create table [Chocolatier] (ID INT IDENTITY NOT NULL, Name NVARCHAR(255) null, primary key (ID))
DEBUG [2011-04-05 21:51:15,812] - 
    create table [Feature] (
        ID INT IDENTITY NOT NULL,
       Name NVARCHAR(255) null,
       ChocolateBar_id INT null,
       primary key (ID)
    )
DEBUG [2011-04-05 21:51:15,812] - SQL Batch: create table [Feature] (ID INT IDENTITY NOT NULL, Name NVARCHAR(255) null, ChocolateBar_id INT null, primary key (ID))
DEBUG [2011-04-05 21:51:15,815] - 
    alter table [ChocolateBar] 
        add constraint FK6A71DC85364F3BA 
        foreign key (ChocolatierID) 
        references [Chocolatier]
DEBUG [2011-04-05 21:51:15,815] - SQL Batch: alter table [ChocolateBar] add constraint FK6A71DC85364F3BA foreign key (ChocolatierID) references [Chocolatier]
DEBUG [2011-04-05 21:51:15,934] - 
    alter table [Feature] 
        add constraint FK1328745F39440519 
        foreign key (ChocolateBar_id) 
        references [ChocolateBar]
DEBUG [2011-04-05 21:51:15,934] - SQL Batch: alter table [Feature] add constraint FK1328745F39440519 foreign key (ChocolateBar_id) references [ChocolateBar]
DEBUG [2011-04-05 21:51:15,936] - Closing connection
DEBUG [2011-04-05 21:51:15,936] - Disposing of ConnectionProvider.
 INFO [2011-04-05 21:51:23,868] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:23,869] - Running hbm2ddl schema update
 INFO [2011-04-05 21:51:23,869] - fetching database metadata
 INFO [2011-04-05 21:51:23,869] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:51:23,869] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:51:23,869] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:51:23,872] - updating schema
 INFO [2011-04-05 21:51:23,873] - checking mappings queue
 INFO [2011-04-05 21:51:23,874] - processing one-to-many association mappings
 INFO [2011-04-05 21:51:23,874] - processing one-to-one association property references
 INFO [2011-04-05 21:51:23,874] - processing foreign key constraints
DEBUG [2011-04-05 21:51:23,874] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:23,874] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:51:23,874] - processing filters (second pass)
 INFO [2011-04-05 21:51:24,749] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 21:51:24,750] - columns: id, name, chocolatierid
 INFO [2011-04-05 21:51:24,750] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 21:51:24,750] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 21:51:24,785] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 21:51:24,785] - columns: id, name
 INFO [2011-04-05 21:51:24,785] - foreign keys: 
 INFO [2011-04-05 21:51:24,785] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 21:51:24,850] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 21:51:24,850] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 21:51:24,850] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 21:51:24,850] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 21:51:24,850] - schema update complete
DEBUG [2011-04-05 21:51:24,850] - Closing connection
 INFO [2011-04-05 21:51:24,851] - checking mappings queue
 INFO [2011-04-05 21:51:24,851] - processing one-to-many association mappings
 INFO [2011-04-05 21:51:24,851] - processing one-to-one association property references
 INFO [2011-04-05 21:51:24,851] - processing foreign key constraints
DEBUG [2011-04-05 21:51:24,851] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:24,851] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:51:24,851] - processing filters (second pass)
 INFO [2011-04-05 21:51:24,889] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:51:24,913] - Using dialect defined converter
 INFO [2011-04-05 21:51:24,913] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:51:24,913] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:51:24,913] - Configuring ConnectionProvider
 INFO [2011-04-05 21:51:24,914] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:51:24,914] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:51:24,914] - Connection release mode: auto
 INFO [2011-04-05 21:51:24,915] - Default batch fetch size: 1
 INFO [2011-04-05 21:51:24,915] - Statistics: disabled
 INFO [2011-04-05 21:51:24,915] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:51:24,915] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:51:24,916] - Query language substitutions: {}
 INFO [2011-04-05 21:51:24,917] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:51:24,917] - Wrap result sets: disabled
 INFO [2011-04-05 21:51:24,918] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:51:24,918] - Default entity-mode: Poco
 INFO [2011-04-05 21:51:24,918] - Named query checking : enabled
 INFO [2011-04-05 21:51:24,934] - building session factory
DEBUG [2011-04-05 21:51:24,934] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:51:24,935] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:51:24,936] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:51:24,938] - Closing connection
DEBUG [2011-04-05 21:51:24,999] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:51:25,003] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:51:25,072] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:51:25,099] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:25,099] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:25,099] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:25,100] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:51:25,100] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:51:25,100] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:51:25,120] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 21:51:25,120] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 21:51:25,121] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 21:51:25,121] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 21:51:25,148] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:51:25,148] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,148] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 21:51:25,148] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 21:51:25,148] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 21:51:25,148] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,148] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,177] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,179] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,179] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:51:25,179] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:51:25,179] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,179] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 21:51:25,179] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 21:51:25,179] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 21:51:25,179] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,179] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:51:25,179] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:51:25,180] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,180] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 21:51:25,180] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 21:51:25,180] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 21:51:25,180] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 21:51:25,180] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,180] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:51:25,188] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 21:51:25,189] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:51:25,189] - registered: 0133995daa6f43caaad9e5bbe8d60c62(unnamed)
 INFO [2011-04-05 21:51:25,189] - no name configured
DEBUG [2011-04-05 21:51:25,189] - Instantiated session factory
DEBUG [2011-04-05 21:51:25,192] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:51:25,192] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:51:25,204] - [session-id=71b3c62d-2ff4-481e-ad4c-39199ae5742c] opened session at timestamp: 634376370851, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:51:25,945] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:51:26,186] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 21:51:26,201] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 21:51:26,214] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 21:51:26,217] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 21:51:26,218] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 21:51:26,234] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 21:51:26,237] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 21:51:26,237] - throwQueryException() : no errors
DEBUG [2011-04-05 21:51:26,259] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:51:26,259] - throwQueryException() : no errors
DEBUG [2011-04-05 21:51:26,285] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:51:26,287] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:51:26,288] - named parameters: {}
DEBUG [2011-04-05 21:51:26,325] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:51:26,325] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:51:26,354] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:51:26,356] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:51:26,357] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:51:26,395] - ExecuteReader took 38 ms
DEBUG [2011-04-05 21:51:26,396] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:51:26,398] - processing result set
DEBUG [2011-04-05 21:51:26,398] - done processing result set (0 rows)
DEBUG [2011-04-05 21:51:26,400] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:51:26,400] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:51:26,400] - DataReader was closed after 42 ms
DEBUG [2011-04-05 21:51:26,401] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:51:26,402] - aggressively releasing database connection
DEBUG [2011-04-05 21:51:26,402] - Closing connection
DEBUG [2011-04-05 21:51:26,404] - total objects hydrated: 0
DEBUG [2011-04-05 21:51:26,404] - initializing non-lazy collections
DEBUG [2011-04-05 21:51:26,407] - after autocommit
DEBUG [2011-04-05 21:51:26,408] - transaction completion
DEBUG [2011-04-05 21:51:26,408] - aggressively releasing database connection
DEBUG [2011-04-05 21:52:24,727] - [session-id=62e6a74c-8696-4095-8598-a9d75b1611f3] opened session at timestamp: 634376371447, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:52:25,068] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:52:25,068] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:52:25,068] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:52:25,068] - named parameters: {}
DEBUG [2011-04-05 21:52:25,068] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:52:25,068] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:52:25,068] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:52:25,068] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:52:25,068] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:52:25,069] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:52:25,069] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:52:25,069] - processing result set
DEBUG [2011-04-05 21:52:25,069] - done processing result set (0 rows)
DEBUG [2011-04-05 21:52:25,069] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:52:25,069] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:52:25,069] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:52:25,069] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:52:25,069] - aggressively releasing database connection
DEBUG [2011-04-05 21:52:25,069] - Closing connection
DEBUG [2011-04-05 21:52:25,069] - total objects hydrated: 0
DEBUG [2011-04-05 21:52:25,069] - initializing non-lazy collections
DEBUG [2011-04-05 21:52:25,069] - after autocommit
DEBUG [2011-04-05 21:52:25,069] - transaction completion
DEBUG [2011-04-05 21:52:25,069] - aggressively releasing database connection
DEBUG [2011-04-05 21:52:25,102] - [session-id=62e6a74c-8696-4095-8598-a9d75b1611f3] executing real Dispose(False)
DEBUG [2011-04-05 21:52:45,597] - [session-id=89a9289b-9bba-4d2b-91f9-16d43ef204d2] opened session at timestamp: 634376371655, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:52:45,931] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:52:45,931] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:52:45,931] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:52:45,931] - named parameters: {}
DEBUG [2011-04-05 21:52:45,931] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:52:45,931] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:52:45,931] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:52:45,931] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:52:45,931] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:52:45,932] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:52:45,932] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:52:45,932] - processing result set
DEBUG [2011-04-05 21:52:45,932] - done processing result set (0 rows)
DEBUG [2011-04-05 21:52:45,932] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:52:45,932] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:52:45,932] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:52:45,932] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:52:45,932] - aggressively releasing database connection
DEBUG [2011-04-05 21:52:45,932] - Closing connection
DEBUG [2011-04-05 21:52:45,932] - total objects hydrated: 0
DEBUG [2011-04-05 21:52:45,932] - initializing non-lazy collections
DEBUG [2011-04-05 21:52:45,932] - after autocommit
DEBUG [2011-04-05 21:52:45,932] - transaction completion
DEBUG [2011-04-05 21:52:45,932] - aggressively releasing database connection
DEBUG [2011-04-05 21:53:31,958] - [session-id=39956bd6-60f3-4b38-bea2-76aa1a7d255c] opened session at timestamp: 634376372119, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:53:31,959] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:53:31,959] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:53:31,959] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:53:31,959] - named parameters: {}
DEBUG [2011-04-05 21:53:31,959] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:53:31,959] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:53:31,959] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:53:31,959] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:53:31,959] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:53:31,960] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:53:31,960] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:53:31,960] - processing result set
DEBUG [2011-04-05 21:53:31,960] - done processing result set (0 rows)
DEBUG [2011-04-05 21:53:31,960] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:53:31,960] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:53:31,960] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:53:31,960] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:53:31,960] - aggressively releasing database connection
DEBUG [2011-04-05 21:53:31,960] - Closing connection
DEBUG [2011-04-05 21:53:31,960] - total objects hydrated: 0
DEBUG [2011-04-05 21:53:31,960] - initializing non-lazy collections
DEBUG [2011-04-05 21:53:31,960] - after autocommit
DEBUG [2011-04-05 21:53:31,960] - transaction completion
DEBUG [2011-04-05 21:53:31,960] - aggressively releasing database connection
DEBUG [2011-04-05 21:53:33,076] - [session-id=89a9289b-9bba-4d2b-91f9-16d43ef204d2] executing real Dispose(False)
DEBUG [2011-04-05 21:53:33,076] - [session-id=39956bd6-60f3-4b38-bea2-76aa1a7d255c] executing real Dispose(False)
DEBUG [2011-04-05 21:54:06,246] - [session-id=fca3b097-c5f0-4562-acd9-1345a9f8b223] opened session at timestamp: 634376372462, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:54:06,246] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:54:06,247] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:54:06,247] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:54:06,247] - named parameters: {}
DEBUG [2011-04-05 21:54:06,247] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:54:06,247] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:54:06,247] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:54:06,247] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:54:06,247] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:54:06,247] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:54:06,247] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:54:06,247] - processing result set
DEBUG [2011-04-05 21:54:06,247] - done processing result set (0 rows)
DEBUG [2011-04-05 21:54:06,247] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:54:06,247] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:54:06,247] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:54:06,247] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:54:06,247] - aggressively releasing database connection
DEBUG [2011-04-05 21:54:06,247] - Closing connection
DEBUG [2011-04-05 21:54:06,247] - total objects hydrated: 0
DEBUG [2011-04-05 21:54:06,247] - initializing non-lazy collections
DEBUG [2011-04-05 21:54:06,247] - after autocommit
DEBUG [2011-04-05 21:54:06,248] - transaction completion
DEBUG [2011-04-05 21:54:06,248] - aggressively releasing database connection
DEBUG [2011-04-05 21:54:13,020] - [session-id=5bbcfb8c-32a3-4188-a6c1-b311da4bb0b6] opened session at timestamp: 634376372530, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:54:13,021] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:54:13,022] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:54:13,022] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:54:13,022] - named parameters: {}
DEBUG [2011-04-05 21:54:13,022] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:54:13,022] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:54:13,022] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:54:13,022] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:54:13,022] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:54:13,022] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:54:13,022] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:54:13,022] - processing result set
DEBUG [2011-04-05 21:54:13,022] - done processing result set (0 rows)
DEBUG [2011-04-05 21:54:13,023] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:54:13,023] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:54:13,023] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:54:13,023] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:54:13,023] - aggressively releasing database connection
DEBUG [2011-04-05 21:54:13,023] - Closing connection
DEBUG [2011-04-05 21:54:13,023] - total objects hydrated: 0
DEBUG [2011-04-05 21:54:13,023] - initializing non-lazy collections
DEBUG [2011-04-05 21:54:13,023] - after autocommit
DEBUG [2011-04-05 21:54:13,023] - transaction completion
DEBUG [2011-04-05 21:54:13,023] - aggressively releasing database connection
DEBUG [2011-04-05 21:55:11,671] - [session-id=c3a6dc3a-29d1-4480-9ed8-13e0a88f238c] opened session at timestamp: 634376373116, for session factory: [/0133995daa6f43caaad9e5bbe8d60c62]
DEBUG [2011-04-05 21:55:11,673] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:55:11,673] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:55:11,673] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:55:11,673] - named parameters: {}
DEBUG [2011-04-05 21:55:11,673] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:55:11,673] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:55:11,673] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:55:11,673] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:55:11,673] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:55:11,673] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:55:11,673] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:55:11,673] - processing result set
DEBUG [2011-04-05 21:55:11,674] - done processing result set (0 rows)
DEBUG [2011-04-05 21:55:11,674] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:55:11,674] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:55:11,674] - DataReader was closed after 0 ms
DEBUG [2011-04-05 21:55:11,674] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:55:11,674] - aggressively releasing database connection
DEBUG [2011-04-05 21:55:11,674] - Closing connection
DEBUG [2011-04-05 21:55:11,674] - total objects hydrated: 0
DEBUG [2011-04-05 21:55:11,674] - initializing non-lazy collections
DEBUG [2011-04-05 21:55:11,674] - after autocommit
DEBUG [2011-04-05 21:55:11,674] - transaction completion
DEBUG [2011-04-05 21:55:11,674] - aggressively releasing database connection
 INFO [2011-04-05 21:59:23,936] - Starting up
 INFO [2011-04-05 21:59:24,965] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 21:59:24,965] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 21:59:24,966] - Bytecode provider name : lcg
 INFO [2011-04-05 21:59:24,966] - Using reflection optimizer
DEBUG [2011-04-05 21:59:25,239] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 21:59:25,383] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,428] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 21:59:25,457] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:59:25,489] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 21:59:25,491] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 21:59:25,499] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,504] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 21:59:25,505] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,505] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 21:59:25,506] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:59:25,506] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 21:59:25,507] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 21:59:25,507] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,507] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 21:59:25,507] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 21:59:25,507] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 21:59:25,511] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,513] - Running hbm2ddl schema update
 INFO [2011-04-05 21:59:25,513] - fetching database metadata
 INFO [2011-04-05 21:59:25,513] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:59:25,514] - Configuring ConnectionProvider
DEBUG [2011-04-05 21:59:25,515] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 21:59:25,524] - updating schema
 INFO [2011-04-05 21:59:25,531] - checking mappings queue
 INFO [2011-04-05 21:59:25,531] - processing one-to-many association mappings
DEBUG [2011-04-05 21:59:25,531] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 21:59:25,532] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 21:59:25,536] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 21:59:25,536] - processing one-to-one association property references
 INFO [2011-04-05 21:59:25,536] - processing foreign key constraints
DEBUG [2011-04-05 21:59:25,538] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,540] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:59:25,540] - processing filters (second pass)
 INFO [2011-04-05 21:59:25,560] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 21:59:25,561] - columns: id, name, chocolatierid
 INFO [2011-04-05 21:59:25,561] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 21:59:25,561] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 21:59:25,572] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 21:59:25,572] - columns: id, name
 INFO [2011-04-05 21:59:25,572] - foreign keys: 
 INFO [2011-04-05 21:59:25,572] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 21:59:25,576] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 21:59:25,576] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 21:59:25,576] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 21:59:25,576] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 21:59:25,590] - schema update complete
DEBUG [2011-04-05 21:59:25,591] - Closing connection
 INFO [2011-04-05 21:59:25,592] - checking mappings queue
 INFO [2011-04-05 21:59:25,592] - processing one-to-many association mappings
 INFO [2011-04-05 21:59:25,592] - processing one-to-one association property references
 INFO [2011-04-05 21:59:25,592] - processing foreign key constraints
DEBUG [2011-04-05 21:59:25,592] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,592] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 21:59:25,592] - processing filters (second pass)
 INFO [2011-04-05 21:59:25,617] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 21:59:25,640] - Using dialect defined converter
 INFO [2011-04-05 21:59:25,640] - Generate SQL with comments: disabled
 INFO [2011-04-05 21:59:25,640] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 21:59:25,641] - Configuring ConnectionProvider
 INFO [2011-04-05 21:59:25,641] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 21:59:25,641] - Optimize cache for minimal puts: False
 INFO [2011-04-05 21:59:25,641] - Connection release mode: auto
 INFO [2011-04-05 21:59:25,641] - Default batch fetch size: 1
 INFO [2011-04-05 21:59:25,641] - Statistics: disabled
 INFO [2011-04-05 21:59:25,641] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 21:59:25,642] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 21:59:25,643] - Query language substitutions: {}
 INFO [2011-04-05 21:59:25,644] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 21:59:25,644] - Wrap result sets: disabled
 INFO [2011-04-05 21:59:25,644] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 21:59:25,645] - Default entity-mode: Poco
 INFO [2011-04-05 21:59:25,645] - Named query checking : enabled
 INFO [2011-04-05 21:59:25,663] - building session factory
DEBUG [2011-04-05 21:59:25,663] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 21:59:25,664] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 21:59:25,665] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:59:25,667] - Closing connection
DEBUG [2011-04-05 21:59:25,723] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:59:25,727] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:59:25,738] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:59:25,763] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,763] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,763] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,764] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:59:25,764] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:59:25,764] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:59:25,790] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 21:59:25,790] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 21:59:25,790] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 21:59:25,790] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 21:59:25,831] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 21:59:25,831] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,831] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 21:59:25,831] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 21:59:25,831] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 21:59:25,831] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,831] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:59:25,863] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,864] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,864] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,864] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,864] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,865] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,865] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 21:59:25,866] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 21:59:25,866] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 21:59:25,866] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 21:59:25,866] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 21:59:25,866] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 21:59:25,866] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 21:59:25,866] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,866] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,867] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,867] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,867] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,867] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 21:59:25,875] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 21:59:25,876] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 21:59:25,877] - registered: 92b003e653734764963e783b6403c6d4(unnamed)
 INFO [2011-04-05 21:59:25,877] - no name configured
DEBUG [2011-04-05 21:59:25,877] - Instantiated session factory
DEBUG [2011-04-05 21:59:25,881] - Checking 0 named HQL queries
DEBUG [2011-04-05 21:59:25,882] - Checking 0 named SQL queries
DEBUG [2011-04-05 21:59:25,893] - [session-id=ce64a675-7549-44a7-a904-3ff703072079] opened session at timestamp: 634376375658, for session factory: [/92b003e653734764963e783b6403c6d4]
DEBUG [2011-04-05 21:59:26,739] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:59:27,011] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 21:59:27,026] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 21:59:27,040] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 21:59:27,042] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 21:59:27,044] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 21:59:27,064] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 21:59:27,069] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 21:59:27,069] - throwQueryException() : no errors
DEBUG [2011-04-05 21:59:27,096] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:59:27,096] - throwQueryException() : no errors
DEBUG [2011-04-05 21:59:27,125] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 21:59:27,127] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 21:59:27,128] - named parameters: {}
DEBUG [2011-04-05 21:59:27,178] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 21:59:27,178] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 21:59:27,182] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:59:27,185] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 21:59:27,186] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 21:59:27,187] - ExecuteReader took 0 ms
DEBUG [2011-04-05 21:59:27,187] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 21:59:27,189] - processing result set
DEBUG [2011-04-05 21:59:27,189] - done processing result set (0 rows)
DEBUG [2011-04-05 21:59:27,190] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 21:59:27,191] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 21:59:27,191] - DataReader was closed after 3 ms
DEBUG [2011-04-05 21:59:27,191] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 21:59:27,192] - aggressively releasing database connection
DEBUG [2011-04-05 21:59:27,192] - Closing connection
DEBUG [2011-04-05 21:59:27,193] - total objects hydrated: 0
DEBUG [2011-04-05 21:59:27,194] - initializing non-lazy collections
DEBUG [2011-04-05 21:59:27,196] - after autocommit
DEBUG [2011-04-05 21:59:27,196] - transaction completion
DEBUG [2011-04-05 21:59:27,196] - aggressively releasing database connection
 INFO [2011-04-05 22:02:37,416] - Starting up
 INFO [2011-04-05 22:02:38,197] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:02:38,198] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:02:38,198] - Bytecode provider name : lcg
 INFO [2011-04-05 22:02:38,200] - Using reflection optimizer
DEBUG [2011-04-05 22:02:38,505] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:02:38,633] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,689] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:02:38,720] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:02:38,757] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:02:38,759] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:02:38,767] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:38,774] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:02:38,775] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,775] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:02:38,775] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:02:38,775] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:02:38,776] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:02:38,777] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,777] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:02:38,777] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:02:38,777] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:02:38,781] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,783] - Running hbm2ddl schema update
 INFO [2011-04-05 22:02:38,783] - fetching database metadata
 INFO [2011-04-05 22:02:38,784] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:02:38,784] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:02:38,786] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:02:38,795] - updating schema
 INFO [2011-04-05 22:02:38,802] - checking mappings queue
 INFO [2011-04-05 22:02:38,802] - processing one-to-many association mappings
DEBUG [2011-04-05 22:02:38,802] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:02:38,803] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:02:38,808] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:02:38,808] - processing one-to-one association property references
 INFO [2011-04-05 22:02:38,808] - processing foreign key constraints
DEBUG [2011-04-05 22:02:38,810] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:38,811] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:02:38,811] - processing filters (second pass)
 INFO [2011-04-05 22:02:38,834] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:02:38,835] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:02:38,835] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:02:38,835] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:02:38,846] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:02:38,846] - columns: id, name
 INFO [2011-04-05 22:02:38,846] - foreign keys: 
 INFO [2011-04-05 22:02:38,846] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:02:38,856] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:02:38,856] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:02:38,856] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:02:38,856] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:02:38,872] - schema update complete
DEBUG [2011-04-05 22:02:38,872] - Closing connection
 INFO [2011-04-05 22:02:38,880] - checking mappings queue
 INFO [2011-04-05 22:02:38,880] - processing one-to-many association mappings
 INFO [2011-04-05 22:02:38,880] - processing one-to-one association property references
 INFO [2011-04-05 22:02:38,880] - processing foreign key constraints
DEBUG [2011-04-05 22:02:38,880] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:38,880] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:02:38,880] - processing filters (second pass)
 INFO [2011-04-05 22:02:38,906] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:02:38,931] - Using dialect defined converter
 INFO [2011-04-05 22:02:38,931] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:02:38,931] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:02:38,931] - Configuring ConnectionProvider
 INFO [2011-04-05 22:02:38,932] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:02:38,932] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:02:38,932] - Connection release mode: auto
 INFO [2011-04-05 22:02:38,932] - Default batch fetch size: 1
 INFO [2011-04-05 22:02:38,932] - Statistics: disabled
 INFO [2011-04-05 22:02:38,933] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:02:38,933] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:02:38,934] - Query language substitutions: {}
 INFO [2011-04-05 22:02:38,935] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:02:38,935] - Wrap result sets: disabled
 INFO [2011-04-05 22:02:38,936] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:02:38,936] - Default entity-mode: Poco
 INFO [2011-04-05 22:02:38,936] - Named query checking : enabled
 INFO [2011-04-05 22:02:38,957] - building session factory
DEBUG [2011-04-05 22:02:38,957] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:02:38,958] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:02:38,959] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:02:38,961] - Closing connection
DEBUG [2011-04-05 22:02:39,026] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:02:39,030] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:02:39,042] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:02:39,067] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:39,067] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:39,067] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:39,068] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:02:39,068] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:02:39,068] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:02:39,096] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:02:39,096] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:02:39,096] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:02:39,096] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:02:39,136] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:02:39,136] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,136] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:02:39,136] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:02:39,136] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:02:39,136] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,136] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,171] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:02:39,173] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,173] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:02:39,173] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:02:39,173] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:02:39,173] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,173] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:02:39,173] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,173] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:02:39,174] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,174] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:02:39,174] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:02:39,174] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:02:39,174] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:02:39,174] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,174] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:02:39,183] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:02:39,184] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:02:39,185] - registered: 60520f06ff9b4ccda2238daad50a84fa(unnamed)
 INFO [2011-04-05 22:02:39,185] - no name configured
DEBUG [2011-04-05 22:02:39,185] - Instantiated session factory
DEBUG [2011-04-05 22:02:39,189] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:02:39,190] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:02:39,206] - [session-id=60893fe9-bca6-440e-9e1e-4253799cc099] opened session at timestamp: 634376377591, for session factory: [/60520f06ff9b4ccda2238daad50a84fa]
DEBUG [2011-04-05 22:02:39,739] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:02:40,092] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:02:40,108] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:02:40,121] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:02:40,124] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:02:40,126] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:02:40,146] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:02:40,151] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:02:40,152] - throwQueryException() : no errors
DEBUG [2011-04-05 22:02:40,178] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:40,178] - throwQueryException() : no errors
DEBUG [2011-04-05 22:02:40,207] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:02:40,209] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:02:40,210] - named parameters: {}
DEBUG [2011-04-05 22:02:40,232] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:02:40,233] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:02:40,237] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:40,240] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:40,240] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:02:40,241] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:02:40,242] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:02:40,243] - processing result set
DEBUG [2011-04-05 22:02:40,243] - done processing result set (0 rows)
DEBUG [2011-04-05 22:02:40,244] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:02:40,245] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:02:40,245] - DataReader was closed after 3 ms
DEBUG [2011-04-05 22:02:40,245] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:02:40,246] - aggressively releasing database connection
DEBUG [2011-04-05 22:02:40,246] - Closing connection
DEBUG [2011-04-05 22:02:40,247] - total objects hydrated: 0
DEBUG [2011-04-05 22:02:40,248] - initializing non-lazy collections
DEBUG [2011-04-05 22:02:40,250] - after autocommit
DEBUG [2011-04-05 22:02:40,250] - transaction completion
DEBUG [2011-04-05 22:02:40,250] - aggressively releasing database connection
DEBUG [2011-04-05 22:02:52,622] - [session-id=07df3300-77fd-40c5-985c-2bad2c5d980c] opened session at timestamp: 634376377726, for session factory: [/60520f06ff9b4ccda2238daad50a84fa]
DEBUG [2011-04-05 22:02:52,987] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:02:52,987] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:02:52,987] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:02:52,987] - named parameters: {}
DEBUG [2011-04-05 22:02:52,987] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:02:52,987] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:02:52,987] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:52,987] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:02:52,987] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:02:52,988] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:02:52,988] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:02:52,988] - processing result set
DEBUG [2011-04-05 22:02:52,988] - done processing result set (0 rows)
DEBUG [2011-04-05 22:02:52,988] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:02:52,988] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:02:52,988] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:02:52,988] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:02:52,988] - aggressively releasing database connection
DEBUG [2011-04-05 22:02:52,988] - Closing connection
DEBUG [2011-04-05 22:02:52,988] - total objects hydrated: 0
DEBUG [2011-04-05 22:02:52,988] - initializing non-lazy collections
DEBUG [2011-04-05 22:02:52,988] - after autocommit
DEBUG [2011-04-05 22:02:52,988] - transaction completion
DEBUG [2011-04-05 22:02:52,988] - aggressively releasing database connection
 INFO [2011-04-05 22:03:58,508] - Starting up
 INFO [2011-04-05 22:04:05,293] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:04:05,293] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:04:05,294] - Bytecode provider name : lcg
 INFO [2011-04-05 22:04:05,294] - Using reflection optimizer
DEBUG [2011-04-05 22:04:05,568] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:04:05,685] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,742] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:04:05,770] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:05,803] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:04:05,805] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:04:05,813] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:05,820] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:04:05,821] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,821] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:04:05,821] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:05,821] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:04:05,823] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:04:05,823] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,823] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:04:05,823] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:05,823] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:04:05,827] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,829] - Running hbm2ddl schema update
 INFO [2011-04-05 22:04:05,829] - fetching database metadata
 INFO [2011-04-05 22:04:05,830] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:04:05,830] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:04:05,831] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:04:05,840] - updating schema
 INFO [2011-04-05 22:04:05,847] - checking mappings queue
 INFO [2011-04-05 22:04:05,847] - processing one-to-many association mappings
DEBUG [2011-04-05 22:04:05,847] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:04:05,848] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:04:05,853] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:04:05,853] - processing one-to-one association property references
 INFO [2011-04-05 22:04:05,853] - processing foreign key constraints
DEBUG [2011-04-05 22:04:05,854] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:05,856] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:04:05,856] - processing filters (second pass)
 INFO [2011-04-05 22:04:05,877] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:04:05,878] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:04:05,878] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:04:05,878] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:04:05,889] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:04:05,889] - columns: id, name
 INFO [2011-04-05 22:04:05,889] - foreign keys: 
 INFO [2011-04-05 22:04:05,889] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:04:05,893] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:04:05,893] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:04:05,893] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:04:05,893] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:04:05,907] - schema update complete
DEBUG [2011-04-05 22:04:05,908] - Closing connection
 INFO [2011-04-05 22:04:05,909] - checking mappings queue
 INFO [2011-04-05 22:04:05,909] - processing one-to-many association mappings
 INFO [2011-04-05 22:04:05,909] - processing one-to-one association property references
 INFO [2011-04-05 22:04:05,909] - processing foreign key constraints
DEBUG [2011-04-05 22:04:05,909] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:05,909] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:04:05,909] - processing filters (second pass)
 INFO [2011-04-05 22:04:05,934] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:05,958] - Using dialect defined converter
 INFO [2011-04-05 22:04:05,958] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:04:05,958] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:04:05,958] - Configuring ConnectionProvider
 INFO [2011-04-05 22:04:05,958] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:04:05,959] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:04:05,959] - Connection release mode: auto
 INFO [2011-04-05 22:04:05,959] - Default batch fetch size: 1
 INFO [2011-04-05 22:04:05,959] - Statistics: disabled
 INFO [2011-04-05 22:04:05,959] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:04:05,959] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:04:05,960] - Query language substitutions: {}
 INFO [2011-04-05 22:04:05,961] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:04:05,961] - Wrap result sets: disabled
 INFO [2011-04-05 22:04:05,961] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:04:05,962] - Default entity-mode: Poco
 INFO [2011-04-05 22:04:05,962] - Named query checking : enabled
 INFO [2011-04-05 22:04:05,980] - building session factory
DEBUG [2011-04-05 22:04:05,981] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:04:05,981] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:04:05,982] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:05,997] - Closing connection
DEBUG [2011-04-05 22:04:06,054] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,058] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,069] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,094] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:06,094] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:06,094] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:06,095] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:06,095] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:06,095] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:06,121] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:04:06,121] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:06,121] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:04:06,121] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:04:06,160] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,160] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,160] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:04:06,160] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:04:06,160] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:06,160] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,160] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,192] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:06,194] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,194] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:04:06,194] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:04:06,194] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:06,194] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,194] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:06,194] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,194] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:06,195] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,195] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:04:06,195] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:04:06,195] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:06,195] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:04:06,195] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,195] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:06,204] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:04:06,205] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:04:06,205] - registered: 22adc586bb64439c85a978e0a3d7bfb9(unnamed)
 INFO [2011-04-05 22:04:06,205] - no name configured
DEBUG [2011-04-05 22:04:06,205] - Instantiated session factory
DEBUG [2011-04-05 22:04:06,209] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:04:06,209] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:04:06,221] - [session-id=d9070a03-c86e-44e8-899b-b0613a71b7ef] opened session at timestamp: 634376378462, for session factory: [/22adc586bb64439c85a978e0a3d7bfb9]
DEBUG [2011-04-05 22:04:06,224] - Begin (Unspecified)
DEBUG [2011-04-05 22:04:06,224] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:06,248] - unsaved-value: 0
DEBUG [2011-04-05 22:04:06,248] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:06,248] - saving transient instance
DEBUG [2011-04-05 22:04:06,250] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:04:06,254] - executing insertions
DEBUG [2011-04-05 22:04:06,260] - executing identity-insert immediately
DEBUG [2011-04-05 22:04:06,262] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-05 22:04:06,326] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:06,326] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:06,327] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:04:06,328] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-05 22:04:06,330] - binding null to parameter: 1
DEBUG [2011-04-05 22:04:06,335] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = NULL [Type: Int32 (0)]
DEBUG [2011-04-05 22:04:06,336] - Enlist Command
DEBUG [2011-04-05 22:04:06,437] - ExecuteReader took 100 ms
DEBUG [2011-04-05 22:04:06,438] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:06,451] - returning '1' as column: 
DEBUG [2011-04-05 22:04:06,451] - Natively generated identity: 1
DEBUG [2011-04-05 22:04:06,453] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:06,454] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:06,454] - DataReader was closed after 116 ms
DEBUG [2011-04-05 22:04:06,455] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:06,541] - IDbTransaction disposed.
DEBUG [2011-04-05 22:04:06,542] - transaction completion
DEBUG [2011-04-05 22:04:06,543] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:06,543] - Closing connection
DEBUG [2011-04-05 22:04:06,605] - [session-id=63e0f34f-4dbb-4ace-b23f-6036ab451c1e] opened session at timestamp: 634376378466, for session factory: [/22adc586bb64439c85a978e0a3d7bfb9]
DEBUG [2011-04-05 22:04:06,631] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:04:06,856] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:04:06,871] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:04:06,885] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:04:06,887] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:04:06,889] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:04:06,909] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:04:06,914] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:04:06,915] - throwQueryException() : no errors
DEBUG [2011-04-05 22:04:06,942] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:06,942] - throwQueryException() : no errors
DEBUG [2011-04-05 22:04:06,970] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:04:06,972] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:04:06,973] - named parameters: {}
DEBUG [2011-04-05 22:04:06,991] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:06,991] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:04:06,995] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:06,995] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:06,995] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:06,996] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:04:06,996] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:06,997] - processing result set
DEBUG [2011-04-05 22:04:06,997] - done processing result set (0 rows)
DEBUG [2011-04-05 22:04:06,997] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:06,997] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:06,997] - DataReader was closed after 1 ms
DEBUG [2011-04-05 22:04:06,997] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:06,997] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:06,997] - Closing connection
DEBUG [2011-04-05 22:04:06,998] - total objects hydrated: 0
DEBUG [2011-04-05 22:04:06,999] - initializing non-lazy collections
DEBUG [2011-04-05 22:04:07,001] - after autocommit
DEBUG [2011-04-05 22:04:07,001] - transaction completion
DEBUG [2011-04-05 22:04:07,001] - aggressively releasing database connection
 INFO [2011-04-05 22:04:40,045] - Starting up
 INFO [2011-04-05 22:04:49,718] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:04:49,719] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:04:49,719] - Bytecode provider name : lcg
 INFO [2011-04-05 22:04:49,720] - Using reflection optimizer
DEBUG [2011-04-05 22:04:49,998] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:04:50,114] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,155] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:04:50,183] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:50,214] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:04:50,217] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:04:50,224] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,230] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:04:50,231] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,231] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:04:50,231] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:50,231] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:04:50,233] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:04:50,233] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,233] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:04:50,233] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:04:50,233] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:04:50,236] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,238] - Running hbm2ddl schema update
 INFO [2011-04-05 22:04:50,238] - fetching database metadata
 INFO [2011-04-05 22:04:50,240] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:04:50,240] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:04:50,241] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:04:50,250] - updating schema
 INFO [2011-04-05 22:04:50,257] - checking mappings queue
 INFO [2011-04-05 22:04:50,257] - processing one-to-many association mappings
DEBUG [2011-04-05 22:04:50,258] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:04:50,259] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:04:50,263] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:04:50,263] - processing one-to-one association property references
 INFO [2011-04-05 22:04:50,263] - processing foreign key constraints
DEBUG [2011-04-05 22:04:50,265] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,266] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:04:50,266] - processing filters (second pass)
 INFO [2011-04-05 22:04:50,287] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:04:50,288] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:04:50,288] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:04:50,288] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:04:50,299] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:04:50,299] - columns: id, name
 INFO [2011-04-05 22:04:50,299] - foreign keys: 
 INFO [2011-04-05 22:04:50,299] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:04:50,303] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:04:50,303] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:04:50,303] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:04:50,303] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:04:50,317] - schema update complete
DEBUG [2011-04-05 22:04:50,318] - Closing connection
 INFO [2011-04-05 22:04:50,319] - checking mappings queue
 INFO [2011-04-05 22:04:50,319] - processing one-to-many association mappings
 INFO [2011-04-05 22:04:50,319] - processing one-to-one association property references
 INFO [2011-04-05 22:04:50,319] - processing foreign key constraints
DEBUG [2011-04-05 22:04:50,319] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,319] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:04:50,319] - processing filters (second pass)
 INFO [2011-04-05 22:04:50,344] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:04:50,366] - Using dialect defined converter
 INFO [2011-04-05 22:04:50,367] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:04:50,367] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:04:50,367] - Configuring ConnectionProvider
 INFO [2011-04-05 22:04:50,367] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:04:50,367] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:04:50,368] - Connection release mode: auto
 INFO [2011-04-05 22:04:50,368] - Default batch fetch size: 1
 INFO [2011-04-05 22:04:50,368] - Statistics: disabled
 INFO [2011-04-05 22:04:50,368] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:04:50,368] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:04:50,369] - Query language substitutions: {}
 INFO [2011-04-05 22:04:50,370] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:04:50,370] - Wrap result sets: disabled
 INFO [2011-04-05 22:04:50,370] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:04:50,371] - Default entity-mode: Poco
 INFO [2011-04-05 22:04:50,371] - Named query checking : enabled
 INFO [2011-04-05 22:04:50,388] - building session factory
DEBUG [2011-04-05 22:04:50,389] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:04:50,390] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:04:50,391] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:50,392] - Closing connection
DEBUG [2011-04-05 22:04:50,449] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,453] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,464] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,488] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,488] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,489] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,489] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:50,489] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:50,490] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:50,515] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:04:50,515] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:50,515] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:04:50,516] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:04:50,554] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,554] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,554] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:04:50,554] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:04:50,555] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:50,555] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,555] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:50,586] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,587] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,587] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,587] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,587] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,588] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,588] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:04:50,589] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:04:50,589] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:04:50,589] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:04:50,589] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:04:50,589] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:04:50,589] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:04:50,589] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,589] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,590] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,590] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,590] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,590] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:04:50,598] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:04:50,599] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:04:50,600] - registered: eb729cfc5884449188a9777fcda7265a(unnamed)
 INFO [2011-04-05 22:04:50,600] - no name configured
DEBUG [2011-04-05 22:04:50,600] - Instantiated session factory
DEBUG [2011-04-05 22:04:50,604] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:04:50,604] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:04:50,616] - [session-id=54704e23-7307-46ea-827c-766b8d92d9ee] opened session at timestamp: 634376378906, for session factory: [/eb729cfc5884449188a9777fcda7265a]
DEBUG [2011-04-05 22:04:50,619] - Begin (Unspecified)
DEBUG [2011-04-05 22:04:50,619] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:50,627] - unsaved-value: 0
DEBUG [2011-04-05 22:04:50,627] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:04:50,628] - saving transient instance
DEBUG [2011-04-05 22:04:50,629] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:04:50,633] - executing insertions
DEBUG [2011-04-05 22:04:50,639] - executing identity-insert immediately
DEBUG [2011-04-05 22:04:50,641] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-05 22:04:50,647] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:50,647] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:04:50,648] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:04:50,649] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-05 22:04:50,650] - binding null to parameter: 1
DEBUG [2011-04-05 22:04:50,653] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = NULL [Type: Int32 (0)]
DEBUG [2011-04-05 22:04:50,654] - Enlist Command
DEBUG [2011-04-05 22:04:50,655] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:04:50,655] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:50,657] - returning '2' as column: 
DEBUG [2011-04-05 22:04:50,657] - Natively generated identity: 2
DEBUG [2011-04-05 22:04:50,658] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:50,658] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:50,658] - DataReader was closed after 3 ms
DEBUG [2011-04-05 22:04:50,659] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:50,681] - Start Commit
DEBUG [2011-04-05 22:04:50,683] - flushing session
DEBUG [2011-04-05 22:04:50,684] - processing flush-time cascades
DEBUG [2011-04-05 22:04:50,686] - dirty checking collections
DEBUG [2011-04-05 22:04:50,686] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 22:04:50,695] - Processing unreferenced collections
DEBUG [2011-04-05 22:04:50,695] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 22:04:50,695] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 22:04:50,695] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-05 22:04:50,696] - listing entities:
DEBUG [2011-04-05 22:04:50,698] - nhibernate_demo.Models.ChocolateBar{'ID'='2', 'Features'='null', 'Name'='Mr. Big', 'Chocolatier'='null'}
DEBUG [2011-04-05 22:04:50,698] - executing flush
DEBUG [2011-04-05 22:04:50,698] - registering flush begin
DEBUG [2011-04-05 22:04:50,699] - registering flush end
DEBUG [2011-04-05 22:04:50,700] - post flush
DEBUG [2011-04-05 22:04:50,701] - before transaction completion
DEBUG [2011-04-05 22:04:50,702] - IDbTransaction Committed
DEBUG [2011-04-05 22:04:50,703] - transaction completion
DEBUG [2011-04-05 22:04:50,703] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:50,704] - Closing connection
DEBUG [2011-04-05 22:04:50,705] - IDbTransaction disposed.
DEBUG [2011-04-05 22:04:50,710] - [session-id=d48be04e-2872-46ab-be63-a27c68800e56] opened session at timestamp: 634376378907, for session factory: [/eb729cfc5884449188a9777fcda7265a]
DEBUG [2011-04-05 22:04:50,730] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:04:50,814] - [session-id=54704e23-7307-46ea-827c-766b8d92d9ee] executing real Dispose(False)
DEBUG [2011-04-05 22:04:51,002] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:04:51,017] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:04:51,031] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:04:51,033] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:04:51,035] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:04:51,055] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:04:51,060] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:04:51,060] - throwQueryException() : no errors
DEBUG [2011-04-05 22:04:51,087] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:51,087] - throwQueryException() : no errors
DEBUG [2011-04-05 22:04:51,116] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:04:51,118] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:04:51,119] - named parameters: {}
DEBUG [2011-04-05 22:04:51,137] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:51,137] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:04:51,141] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:51,141] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:04:51,142] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:51,142] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:04:51,142] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:51,143] - processing result set
DEBUG [2011-04-05 22:04:51,143] - result set row: 0
DEBUG [2011-04-05 22:04:51,144] - returning '2' as column: ID0_
DEBUG [2011-04-05 22:04:51,146] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,150] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,152] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,152] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-05 22:04:51,152] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:04:51,154] - done processing result set (1 rows)
DEBUG [2011-04-05 22:04:51,154] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:51,154] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:51,154] - DataReader was closed after 12 ms
DEBUG [2011-04-05 22:04:51,154] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:51,154] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:51,154] - Closing connection
DEBUG [2011-04-05 22:04:51,155] - total objects hydrated: 1
DEBUG [2011-04-05 22:04:51,157] - resolving associations for [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,160] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,166] - done materializing entity [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:04:51,166] - initializing non-lazy collections
DEBUG [2011-04-05 22:04:51,168] - after autocommit
DEBUG [2011-04-05 22:04:51,169] - transaction completion
DEBUG [2011-04-05 22:04:51,169] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:51,174] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,174] - checking second-level cache
DEBUG [2011-04-05 22:04:51,175] - collection not cached
DEBUG [2011-04-05 22:04:51,177] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,177] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:04:51,177] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:04:51,178] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-05 22:04:51,178] - binding '2' to parameter: 0
 INFO [2011-04-05 22:04:51,178] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:04:51,178] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:04:51,178] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:04:51,180] - ExecuteReader took 1 ms
DEBUG [2011-04-05 22:04:51,180] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:04:51,180] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,181] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:04:51,183] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#2]]
DEBUG [2011-04-05 22:04:51,183] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:04:51,185] - processing result set
DEBUG [2011-04-05 22:04:51,185] - done processing result set (0 rows)
DEBUG [2011-04-05 22:04:51,185] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:04:51,185] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:04:51,185] - DataReader was closed after 7 ms
DEBUG [2011-04-05 22:04:51,185] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:04:51,185] - aggressively releasing database connection
DEBUG [2011-04-05 22:04:51,185] - Closing connection
DEBUG [2011-04-05 22:04:51,185] - total objects hydrated: 0
DEBUG [2011-04-05 22:04:51,188] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] in any result-set context
DEBUG [2011-04-05 22:04:51,188] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] not located in load context
DEBUG [2011-04-05 22:04:51,188] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@450633]
DEBUG [2011-04-05 22:04:51,189] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:04:51,190] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@450633]
DEBUG [2011-04-05 22:04:51,192] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:04:51,192] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:04:51,193] - initializing non-lazy collections
DEBUG [2011-04-05 22:04:51,193] - done loading collection
DEBUG [2011-04-05 22:04:51,193] - collection initialized
DEBUG [2011-04-05 22:05:44,359] - [session-id=93d31c17-42b0-4511-a4bb-844014dfd30e] opened session at timestamp: 634376379443, for session factory: [/eb729cfc5884449188a9777fcda7265a]
DEBUG [2011-04-05 22:05:44,816] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:05:44,816] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:05:44,816] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:05:44,816] - named parameters: {}
DEBUG [2011-04-05 22:05:44,816] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:05:44,816] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:05:44,816] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:05:44,816] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:05:44,816] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:05:44,817] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:05:44,817] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:05:44,817] - processing result set
DEBUG [2011-04-05 22:05:44,817] - result set row: 0
DEBUG [2011-04-05 22:05:44,817] - returning '2' as column: ID0_
DEBUG [2011-04-05 22:05:44,817] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,817] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,817] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,817] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-05 22:05:44,817] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:05:44,817] - done processing result set (1 rows)
DEBUG [2011-04-05 22:05:44,817] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:05:44,817] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:05:44,817] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:05:44,817] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:05:44,817] - aggressively releasing database connection
DEBUG [2011-04-05 22:05:44,817] - Closing connection
DEBUG [2011-04-05 22:05:44,817] - total objects hydrated: 1
DEBUG [2011-04-05 22:05:44,817] - resolving associations for [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,817] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,818] - done materializing entity [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:05:44,818] - initializing non-lazy collections
DEBUG [2011-04-05 22:05:44,818] - after autocommit
DEBUG [2011-04-05 22:05:44,818] - transaction completion
DEBUG [2011-04-05 22:05:44,818] - aggressively releasing database connection
DEBUG [2011-04-05 22:05:44,818] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,818] - checking second-level cache
DEBUG [2011-04-05 22:05:44,818] - collection not cached
DEBUG [2011-04-05 22:05:44,818] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,818] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:05:44,818] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:05:44,818] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-05 22:05:44,818] - binding '2' to parameter: 0
 INFO [2011-04-05 22:05:44,818] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:05:44,818] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:05:44,818] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:05:44,819] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:05:44,819] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:05:44,819] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,819] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:05:44,819] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#2]]
DEBUG [2011-04-05 22:05:44,819] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:05:44,819] - processing result set
DEBUG [2011-04-05 22:05:44,819] - done processing result set (0 rows)
DEBUG [2011-04-05 22:05:44,819] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:05:44,819] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:05:44,819] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:05:44,819] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:05:44,819] - aggressively releasing database connection
DEBUG [2011-04-05 22:05:44,819] - Closing connection
DEBUG [2011-04-05 22:05:44,819] - total objects hydrated: 0
DEBUG [2011-04-05 22:05:44,819] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] in any result-set context
DEBUG [2011-04-05 22:05:44,819] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] not located in load context
DEBUG [2011-04-05 22:05:44,819] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@36e3545]
DEBUG [2011-04-05 22:05:44,819] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:05:44,819] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@36e3545]
DEBUG [2011-04-05 22:05:44,819] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:05:44,819] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:05:44,819] - initializing non-lazy collections
DEBUG [2011-04-05 22:05:44,819] - done loading collection
DEBUG [2011-04-05 22:05:44,819] - collection initialized
DEBUG [2011-04-05 22:05:45,851] - [session-id=93d31c17-42b0-4511-a4bb-844014dfd30e] executing real Dispose(False)
 INFO [2011-04-05 22:07:26,461] - Starting up
 INFO [2011-04-05 22:07:27,483] - NHibernate 3.1.0.4000 (3.1.0.4000)
 INFO [2011-04-05 22:07:27,484] - hibernate-configuration section not found in application configuration file
 INFO [2011-04-05 22:07:27,484] - Bytecode provider name : lcg
 INFO [2011-04-05 22:07:27,485] - Using reflection optimizer
DEBUG [2011-04-05 22:07:27,760] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.ChocolateBar, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`ChocolateBar`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><bag name="Features"><key><column name="ChocolateBar_id" /></key><one-to-many class="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" /></bag><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property><many-to-one class="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" name="Chocolatier"><column name="ChocolatierID" /></many-to-one></class></hibernate-mapping>
 INFO [2011-04-05 22:07:27,884] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:27,924] - Mapping class: nhibernate_demo.Models.ChocolateBar -> ChocolateBar
DEBUG [2011-04-05 22:07:27,953] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:07:27,986] - Mapped property: Features, type: System.Collections.Generic.ICollection`1[[nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]](nhibernate_demo.Models.ChocolateBar.Features)
DEBUG [2011-04-05 22:07:27,989] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:07:27,996] - Mapped property: Chocolatier -> ChocolatierID, type: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,003] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Chocolatier, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Chocolatier`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:07:28,003] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:28,004] - Mapping class: nhibernate_demo.Models.Chocolatier -> Chocolatier
DEBUG [2011-04-05 22:07:28,004] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:07:28,004] - Mapped property: Name -> Name, type: String
DEBUG [2011-04-05 22:07:28,005] - Mapping XML:
<hibernate-mapping xmlns="urn:nhibernate-mapping-2.2"><class xmlns="urn:nhibernate-mapping-2.2" name="nhibernate_demo.Models.Feature, nhibernate demo, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null" table="`Feature`"><id name="ID" type="System.Int32, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="ID" /><generator class="identity" /></id><property name="Name" type="System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089"><column name="Name" /></property></class></hibernate-mapping>
 INFO [2011-04-05 22:07:28,005] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:28,006] - Mapping class: nhibernate_demo.Models.Feature -> Feature
DEBUG [2011-04-05 22:07:28,006] - Mapped property: ID -> ID, type: Int32
DEBUG [2011-04-05 22:07:28,006] - Mapped property: Name -> Name, type: String
 INFO [2011-04-05 22:07:28,009] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:28,011] - Running hbm2ddl schema update
 INFO [2011-04-05 22:07:28,011] - fetching database metadata
 INFO [2011-04-05 22:07:28,012] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:07:28,012] - Configuring ConnectionProvider
DEBUG [2011-04-05 22:07:28,014] - Obtaining IDbConnection from Driver
 INFO [2011-04-05 22:07:28,023] - updating schema
 INFO [2011-04-05 22:07:28,029] - checking mappings queue
 INFO [2011-04-05 22:07:28,030] - processing one-to-many association mappings
DEBUG [2011-04-05 22:07:28,030] - Second pass for collection: nhibernate_demo.Models.ChocolateBar.Features
 INFO [2011-04-05 22:07:28,031] - mapping collection: nhibernate_demo.Models.ChocolateBar.Features -> Feature
DEBUG [2011-04-05 22:07:28,035] - Mapped collection key: ChocolateBar_id, one-to-many: nhibernate_demo.Models.Feature
 INFO [2011-04-05 22:07:28,035] - processing one-to-one association property references
 INFO [2011-04-05 22:07:28,035] - processing foreign key constraints
DEBUG [2011-04-05 22:07:28,037] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,039] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:07:28,039] - processing filters (second pass)
 INFO [2011-04-05 22:07:28,071] - table found: NHibernateTest.dbo.ChocolateBar
 INFO [2011-04-05 22:07:28,071] - columns: id, name, chocolatierid
 INFO [2011-04-05 22:07:28,071] - foreign keys: fk6a71dc85364f3ba
 INFO [2011-04-05 22:07:28,072] - indexes: pk__chocolat__3214ec277f60ed59
 INFO [2011-04-05 22:07:28,083] - table found: NHibernateTest.dbo.Chocolatier
 INFO [2011-04-05 22:07:28,083] - columns: id, name
 INFO [2011-04-05 22:07:28,083] - foreign keys: 
 INFO [2011-04-05 22:07:28,083] - indexes: pk__chocolat__3214ec2703317e3d
 INFO [2011-04-05 22:07:28,086] - table found: NHibernateTest.dbo.Feature
 INFO [2011-04-05 22:07:28,086] - columns: id, name, chocolatebar_id
 INFO [2011-04-05 22:07:28,086] - foreign keys: fk1328745f39440519
 INFO [2011-04-05 22:07:28,086] - indexes: pk__feature__3214ec2707020f21
 INFO [2011-04-05 22:07:28,101] - schema update complete
DEBUG [2011-04-05 22:07:28,101] - Closing connection
 INFO [2011-04-05 22:07:28,102] - checking mappings queue
 INFO [2011-04-05 22:07:28,102] - processing one-to-many association mappings
 INFO [2011-04-05 22:07:28,102] - processing one-to-one association property references
 INFO [2011-04-05 22:07:28,102] - processing foreign key constraints
DEBUG [2011-04-05 22:07:28,102] - resolving reference to class: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,102] - resolving reference to class: nhibernate_demo.Models.ChocolateBar
 INFO [2011-04-05 22:07:28,102] - processing filters (second pass)
 INFO [2011-04-05 22:07:28,127] - Using dialect: NHibernate.Dialect.MsSql2008Dialect
 INFO [2011-04-05 22:07:28,151] - Using dialect defined converter
 INFO [2011-04-05 22:07:28,151] - Generate SQL with comments: disabled
 INFO [2011-04-05 22:07:28,151] - Initializing connection provider: NHibernate.Connection.DriverConnectionProvider
 INFO [2011-04-05 22:07:28,151] - Configuring ConnectionProvider
 INFO [2011-04-05 22:07:28,151] - Transaction factory: NHibernate.Transaction.AdoNetWithDistributedTransactionFactory
 INFO [2011-04-05 22:07:28,152] - Optimize cache for minimal puts: False
 INFO [2011-04-05 22:07:28,152] - Connection release mode: auto
 INFO [2011-04-05 22:07:28,152] - Default batch fetch size: 1
 INFO [2011-04-05 22:07:28,152] - Statistics: disabled
 INFO [2011-04-05 22:07:28,152] - Deleted entity synthetic identifier rollback: disabled
 INFO [2011-04-05 22:07:28,152] - Query translator: NHibernate.Hql.Ast.ANTLR.ASTQueryTranslatorFactory
 INFO [2011-04-05 22:07:28,153] - Query language substitutions: {}
 INFO [2011-04-05 22:07:28,154] - cache provider: NHibernate.Cache.NoCacheProvider, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
DEBUG [2011-04-05 22:07:28,154] - Wrap result sets: disabled
 INFO [2011-04-05 22:07:28,155] - Batcher factory: NHibernate.AdoNet.NonBatchingBatcherFactory, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4
 INFO [2011-04-05 22:07:28,155] - Default entity-mode: Poco
 INFO [2011-04-05 22:07:28,155] - Named query checking : enabled
 INFO [2011-04-05 22:07:28,173] - building session factory
DEBUG [2011-04-05 22:07:28,174] - Session factory constructed with filter configurations : {}
DEBUG [2011-04-05 22:07:28,174] - instantiating session factory with properties: {'connection.provider'='NHibernate.Connection.DriverConnectionProvider', 'proxyfactory.factory_class'='NHibernate.ByteCode.Castle.ProxyFactoryFactory, NHibernate.ByteCode.Castle', 'connection.driver_class'='NHibernate.Driver.SqlClientDriver, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'hibernate.dialect'='NHibernate.Dialect.MsSql2008Dialect, NHibernate, Version=3.1.0.4000, Culture=neutral, PublicKeyToken=aa95f207798dfdb4', 'connection.connection_string'='Data Source=(local);Initial Catalog=NHibernateTest;Integrated Security=SSPI;'}
DEBUG [2011-04-05 22:07:28,175] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:28,177] - Closing connection
DEBUG [2011-04-05 22:07:28,234] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:28,238] - No custom accessors found for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:28,249] - Create Instantiator using optimizer for:nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:28,274] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,274] - No custom accessors found for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,274] - Create Instantiator using optimizer for:nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,274] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:07:28,274] - No custom accessors found for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:07:28,275] - Create Instantiator using optimizer for:nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:07:28,300] - Static SQL for collection: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:28,301] -  Row insert: UPDATE [Feature] SET ChocolateBar_id = ? WHERE ID = ?
DEBUG [2011-04-05 22:07:28,301] -  Row delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ? AND ID = ?
DEBUG [2011-04-05 22:07:28,301] -  One-shot delete: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:07:28,339] - Static SQL for entity: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:28,339] -  Version select: SELECT ID FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,339] -  Snapshot select: SELECT chocolateb_.ID, chocolateb_.Name as Name0_, chocolateb_.ChocolatierID as Chocolat3_0_ FROM [ChocolateBar] chocolateb_ WHERE chocolateb_.ID=?
DEBUG [2011-04-05 22:07:28,339] -  Insert 0: INSERT INTO [ChocolateBar] (Name, ChocolatierID, ID) VALUES (?, ?, ?)
DEBUG [2011-04-05 22:07:28,339] -  Update 0: UPDATE [ChocolateBar] SET Name = ?, ChocolatierID = ? WHERE ID = ?
DEBUG [2011-04-05 22:07:28,339] -  Delete 0: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,339] -  Identity insert: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:07:28,371] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,371] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,372] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,372] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,372] - Static select for entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ with (updlock, rowlock) WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,373] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,373] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.ChocolateBar: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:28,373] - Static SQL for entity: nhibernate_demo.Models.Chocolatier
DEBUG [2011-04-05 22:07:28,373] -  Version select: SELECT ID FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,373] -  Snapshot select: SELECT chocolatie_.ID, chocolatie_.Name as Name1_ FROM [Chocolatier] chocolatie_ WHERE chocolatie_.ID=?
DEBUG [2011-04-05 22:07:28,373] -  Insert 0: INSERT INTO [Chocolatier] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:07:28,374] -  Update 0: UPDATE [Chocolatier] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Delete 0: DELETE FROM [Chocolatier] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Identity insert: INSERT INTO [Chocolatier] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ with (updlock, rowlock) WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Chocolatier: SELECT chocolatie0_.ID as ID1_0_, chocolatie0_.Name as Name1_0_ FROM [Chocolatier] chocolatie0_ WHERE chocolatie0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static SQL for entity: nhibernate_demo.Models.Feature
DEBUG [2011-04-05 22:07:28,374] -  Version select: SELECT ID FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Snapshot select: SELECT feature_.ID, feature_.Name as Name2_ FROM [Feature] feature_ WHERE feature_.ID=?
DEBUG [2011-04-05 22:07:28,374] -  Insert 0: INSERT INTO [Feature] (Name, ID) VALUES (?, ?)
DEBUG [2011-04-05 22:07:28,374] -  Update 0: UPDATE [Feature] SET Name = ? WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Delete 0: DELETE FROM [Feature] WHERE ID = ?
DEBUG [2011-04-05 22:07:28,374] -  Identity insert: INSERT INTO [Feature] (Name) VALUES (?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ with (updlock, rowlock) WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for action NHibernate.Engine.CascadingAction+MergeCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,374] - Static select for action NHibernate.Engine.CascadingAction+RefreshCascadingAction on entity nhibernate_demo.Models.Feature: SELECT feature0_.ID as ID2_0_, feature0_.Name as Name2_0_ FROM [Feature] feature0_ WHERE feature0_.ID=?
DEBUG [2011-04-05 22:07:28,383] - Static select for one-to-many nhibernate_demo.Models.ChocolateBar.Features: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:07:28,384] - initializing class SessionFactoryObjectFactory
DEBUG [2011-04-05 22:07:28,384] - registered: 8798742105c94f2f86701378bc28a06d(unnamed)
 INFO [2011-04-05 22:07:28,384] - no name configured
DEBUG [2011-04-05 22:07:28,384] - Instantiated session factory
DEBUG [2011-04-05 22:07:28,388] - Checking 0 named HQL queries
DEBUG [2011-04-05 22:07:28,388] - Checking 0 named SQL queries
DEBUG [2011-04-05 22:07:28,400] - [session-id=ec94e796-6ab4-4ec1-8bd2-80ca7cc12b3b] opened session at timestamp: 634376380483, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:29,060] - unable to locate HQL query plan in cache; generating (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:29,271] - select << begin [level=1, statement=select]
DEBUG [2011-04-05 22:07:29,290] - FromClause{level=1} :  nhibernate_demo.Models.ChocolateBar (<generated>_0) -> chocolateb0_
DEBUG [2011-04-05 22:07:29,303] - Resolved :  <generated>_0 -> chocolateb0_.ID
DEBUG [2011-04-05 22:07:29,306] - select : finishing up [level=1, statement=select]
DEBUG [2011-04-05 22:07:29,308] - processQuery() : ( SELECT ( {select clause} chocolateb0_.ID ) ( FromClause{level=1} [ChocolateBar] chocolateb0_ ) )
DEBUG [2011-04-05 22:07:29,328] - Using FROM fragment [[ChocolateBar] chocolateb0_]
DEBUG [2011-04-05 22:07:29,332] - select >> end [level=1, statement=select]
DEBUG [2011-04-05 22:07:29,333] - throwQueryException() : no errors
DEBUG [2011-04-05 22:07:29,360] - SQL: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:29,360] - throwQueryException() : no errors
DEBUG [2011-04-05 22:07:29,389] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:29,391] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:07:29,392] - named parameters: {}
DEBUG [2011-04-05 22:07:29,414] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:29,414] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:07:29,419] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:29,421] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:29,422] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:29,423] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:29,423] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:29,425] - processing result set
DEBUG [2011-04-05 22:07:29,425] - result set row: 0
DEBUG [2011-04-05 22:07:29,427] - returning '2' as column: ID0_
DEBUG [2011-04-05 22:07:29,429] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,434] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,438] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,439] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-05 22:07:29,439] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:07:29,441] - done processing result set (1 rows)
DEBUG [2011-04-05 22:07:29,443] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:29,443] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:29,443] - DataReader was closed after 20 ms
DEBUG [2011-04-05 22:07:29,443] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:29,444] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:29,444] - Closing connection
DEBUG [2011-04-05 22:07:29,445] - total objects hydrated: 1
DEBUG [2011-04-05 22:07:29,448] - resolving associations for [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,451] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,457] - done materializing entity [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:29,458] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:29,460] - after autocommit
DEBUG [2011-04-05 22:07:29,461] - transaction completion
DEBUG [2011-04-05 22:07:29,461] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:29,468] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,468] - checking second-level cache
DEBUG [2011-04-05 22:07:29,469] - collection not cached
DEBUG [2011-04-05 22:07:29,471] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,473] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:29,473] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:07:29,473] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-05 22:07:29,473] - binding '2' to parameter: 0
 INFO [2011-04-05 22:07:29,473] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:07:29,474] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:29,474] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:29,475] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:29,475] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:29,475] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,476] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:07:29,478] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#2]]
DEBUG [2011-04-05 22:07:29,478] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:07:29,480] - processing result set
DEBUG [2011-04-05 22:07:29,480] - done processing result set (0 rows)
DEBUG [2011-04-05 22:07:29,480] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:29,480] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:29,480] - DataReader was closed after 5 ms
DEBUG [2011-04-05 22:07:29,480] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:29,480] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:29,480] - Closing connection
DEBUG [2011-04-05 22:07:29,480] - total objects hydrated: 0
DEBUG [2011-04-05 22:07:29,483] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] in any result-set context
DEBUG [2011-04-05 22:07:29,483] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#2]] not located in load context
DEBUG [2011-04-05 22:07:29,483] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@1b1eca1]
DEBUG [2011-04-05 22:07:29,484] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:29,485] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#2]>@1b1eca1]
DEBUG [2011-04-05 22:07:29,487] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:29,487] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:29,488] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:29,488] - done loading collection
DEBUG [2011-04-05 22:07:29,488] - collection initialized
DEBUG [2011-04-05 22:07:30,905] - [session-id=be2d898a-227a-436b-91cc-e53aa074a0a7] opened session at timestamp: 634376380509, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:30,907] - Begin (Unspecified)
DEBUG [2011-04-05 22:07:30,907] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:30,915] - loading entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:30,916] - creating new proxy for entity
DEBUG [2011-04-05 22:07:31,319] - initializing proxy: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,320] - attempting to resolve: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,321] - object not resolved in any cache: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,322] - Fetching entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,324] - loading entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,324] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:31,324] - Building an IDbCommand object for the SqlString: SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=?
DEBUG [2011-04-05 22:07:31,324] - BindParameters(Positional0:NHibernate.Type.Int32Type) 2 -> [0]
DEBUG [2011-04-05 22:07:31,324] - binding '2' to parameter: 0
 INFO [2011-04-05 22:07:31,324] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0
DEBUG [2011-04-05 22:07:31,324] - SELECT chocolateb0_.ID as ID0_0_, chocolateb0_.Name as Name0_0_, chocolateb0_.ChocolatierID as Chocolat3_0_0_ FROM [ChocolateBar] chocolateb0_ WHERE chocolateb0_.ID=@p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:31,324] - Enlist Command
DEBUG [2011-04-05 22:07:31,326] - ExecuteReader took 2 ms
DEBUG [2011-04-05 22:07:31,327] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:31,327] - processing result set
DEBUG [2011-04-05 22:07:31,327] - result set row: 0
DEBUG [2011-04-05 22:07:31,327] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,327] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,327] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,327] - returning 'Mr. Big' as column: Name0_0_
DEBUG [2011-04-05 22:07:31,327] - returning null as column: Chocolat3_0_0_
DEBUG [2011-04-05 22:07:31,327] - done processing result set (1 rows)
DEBUG [2011-04-05 22:07:31,327] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:31,327] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:31,327] - DataReader was closed after 2 ms
DEBUG [2011-04-05 22:07:31,327] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:31,327] - total objects hydrated: 1
DEBUG [2011-04-05 22:07:31,327] - resolving associations for [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,327] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:31,328] - done materializing entity [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,328] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:31,328] - done entity load
DEBUG [2011-04-05 22:07:31,328] - deleting a persistent instance
DEBUG [2011-04-05 22:07:31,329] - deleting [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,330] - setting cache mode to: Get
DEBUG [2011-04-05 22:07:31,331] - setting cache mode to: Normal
DEBUG [2011-04-05 22:07:31,333] - setting cache mode to: Get
DEBUG [2011-04-05 22:07:31,333] - setting cache mode to: Normal
DEBUG [2011-04-05 22:07:31,334] - Start Commit
DEBUG [2011-04-05 22:07:31,337] - flushing session
DEBUG [2011-04-05 22:07:31,337] - processing flush-time cascades
DEBUG [2011-04-05 22:07:31,338] - dirty checking collections
DEBUG [2011-04-05 22:07:31,340] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 22:07:31,347] - Processing unreferenced collections
DEBUG [2011-04-05 22:07:31,348] - Collection dereferenced: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:31,349] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 22:07:31,350] - Flushed: 0 insertions, 0 updates, 1 deletions to 1 objects
DEBUG [2011-04-05 22:07:31,350] - Flushed: 0 (re)creations, 0 updates, 1 removals to 1 collections
DEBUG [2011-04-05 22:07:31,351] - listing entities:
DEBUG [2011-04-05 22:07:31,354] - nhibernate_demo.Models.ChocolateBar{'ID'='2', 'Features'='<uninitialized>', 'Name'='Mr. Big', 'Chocolatier'='null'}
DEBUG [2011-04-05 22:07:31,354] - executing flush
DEBUG [2011-04-05 22:07:31,354] - registering flush begin
DEBUG [2011-04-05 22:07:31,358] - Deleting collection: [nhibernate_demo.Models.ChocolateBar.Features#2]
DEBUG [2011-04-05 22:07:31,358] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:31,358] - Building an IDbCommand object for the SqlString: UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = ?
DEBUG [2011-04-05 22:07:31,359] - binding '2' to parameter: 0
DEBUG [2011-04-05 22:07:31,359] - UPDATE [Feature] SET ChocolateBar_id = null WHERE ChocolateBar_id = @p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:31,359] - Enlist Command
DEBUG [2011-04-05 22:07:31,382] - ExecuteNonQuery took 22 ms
DEBUG [2011-04-05 22:07:31,382] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:31,382] - done deleting collection
DEBUG [2011-04-05 22:07:31,388] - Deleting entity: [nhibernate_demo.Models.ChocolateBar#2]
DEBUG [2011-04-05 22:07:31,388] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:31,389] - Building an IDbCommand object for the SqlString: DELETE FROM [ChocolateBar] WHERE ID = ?
DEBUG [2011-04-05 22:07:31,389] - binding '2' to parameter: 0
DEBUG [2011-04-05 22:07:31,389] - DELETE FROM [ChocolateBar] WHERE ID = @p0;@p0 = 2 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:31,389] - Enlist Command
DEBUG [2011-04-05 22:07:31,390] - ExecuteNonQuery took 1 ms
DEBUG [2011-04-05 22:07:31,395] - ExecuteBatch for 1 statements took 0 ms
DEBUG [2011-04-05 22:07:31,395] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:31,395] - registering flush end
DEBUG [2011-04-05 22:07:31,396] - post flush
DEBUG [2011-04-05 22:07:31,398] - before transaction completion
DEBUG [2011-04-05 22:07:31,398] - IDbTransaction Committed
DEBUG [2011-04-05 22:07:31,399] - transaction completion
DEBUG [2011-04-05 22:07:31,399] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:31,399] - Closing connection
DEBUG [2011-04-05 22:07:31,399] - IDbTransaction disposed.
DEBUG [2011-04-05 22:07:32,412] - [session-id=f1246978-6fb1-4be9-8793-4c2fb39510e5] opened session at timestamp: 634376380524, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:32,413] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:32,413] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:32,413] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:07:32,413] - named parameters: {}
DEBUG [2011-04-05 22:07:32,413] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:32,413] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:07:32,413] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:32,414] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:32,414] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:32,414] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:32,414] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:32,414] - processing result set
DEBUG [2011-04-05 22:07:32,414] - done processing result set (0 rows)
DEBUG [2011-04-05 22:07:32,414] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:32,414] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:32,414] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:07:32,414] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:32,414] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:32,414] - Closing connection
DEBUG [2011-04-05 22:07:32,414] - total objects hydrated: 0
DEBUG [2011-04-05 22:07:32,414] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:32,414] - after autocommit
DEBUG [2011-04-05 22:07:32,414] - transaction completion
DEBUG [2011-04-05 22:07:32,414] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:39,135] - [session-id=be2d898a-227a-436b-91cc-e53aa074a0a7] executing real Dispose(False)
DEBUG [2011-04-05 22:07:39,135] - [session-id=f1246978-6fb1-4be9-8793-4c2fb39510e5] executing real Dispose(False)
DEBUG [2011-04-05 22:07:42,817] - [session-id=ed51920c-c31f-4674-80aa-9fe49ac7b64b] opened session at timestamp: 634376380628, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:42,817] - Begin (Unspecified)
DEBUG [2011-04-05 22:07:42,818] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:42,824] - unsaved-value: 0
DEBUG [2011-04-05 22:07:42,824] - transient instance of: nhibernate_demo.Models.ChocolateBar
DEBUG [2011-04-05 22:07:42,825] - saving transient instance
DEBUG [2011-04-05 22:07:42,826] - saving [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:07:42,828] - executing insertions
DEBUG [2011-04-05 22:07:42,830] - executing identity-insert immediately
DEBUG [2011-04-05 22:07:42,832] - Inserting entity: nhibernate_demo.Models.ChocolateBar (native id)
DEBUG [2011-04-05 22:07:42,833] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:42,833] - Building an IDbCommand object for the SqlString: INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (?, ?); select SCOPE_IDENTITY()
DEBUG [2011-04-05 22:07:42,833] - Dehydrating entity: [nhibernate_demo.Models.ChocolateBar#<null>]
DEBUG [2011-04-05 22:07:42,834] - binding 'Mr. Big' to parameter: 0
DEBUG [2011-04-05 22:07:42,835] - binding null to parameter: 1
DEBUG [2011-04-05 22:07:42,835] - INSERT INTO [ChocolateBar] (Name, ChocolatierID) VALUES (@p0, @p1); select SCOPE_IDENTITY();@p0 = 'Mr. Big' [Type: String (4000)], @p1 = NULL [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:42,835] - Enlist Command
DEBUG [2011-04-05 22:07:42,836] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:42,836] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:42,836] - returning '3' as column: 
DEBUG [2011-04-05 22:07:42,836] - Natively generated identity: 3
DEBUG [2011-04-05 22:07:42,836] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:42,836] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:42,836] - DataReader was closed after 1 ms
DEBUG [2011-04-05 22:07:42,836] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:42,838] - Start Commit
DEBUG [2011-04-05 22:07:42,838] - flushing session
DEBUG [2011-04-05 22:07:42,838] - processing flush-time cascades
DEBUG [2011-04-05 22:07:42,839] - dirty checking collections
DEBUG [2011-04-05 22:07:42,839] - Flushing entities and processing referenced collections
DEBUG [2011-04-05 22:07:42,840] - Processing unreferenced collections
DEBUG [2011-04-05 22:07:42,840] - Scheduling collection removes/(re)creates/updates
DEBUG [2011-04-05 22:07:42,840] - Flushed: 0 insertions, 0 updates, 0 deletions to 1 objects
DEBUG [2011-04-05 22:07:42,840] - Flushed: 0 (re)creations, 0 updates, 0 removals to 0 collections
DEBUG [2011-04-05 22:07:42,840] - listing entities:
DEBUG [2011-04-05 22:07:42,840] - nhibernate_demo.Models.ChocolateBar{'ID'='3', 'Features'='null', 'Name'='Mr. Big', 'Chocolatier'='null'}
DEBUG [2011-04-05 22:07:42,840] - executing flush
DEBUG [2011-04-05 22:07:42,840] - registering flush begin
DEBUG [2011-04-05 22:07:42,840] - registering flush end
DEBUG [2011-04-05 22:07:42,840] - post flush
DEBUG [2011-04-05 22:07:42,841] - before transaction completion
DEBUG [2011-04-05 22:07:42,851] - IDbTransaction Committed
DEBUG [2011-04-05 22:07:42,851] - transaction completion
DEBUG [2011-04-05 22:07:42,851] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:42,851] - Closing connection
DEBUG [2011-04-05 22:07:42,851] - IDbTransaction disposed.
DEBUG [2011-04-05 22:07:43,856] - [session-id=1b871adb-f912-4e82-9ec1-1296dc0534d3] opened session at timestamp: 634376380638, for session factory: [/8798742105c94f2f86701378bc28a06d]
DEBUG [2011-04-05 22:07:43,857] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:43,858] - located HQL query plan in cache (NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar])
DEBUG [2011-04-05 22:07:43,858] - find: NHibernate.Linq.NhQueryable`1[nhibernate_demo.Models.ChocolateBar]
DEBUG [2011-04-05 22:07:43,858] - named parameters: {}
DEBUG [2011-04-05 22:07:43,858] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:43,858] - Building an IDbCommand object for the SqlString: select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
 INFO [2011-04-05 22:07:43,858] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:43,858] - select chocolateb0_.ID as ID0_, chocolateb0_.Name as Name0_, chocolateb0_.ChocolatierID as Chocolat3_0_ from [ChocolateBar] chocolateb0_
DEBUG [2011-04-05 22:07:43,858] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:43,858] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:43,858] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:43,858] - processing result set
DEBUG [2011-04-05 22:07:43,858] - result set row: 0
DEBUG [2011-04-05 22:07:43,858] - returning '3' as column: ID0_
DEBUG [2011-04-05 22:07:43,858] - result row: EntityKey[nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,858] - Initializing object from DataReader: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,858] - Hydrating entity: [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,858] - returning 'Mr. Big' as column: Name0_
DEBUG [2011-04-05 22:07:43,859] - returning null as column: Chocolat3_0_
DEBUG [2011-04-05 22:07:43,859] - done processing result set (1 rows)
DEBUG [2011-04-05 22:07:43,859] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:43,859] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:43,859] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:07:43,859] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:43,859] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:43,859] - Closing connection
DEBUG [2011-04-05 22:07:43,859] - total objects hydrated: 1
DEBUG [2011-04-05 22:07:43,859] - resolving associations for [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,859] - creating collection wrapper:[nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,859] - done materializing entity [nhibernate_demo.Models.ChocolateBar#3]
DEBUG [2011-04-05 22:07:43,859] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:43,859] - after autocommit
DEBUG [2011-04-05 22:07:43,859] - transaction completion
DEBUG [2011-04-05 22:07:43,859] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:43,859] - initializing collection [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,859] - checking second-level cache
DEBUG [2011-04-05 22:07:43,859] - collection not cached
DEBUG [2011-04-05 22:07:43,859] - loading collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,859] - Opened new IDbCommand, open IDbCommands: 1
DEBUG [2011-04-05 22:07:43,859] - Building an IDbCommand object for the SqlString: SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=?
DEBUG [2011-04-05 22:07:43,859] - BindParameters(Positional0:NHibernate.Type.Int32Type) 3 -> [0]
DEBUG [2011-04-05 22:07:43,859] - binding '3' to parameter: 0
 INFO [2011-04-05 22:07:43,859] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0
DEBUG [2011-04-05 22:07:43,859] - SELECT features0_.ChocolateBar_id as Chocolat3_1_, features0_.ID as ID1_, features0_.ID as ID2_0_, features0_.Name as Name2_0_ FROM [Feature] features0_ WHERE features0_.ChocolateBar_id=@p0;@p0 = 3 [Type: Int32 (0)]
DEBUG [2011-04-05 22:07:43,859] - Obtaining IDbConnection from Driver
DEBUG [2011-04-05 22:07:43,860] - ExecuteReader took 0 ms
DEBUG [2011-04-05 22:07:43,860] - Opened IDataReader, open IDataReaders: 1
DEBUG [2011-04-05 22:07:43,860] - result set contains (possibly empty) collection: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,860] - constructing collection load context for result set [NHibernate.Driver.NHybridDataReader]
DEBUG [2011-04-05 22:07:43,860] - starting attempt to find loading collection [[nhibernate_demo.Models.ChocolateBar.Features#3]]
DEBUG [2011-04-05 22:07:43,860] - collection not yet initialized; initializing
DEBUG [2011-04-05 22:07:43,860] - processing result set
DEBUG [2011-04-05 22:07:43,860] - done processing result set (0 rows)
DEBUG [2011-04-05 22:07:43,860] - running NHybridDataReader.Dispose()
DEBUG [2011-04-05 22:07:43,860] - Closed IDataReader, open IDataReaders :0
DEBUG [2011-04-05 22:07:43,860] - DataReader was closed after 0 ms
DEBUG [2011-04-05 22:07:43,860] - Closed IDbCommand, open IDbCommands: 0
DEBUG [2011-04-05 22:07:43,860] - aggressively releasing database connection
DEBUG [2011-04-05 22:07:43,860] - Closing connection
DEBUG [2011-04-05 22:07:43,860] - total objects hydrated: 0
DEBUG [2011-04-05 22:07:43,860] - attempting to locate loading collection entry [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] in any result-set context
DEBUG [2011-04-05 22:07:43,860] - collection [CollectionKey[nhibernate_demo.Models.ChocolateBar.Features#3]] not located in load context
DEBUG [2011-04-05 22:07:43,860] - removing collection load entry [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@1164129]
DEBUG [2011-04-05 22:07:43,860] - 1 collections were found in result set for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:43,860] - ending loading collection [NHibernate.Engine.Loading.LoadingCollectionEntry<rs=NHibernate.Driver.NHybridDataReader, coll=[nhibernate_demo.Models.ChocolateBar.Features#3]>@1164129]
DEBUG [2011-04-05 22:07:43,860] - collection fully initialized: [nhibernate_demo.Models.ChocolateBar.Features#3]
DEBUG [2011-04-05 22:07:43,860] - 1 collections initialized for role: nhibernate_demo.Models.ChocolateBar.Features
DEBUG [2011-04-05 22:07:43,860] - initializing non-lazy collections
DEBUG [2011-04-05 22:07:43,860] - done loading collection
DEBUG [2011-04-05 22:07:43,860] - collection initialized
